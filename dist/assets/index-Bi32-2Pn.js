const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/solana-CghHl2Ac.js","assets/vendor-CH9ipRDm.js"])))=>i.map(i=>d[i]);
import{r as c,j as a,V as Ka,R as Ga,A as Ha,C as Ya,T as Qa,D as Xa,P as uo,o as U,v as mo,c as hn,a as Ja,b as Za,d as fo,e as ho,f as es,g as go,u as pt,h as po,i as ut,k as Ye,l as xo,m as wo,S as yo,n as ts,p as bo,q as ns,s as vo,t as as,O as ko,w as Po,W as No,x as So,y as Ao,z as jo,B as ss,E as To,F as Co,G as rs,H as Eo,I as Mo,J as Ro}from"./ui-MPuW7GbJ.js";import{b as Io}from"./vendor-CH9ipRDm.js";import{P as ye,B as $e,a as Kt,C as os,A as ze,g as wt,b as Mt,S as Bn,T as yt,c as Gt,d as ua,e as ct,f as Do,h as ma,i as fa}from"./solana-CghHl2Ac.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const _o=1,Lo=1e6;let Tn=0;function Bo(){return Tn=(Tn+1)%Number.MAX_SAFE_INTEGER,Tn.toString()}const Cn=new Map,ha=e=>{if(Cn.has(e))return;const t=setTimeout(()=>{Cn.delete(e),Ht({type:"REMOVE_TOAST",toastId:e})},Lo);Cn.set(e,t)},Oo=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_o)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ha(n):e.toasts.forEach(s=>{ha(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},on=[];let ln={toasts:[]};function Ht(e){ln=Oo(ln,e),on.forEach(t=>{t(ln)})}function Fo({...e}){const t=Bo(),n=r=>Ht({type:"UPDATE_TOAST",toast:{...r,id:t}}),s=()=>Ht({type:"DISMISS_TOAST",toastId:t});return Ht({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:r=>{r||s()}}}),{id:t,dismiss:s,update:n}}function Uo(){const[e,t]=c.useState(ln);return c.useEffect(()=>(on.push(t),()=>{const n=on.indexOf(t);n>-1&&on.splice(n,1)}),[e]),{...e,toast:Fo,dismiss:n=>Ht({type:"DISMISS_TOAST",toastId:n})}}function is(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=is(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ls(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=is(e))&&(s&&(s+=" "),s+=t);return s}const ga=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pa=ls,ta=(e,t)=>n=>{var s;if(t?.variants==null)return pa(e,n?.class,n?.className);const{variants:r,defaultVariants:i}=t,o=Object.keys(r).map(d=>{const g=n?.[d],h=i?.[d];if(g===null)return null;const w=ga(g)||ga(h);return r[d][w]}),l=n&&Object.entries(n).reduce((d,g)=>{let[h,w]=g;return w===void 0||(d[h]=w),d},{}),u=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,g)=>{let{class:h,className:w,...m}=g;return Object.entries(m).every(S=>{let[p,y]=S;return Array.isArray(y)?y.includes({...i,...l}[p]):{...i,...l}[p]===y})?[...d,h,w]:d},[]);return pa(e,o,u,n?.class,n?.className)};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vo=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),xa=e=>{const t=Vo(e);return t.charAt(0).toUpperCase()+t.slice(1)},cs=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),zo=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},u)=>c.createElement("svg",{ref:u,...Wo,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:cs("lucide",r),...!i&&!zo(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,g])=>c.createElement(d,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const n=c.forwardRef(({className:s,...r},i)=>c.createElement(qo,{ref:i,iconNode:t,className:cs(`lucide-${$o(xa(e))}`,`lucide-${e}`,s),...r}));return n.displayName=xa(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Go=Oe("arrow-right",Ko);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],ds=Oe("chart-line",Ho);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Qo=Oe("crown",Yo);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Jo=Oe("gamepad-2",Xo);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],ei=Oe("lock-open",Zo);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ni=Oe("log-out",ti);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],wa=Oe("medal",ai);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ri=Oe("menu",si);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],us=Oe("refresh-cw",oi);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ms=Oe("shield-check",ii);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],En=Oe("shield",li);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gn=Oe("sparkles",ci);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mn=Oe("target",di);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],mi=Oe("timer",ui);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hi=Oe("trending-up",fi);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Rn=Oe("trophy",gi);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Zt=Oe("wallet",pi);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fs=Oe("x",xi);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hs=Oe("zap",wi),na="-",yi=e=>{const t=vi(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(na);return l[0]===""&&l.length!==1&&l.shift(),gs(l,t)||bi(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&s[o]?[...u,...s[o]]:u}}},gs=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?gs(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const i=e.join(na);return t.validators.find(({validator:o})=>o(i))?.classGroupId},ya=/^\[(.+)\]$/,bi=e=>{if(ya.test(e)){const t=ya.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},vi=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Pi(Object.entries(e.classGroups),n).forEach(([i,o])=>{On(o,s,i,t)}),s},On=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const i=r===""?t:ba(t,r);i.classGroupId=n;return}if(typeof r=="function"){if(ki(r)){On(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{On(o,ba(t,i),n,s)})})},ba=(e,t)=>{let n=e;return t.split(na).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},ki=e=>e.isThemeGetter,Pi=(e,t)=>t?e.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,r]}):e,Ni=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},ps="!",Si=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,r=t[0],i=t.length,o=l=>{const u=[];let d=0,g=0,h;for(let y=0;y<l.length;y++){let k=l[y];if(d===0){if(k===r&&(s||l.slice(y,y+i)===t)){u.push(l.slice(g,y)),g=y+i;continue}if(k==="/"){h=y;continue}}k==="["?d++:k==="]"&&d--}const w=u.length===0?l:l.substring(g),m=w.startsWith(ps),S=m?w.substring(1):w,p=h&&h>g?h-g:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Ai=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},ji=e=>({cache:Ni(e.cacheSize),parseClassName:Si(e),...yi(e)}),Ti=/\s+/,Ci=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=t,i=[],o=e.trim().split(Ti);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:g,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:m}=n(d);let S=!!m,p=s(S?w.substring(0,m):w);if(!p){if(!S){l=d+(l.length>0?" "+l:l);continue}if(p=s(w),!p){l=d+(l.length>0?" "+l:l);continue}S=!1}const y=Ai(g).join(":"),k=h?y+ps:y,$=k+p;if(i.includes($))continue;i.push($);const A=r(p,S);for(let F=0;F<A.length;++F){const Z=A[F];i.push(k+Z)}l=d+(l.length>0?" "+l:l)}return l};function Ei(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=xs(t))&&(s&&(s+=" "),s+=n);return s}const xs=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=xs(e[s]))&&(n&&(n+=" "),n+=t);return n};function Mi(e,...t){let n,s,r,i=o;function o(u){const d=t.reduce((g,h)=>h(g),e());return n=ji(d),s=n.cache.get,r=n.cache.set,i=l,l(u)}function l(u){const d=s(u);if(d)return d;const g=Ci(u,n);return r(u,g),g}return function(){return i(Ei.apply(null,arguments))}}const Ae=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ws=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ri=/^\d+\/\d+$/,Ii=new Set(["px","full","screen"]),Di=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_i=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Li=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bi=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Oi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xt=e=>_t(e)||Ii.has(e)||Ri.test(e),Pt=e=>Ft(e,"length",Ki),_t=e=>!!e&&!Number.isNaN(Number(e)),In=e=>Ft(e,"number",_t),Wt=e=>!!e&&Number.isInteger(Number(e)),Fi=e=>e.endsWith("%")&&_t(e.slice(0,-1)),ce=e=>ws.test(e),Nt=e=>Di.test(e),Ui=new Set(["length","size","percentage"]),$i=e=>Ft(e,Ui,ys),Vi=e=>Ft(e,"position",ys),zi=new Set(["image","url"]),Wi=e=>Ft(e,zi,Hi),qi=e=>Ft(e,"",Gi),qt=()=>!0,Ft=(e,t,n)=>{const s=ws.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Ki=e=>_i.test(e)&&!Li.test(e),ys=()=>!1,Gi=e=>Bi.test(e),Hi=e=>Oi.test(e),Yi=()=>{const e=Ae("colors"),t=Ae("spacing"),n=Ae("blur"),s=Ae("brightness"),r=Ae("borderColor"),i=Ae("borderRadius"),o=Ae("borderSpacing"),l=Ae("borderWidth"),u=Ae("contrast"),d=Ae("grayscale"),g=Ae("hueRotate"),h=Ae("invert"),w=Ae("gap"),m=Ae("gradientColorStops"),S=Ae("gradientColorStopPositions"),p=Ae("inset"),y=Ae("margin"),k=Ae("opacity"),$=Ae("padding"),A=Ae("saturate"),F=Ae("scale"),Z=Ae("sepia"),se=Ae("skew"),ae=Ae("space"),ie=Ae("translate"),ve=()=>["auto","contain","none"],de=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",ce,t],I=()=>[ce,t],ke=()=>["",xt,Pt],ge=()=>["auto",_t,ce],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],f=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],v=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",ce],b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[_t,ce];return{cacheSize:500,separator:":",theme:{colors:[qt],spacing:[xt,Pt],blur:["none","",Nt,ce],brightness:V(),borderColor:[e],borderRadius:["none","","full",Nt,ce],borderSpacing:I(),borderWidth:ke(),contrast:V(),grayscale:j(),hueRotate:V(),invert:j(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[Fi,Pt],inset:ee(),margin:ee(),opacity:V(),padding:I(),saturate:V(),scale:V(),sepia:j(),skew:V(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Nt]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),ce]}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:ve()}],"overscroll-x":[{"overscroll-x":ve()}],"overscroll-y":[{"overscroll-y":ve()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wt,ce]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Wt,ce]}],"grid-cols":[{"grid-cols":[qt]}],"col-start-end":[{col:["auto",{span:["full",Wt,ce]},ce]}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":[qt]}],"row-start-end":[{row:["auto",{span:[Wt,ce]},ce]}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...v()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...v(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...v(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[$]}],px:[{px:[$]}],py:[{py:[$]}],ps:[{ps:[$]}],pe:[{pe:[$]}],pt:[{pt:[$]}],pr:[{pr:[$]}],pb:[{pb:[$]}],pl:[{pl:[$]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[ae]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ae]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Nt]},Nt]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Nt,Pt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",In]}],"font-family":[{font:[qt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",_t,In]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xt,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...f(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xt,Pt]}],"underline-offset":[{"underline-offset":["auto",xt,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),Vi]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$i]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wi]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...f(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:f()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...f()]}],"outline-offset":[{"outline-offset":[xt,ce]}],"outline-w":[{outline:[xt,Pt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ke()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[xt,Pt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Nt,qi]}],"shadow-color":[{shadow:[qt]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Nt,ce]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[h]}],saturate:[{saturate:[A]}],sepia:[{sepia:[Z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[Wt,ce]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xt,Pt,In]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qi=Mi(Yi);function be(...e){return Qi(ls(e))}const Xi=uo,bs=c.forwardRef(({className:e,...t},n)=>a.jsx(Ka,{ref:n,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bs.displayName=Ka.displayName;const Ji=ta("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vs=c.forwardRef(({className:e,variant:t,...n},s)=>a.jsx(Ga,{ref:s,className:be(Ji({variant:t}),e),...n}));vs.displayName=Ga.displayName;const Zi=c.forwardRef(({className:e,...t},n)=>a.jsx(Ha,{ref:n,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Zi.displayName=Ha.displayName;const ks=c.forwardRef(({className:e,...t},n)=>a.jsx(Ya,{ref:n,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(fs,{className:"h-4 w-4"})}));ks.displayName=Ya.displayName;const Ps=c.forwardRef(({className:e,...t},n)=>a.jsx(Qa,{ref:n,className:be("text-sm font-semibold",e),...t}));Ps.displayName=Qa.displayName;const Ns=c.forwardRef(({className:e,...t},n)=>a.jsx(Xa,{ref:n,className:be("text-sm opacity-90",e),...t}));Ns.displayName=Xa.displayName;function el(){const{toasts:e}=Uo();return a.jsxs(Xi,{children:[e.map(function({id:t,title:n,description:s,action:r,...i}){return a.jsxs(vs,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Ps,{children:n}),s&&a.jsx(Ns,{children:s})]}),r,a.jsx(ks,{})]},t)}),a.jsx(bs,{})]})}var en={},va;function tl(){if(va)return en;va=1;var e=Io();return en.createRoot=e.createRoot,en.hydrateRoot=e.hydrateRoot,en}var nl=tl(),al=(e,t,n,s,r,i,o,l)=>{let u=document.documentElement,d=["light","dark"];function g(m){(Array.isArray(e)?e:[e]).forEach(S=>{let p=S==="class",y=p&&i?r.map(k=>i[k]||k):r;p?(u.classList.remove(...y),u.classList.add(i&&i[m]?i[m]:m)):u.setAttribute(S,m)}),h(m)}function h(m){l&&d.includes(m)&&(u.style.colorScheme=m)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)g(s);else try{let m=localStorage.getItem(t)||n,S=o&&m==="system"?w():m;g(S)}catch{}},sl=c.createContext(void 0),rl={setTheme:e=>{},themes:[]},ol=()=>{var e;return(e=c.useContext(sl))!=null?e:rl};c.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,themes:l,nonce:u,scriptProps:d})=>{let g=JSON.stringify([n,t,i,e,l,o,s,r]).slice(1,-1);return c.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${al.toString()})(${g})`}})});var il=e=>{switch(e){case"success":return dl;case"info":return ml;case"warning":return ul;case"error":return fl;default:return null}},ll=Array(12).fill(0),cl=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},ll.map((n,s)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),dl=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ul=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ml=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fl=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hl=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gl=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Fn=1,pl=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,r=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Fn++,i=this.toasts.find(l=>l.id===r),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...e,id:r,title:n}),{...l,...e,id:r,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:r}),r},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),r=n!==void 0,i,o=s.then(async u=>{if(i=["resolve",u],U.isValidElement(u))r=!1,this.create({id:n,type:"default",message:u});else if(wl(u)&&!u.ok){r=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:n,type:"error",message:d,description:g})}else if(t.success!==void 0){r=!1;let d=typeof t.success=="function"?await t.success(u):t.success,g=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"success",message:d,description:g})}}).catch(async u=>{if(i=["reject",u],t.error!==void 0){r=!1;let d=typeof t.error=="function"?await t.error(u):t.error,g=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"error",message:d,description:g})}}).finally(()=>{var u;r&&(this.dismiss(n),n=void 0),(u=t.finally)==null||u.call(t)}),l=()=>new Promise((u,d)=>o.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=t?.id||Fn++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},nt=new pl,xl=(e,t)=>{let n=t?.id||Fn++;return nt.addToast({title:e,...t,id:n}),n},wl=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yl=xl,bl=()=>nt.toasts,vl=()=>nt.getActiveToasts();Object.assign(yl,{success:nt.success,info:nt.info,warning:nt.warning,error:nt.error,custom:nt.custom,message:nt.message,promise:nt.promise,dismiss:nt.dismiss,loading:nt.loading},{getHistory:bl,getToasts:vl});function kl(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}kl(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tn(e){return e.label!==void 0}var Pl=3,Nl="32px",Sl="16px",ka=4e3,Al=356,jl=14,Tl=20,Cl=200;function it(...e){return e.filter(Boolean).join(" ")}function El(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var Ml=e=>{var t,n,s,r,i,o,l,u,d,g,h;let{invert:w,toast:m,unstyled:S,interacting:p,setHeights:y,visibleToasts:k,heights:$,index:A,toasts:F,expanded:Z,removeToast:se,defaultRichColors:ae,closeButton:ie,style:ve,cancelButtonStyle:de,actionButtonStyle:ee,className:I="",descriptionClassName:ke="",duration:ge,position:x,gap:f,loadingIcon:_,expandByDefault:v,classNames:j,icons:b,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:L}=e,[C,W]=U.useState(null),[le,re]=U.useState(null),[G,D]=U.useState(!1),[we,je]=U.useState(!1),[R,Te]=U.useState(!1),[Qe,Xe]=U.useState(!1),[Ce,Ie]=U.useState(!1),[rt,Ze]=U.useState(0),[mt,Ke]=U.useState(0),N=U.useRef(m.duration||ge||ka),P=U.useRef(null),B=U.useRef(null),z=A===0,q=A+1<=k,O=m.type,M=m.dismissible!==!1,X=m.className||"",E=m.descriptionClassName||"",J=U.useMemo(()=>$.findIndex(Y=>Y.toastId===m.id)||0,[$,m.id]),fe=U.useMemo(()=>{var Y;return(Y=m.closeButton)!=null?Y:ie},[m.closeButton,ie]),Ne=U.useMemo(()=>m.duration||ge||ka,[m.duration,ge]),Q=U.useRef(0),te=U.useRef(0),pe=U.useRef(0),ne=U.useRef(null),[ue,H]=x.split("-"),he=U.useMemo(()=>$.reduce((Y,me,oe)=>oe>=J?Y:Y+me.height,0),[$,J]),Ee=gl(),De=m.invert||w,Fe=O==="loading";te.current=U.useMemo(()=>J*f+he,[J,he]),U.useEffect(()=>{N.current=Ne},[Ne]),U.useEffect(()=>{D(!0)},[]),U.useEffect(()=>{let Y=B.current;if(Y){let me=Y.getBoundingClientRect().height;return Ke(me),y(oe=>[{toastId:m.id,height:me,position:m.position},...oe]),()=>y(oe=>oe.filter(_e=>_e.toastId!==m.id))}},[y,m.id]),U.useLayoutEffect(()=>{if(!G)return;let Y=B.current,me=Y.style.height;Y.style.height="auto";let oe=Y.getBoundingClientRect().height;Y.style.height=me,Ke(oe),y(_e=>_e.find(K=>K.toastId===m.id)?_e.map(K=>K.toastId===m.id?{...K,height:oe}:K):[{toastId:m.id,height:oe,position:m.position},..._e])},[G,m.title,m.description,y,m.id]);let Se=U.useCallback(()=>{je(!0),Ze(te.current),y(Y=>Y.filter(me=>me.toastId!==m.id)),setTimeout(()=>{se(m)},Cl)},[m,se,y,te]);U.useEffect(()=>{if(m.promise&&O==="loading"||m.duration===1/0||m.type==="loading")return;let Y;return Z||p||L&&Ee?(()=>{if(pe.current<Q.current){let me=new Date().getTime()-Q.current;N.current=N.current-me}pe.current=new Date().getTime()})():N.current!==1/0&&(Q.current=new Date().getTime(),Y=setTimeout(()=>{var me;(me=m.onAutoClose)==null||me.call(m,m),Se()},N.current)),()=>clearTimeout(Y)},[Z,p,m,O,L,Ee,Se]),U.useEffect(()=>{m.delete&&Se()},[Se,m.delete]);function Ge(){var Y,me,oe;return b!=null&&b.loading?U.createElement("div",{className:it(j?.loader,(Y=m?.classNames)==null?void 0:Y.loader,"sonner-loader"),"data-visible":O==="loading"},b.loading):_?U.createElement("div",{className:it(j?.loader,(me=m?.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":O==="loading"},_):U.createElement(cl,{className:it(j?.loader,(oe=m?.classNames)==null?void 0:oe.loader),visible:O==="loading"})}return U.createElement("li",{tabIndex:0,ref:B,className:it(I,X,j?.toast,(t=m?.classNames)==null?void 0:t.toast,j?.default,j?.[O],(n=m?.classNames)==null?void 0:n[O]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:ae,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":G,"data-promise":!!m.promise,"data-swiped":Ce,"data-removed":we,"data-visible":q,"data-y-position":ue,"data-x-position":H,"data-index":A,"data-front":z,"data-swiping":R,"data-dismissible":M,"data-type":O,"data-invert":De,"data-swipe-out":Qe,"data-swipe-direction":le,"data-expanded":!!(Z||v&&G),style:{"--index":A,"--toasts-before":A,"--z-index":F.length-A,"--offset":`${we?rt:te.current}px`,"--initial-height":v?"auto":`${mt}px`,...ve,...m.style},onDragEnd:()=>{Te(!1),W(null),ne.current=null},onPointerDown:Y=>{Fe||!M||(P.current=new Date,Ze(te.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(Te(!0),ne.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,me,oe,_e;if(Qe||!M)return;ne.current=null;let K=Number(((Y=B.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pe=Number(((me=B.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),st=new Date().getTime()-((oe=P.current)==null?void 0:oe.getTime()),Ue=C==="x"?K:Pe,ot=Math.abs(Ue)/st;if(Math.abs(Ue)>=Tl||ot>.11){Ze(te.current),(_e=m.onDismiss)==null||_e.call(m,m),re(C==="x"?K>0?"right":"left":Pe>0?"down":"up"),Se(),Xe(!0),Ie(!1);return}Te(!1),W(null)},onPointerMove:Y=>{var me,oe,_e,K;if(!ne.current||!M||((me=window.getSelection())==null?void 0:me.toString().length)>0)return;let Pe=Y.clientY-ne.current.y,st=Y.clientX-ne.current.x,Ue=(oe=e.swipeDirections)!=null?oe:El(x);!C&&(Math.abs(st)>1||Math.abs(Pe)>1)&&W(Math.abs(st)>Math.abs(Pe)?"x":"y");let ot={x:0,y:0};C==="y"?(Ue.includes("top")||Ue.includes("bottom"))&&(Ue.includes("top")&&Pe<0||Ue.includes("bottom")&&Pe>0)&&(ot.y=Pe):C==="x"&&(Ue.includes("left")||Ue.includes("right"))&&(Ue.includes("left")&&st<0||Ue.includes("right")&&st>0)&&(ot.x=st),(Math.abs(ot.x)>0||Math.abs(ot.y)>0)&&Ie(!0),(_e=B.current)==null||_e.style.setProperty("--swipe-amount-x",`${ot.x}px`),(K=B.current)==null||K.style.setProperty("--swipe-amount-y",`${ot.y}px`)}},fe&&!m.jsx?U.createElement("button",{"aria-label":V,"data-disabled":Fe,"data-close-button":!0,onClick:Fe||!M?()=>{}:()=>{var Y;Se(),(Y=m.onDismiss)==null||Y.call(m,m)},className:it(j?.closeButton,(r=m?.classNames)==null?void 0:r.closeButton)},(i=b?.close)!=null?i:hl):null,m.jsx||c.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:U.createElement(U.Fragment,null,O||m.icon||m.promise?U.createElement("div",{"data-icon":"",className:it(j?.icon,(o=m?.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ge():null,m.type!=="loading"?m.icon||b?.[O]||il(O):null):null,U.createElement("div",{"data-content":"",className:it(j?.content,(l=m?.classNames)==null?void 0:l.content)},U.createElement("div",{"data-title":"",className:it(j?.title,(u=m?.classNames)==null?void 0:u.title)},typeof m.title=="function"?m.title():m.title),m.description?U.createElement("div",{"data-description":"",className:it(ke,E,j?.description,(d=m?.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),c.isValidElement(m.cancel)?m.cancel:m.cancel&&tn(m.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||de,onClick:Y=>{var me,oe;tn(m.cancel)&&M&&((oe=(me=m.cancel).onClick)==null||oe.call(me,Y),Se())},className:it(j?.cancelButton,(g=m?.classNames)==null?void 0:g.cancelButton)},m.cancel.label):null,c.isValidElement(m.action)?m.action:m.action&&tn(m.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||ee,onClick:Y=>{var me,oe;tn(m.action)&&((oe=(me=m.action).onClick)==null||oe.call(me,Y),!Y.defaultPrevented&&Se())},className:it(j?.actionButton,(h=m?.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Pa(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Rl(e,t){let n={};return[e,t].forEach((s,r)=>{let i=r===1,o=i?"--mobile-offset":"--offset",l=i?Sl:Nl;function u(d){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):u(l)}),n}var Il=c.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:d,theme:g="light",richColors:h,duration:w,style:m,visibleToasts:S=Pl,toastOptions:p,dir:y=Pa(),gap:k=jl,loadingIcon:$,icons:A,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:Z}=e,[se,ae]=U.useState([]),ie=U.useMemo(()=>Array.from(new Set([s].concat(se.filter(L=>L.position).map(L=>L.position)))),[se,s]),[ve,de]=U.useState([]),[ee,I]=U.useState(!1),[ke,ge]=U.useState(!1),[x,f]=U.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_=U.useRef(null),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=U.useRef(null),b=U.useRef(!1),V=U.useCallback(L=>{ae(C=>{var W;return(W=C.find(le=>le.id===L.id))!=null&&W.delete||nt.dismiss(L.id),C.filter(({id:le})=>le!==L.id)})},[]);return U.useEffect(()=>nt.subscribe(L=>{if(L.dismiss){ae(C=>C.map(W=>W.id===L.id?{...W,delete:!0}:W));return}setTimeout(()=>{mo.flushSync(()=>{ae(C=>{let W=C.findIndex(le=>le.id===L.id);return W!==-1?[...C.slice(0,W),{...C[W],...L},...C.slice(W+1)]:[L,...C]})})})}),[]),U.useEffect(()=>{if(g!=="system"){f(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?f("dark"):f("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:C})=>{f(C?"dark":"light")})}catch{L.addListener(({matches:W})=>{try{f(W?"dark":"light")}catch(le){console.error(le)}})}},[g]),U.useEffect(()=>{se.length<=1&&I(!1)},[se]),U.useEffect(()=>{let L=C=>{var W,le;r.every(re=>C[re]||C.code===re)&&(I(!0),(W=_.current)==null||W.focus()),C.code==="Escape"&&(document.activeElement===_.current||(le=_.current)!=null&&le.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r]),U.useEffect(()=>{if(_.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,b.current=!1)}},[_.current]),U.createElement("section",{ref:t,"aria-label":`${F} ${v}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ie.map((L,C)=>{var W;let[le,re]=L.split("-");return se.length?U.createElement("ol",{key:L,dir:y==="auto"?Pa():y,tabIndex:-1,ref:_,className:l,"data-sonner-toaster":!0,"data-theme":x,"data-y-position":le,"data-lifted":ee&&se.length>1&&!i,"data-x-position":re,style:{"--front-toast-height":`${((W=ve[0])==null?void 0:W.height)||0}px`,"--width":`${Al}px`,"--gap":`${k}px`,...m,...Rl(u,d)},onBlur:G=>{b.current&&!G.currentTarget.contains(G.relatedTarget)&&(b.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||b.current||(b.current=!0,j.current=G.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{ke||I(!1)},onDragEnd:()=>I(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},se.filter(G=>!G.position&&C===0||G.position===L).map((G,D)=>{var we,je;return U.createElement(Ml,{key:G.id,icons:A,index:D,toast:G,defaultRichColors:h,duration:(we=p?.duration)!=null?we:w,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:n,visibleToasts:S,closeButton:(je=p?.closeButton)!=null?je:o,interacting:ke,position:L,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:V,toasts:se.filter(R=>R.position==G.position),heights:ve.filter(R=>R.position==G.position),setHeights:de,expandByDefault:i,gap:k,loadingIcon:$,expanded:ee,pauseWhenPageIsHidden:Z,swipeDirections:e.swipeDirections})})):null}))});const Dl=({...e})=>{const{theme:t="system"}=ol();return a.jsx(Il,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[pn]=hn("Tooltip",[Za]),aa=Za(),Ss="TooltipProvider",_l=700,Na="tooltip.open",[Ll,As]=pn(Ss),js=e=>{const{__scopeTooltip:t,delayDuration:n=_l,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=e,o=c.useRef(!0),l=c.useRef(!1),u=c.useRef(0);return c.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx(Ll,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:c.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:c.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:i})};js.displayName=Ss;var Ts="Tooltip",[mm,xn]=pn(Ts),Un="TooltipTrigger",Bl=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=xn(Un,n),i=As(Un,n),o=aa(n),l=c.useRef(null),u=pt(t,l,r.onTriggerChange),d=c.useRef(!1),g=c.useRef(!1),h=c.useCallback(()=>d.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(po,{asChild:!0,...o,children:a.jsx(ut.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:u,onPointerMove:Ye(e.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ye(e.onPointerLeave,()=>{r.onTriggerLeave(),g.current=!1}),onPointerDown:Ye(e.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ye(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:Ye(e.onBlur,r.onClose),onClick:Ye(e.onClick,r.onClose)})})});Bl.displayName=Un;var Ol="TooltipPortal",[fm,Fl]=pn(Ol,{forceMount:void 0}),Ot="TooltipContent",Cs=c.forwardRef((e,t)=>{const n=Fl(Ot,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=e,o=xn(Ot,e.__scopeTooltip);return a.jsx(Ja,{present:s||o.open,children:o.disableHoverableContent?a.jsx(Es,{side:r,...i,ref:t}):a.jsx(Ul,{side:r,...i,ref:t})})}),Ul=c.forwardRef((e,t)=>{const n=xn(Ot,e.__scopeTooltip),s=As(Ot,e.__scopeTooltip),r=c.useRef(null),i=pt(t,r),[o,l]=c.useState(null),{trigger:u,onClose:d}=n,g=r.current,{onPointerInTransitChange:h}=s,w=c.useCallback(()=>{l(null),h(!1)},[h]),m=c.useCallback((S,p)=>{const y=S.currentTarget,k={x:S.clientX,y:S.clientY},$=ql(k,y.getBoundingClientRect()),A=Kl(k,$),F=Gl(p.getBoundingClientRect()),Z=Yl([...A,...F]);l(Z),h(!0)},[h]);return c.useEffect(()=>()=>w(),[w]),c.useEffect(()=>{if(u&&g){const S=y=>m(y,g),p=y=>m(y,u);return u.addEventListener("pointerleave",S),g.addEventListener("pointerleave",p),()=>{u.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",p)}}},[u,g,m,w]),c.useEffect(()=>{if(o){const S=p=>{const y=p.target,k={x:p.clientX,y:p.clientY},$=u?.contains(y)||g?.contains(y),A=!Hl(k,o);$?w():A&&(w(),d())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,g,o,d,w]),a.jsx(Es,{...e,ref:i})}),[$l,Vl]=pn(Ts,{isInside:!1}),zl=es("TooltipContent"),Es=c.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,u=xn(Ot,n),d=aa(n),{onClose:g}=u;return c.useEffect(()=>(document.addEventListener(Na,g),()=>document.removeEventListener(Na,g)),[g]),c.useEffect(()=>{if(u.trigger){const h=w=>{w.target?.contains(u.trigger)&&g()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,g]),a.jsx(fo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:g,children:a.jsxs(ho,{"data-state":u.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(zl,{children:s}),a.jsx($l,{scope:n,isInside:!0,children:a.jsx(go,{id:u.contentId,role:"tooltip",children:r||s})})]})})});Cs.displayName=Ot;var Ms="TooltipArrow",Wl=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=aa(n);return Vl(Ms,n).isInside?null:a.jsx(xo,{...r,...s,ref:t})});Wl.displayName=Ms;function ql(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Kl(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Gl(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function Hl(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],u=t[o],d=l.x,g=l.y,h=u.x,w=u.y;g>s!=w>s&&n<(h-d)*(s-g)/(w-g)+d&&(r=!r)}return r}function Yl(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Ql(t)}function Ql(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Xl=js,Rs=Cs;const Jl=Xl,Zl=c.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(Rs,{ref:s,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Zl.displayName=Rs.displayName;var wn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ec={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},tc=class{#e=ec;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},$n=new tc;function nc(e){setTimeout(e,0)}var yn=typeof window>"u"||"Deno"in globalThis;function dt(){}function ac(e,t){return typeof e=="function"?e(t):e}function sc(e){return typeof e=="number"&&e>=0&&e!==1/0}function rc(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vn(e,t){return typeof e=="function"?e(t):e}function oc(e,t){return typeof e=="function"?e(t):e}function Sa(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==sa(o,t.options))return!1}else if(!Qt(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||i&&!i(t))}function Aa(e,t){const{exact:n,status:s,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Yt(t.options.mutationKey)!==Yt(i))return!1}else if(!Qt(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function sa(e,t){return(t?.queryKeyHashFn||Yt)(e)}function Yt(e){return JSON.stringify(e,(t,n)=>zn(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Qt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qt(e[n],t[n])):!1}var ic=Object.prototype.hasOwnProperty;function Is(e,t){if(e===t)return e;const n=ja(e)&&ja(t);if(!n&&!(zn(e)&&zn(t)))return t;const r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let u=0;for(let d=0;d<o;d++){const g=n?d:i[d],h=e[g],w=t[g];if(h===w){l[g]=h,(n?d<r:ic.call(e,g))&&u++;continue}if(h===null||w===null||typeof h!="object"||typeof w!="object"){l[g]=w;continue}const m=Is(h,w);l[g]=m,m===h&&u++}return r===o&&u===r?e:l}function ja(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zn(e){if(!Ta(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ta(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ta(e){return Object.prototype.toString.call(e)==="[object Object]"}function lc(e){return new Promise(t=>{$n.setTimeout(t,e)})}function cc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Is(e,t):t}function dc(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function uc(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var ra=Symbol();function Ds(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ra?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var mc=class extends wn{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!yn&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_s=new mc;function fc(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}var hc=nc;function gc(){let e=[],t=0,n=l=>{l()},s=l=>{l()},r=hc;const i=l=>{t?e.push(l):r(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&r(()=>{s(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var Je=gc(),pc=class extends wn{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!yn&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},fn=new pc;function xc(e){return Math.min(1e3*2**e,3e4)}function Ls(e){return(e??"online")==="online"?fn.isOnline():!0}var Wn=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Bs(e){let t=!1,n=0,s;const r=fc(),i=()=>r.status!=="pending",o=p=>{if(!i()){const y=new Wn(p);w(y),e.onCancel?.(y)}},l=()=>{t=!0},u=()=>{t=!1},d=()=>_s.isFocused()&&(e.networkMode==="always"||fn.isOnline())&&e.canRun(),g=()=>Ls(e.networkMode)&&e.canRun(),h=p=>{i()||(s?.(),r.resolve(p))},w=p=>{i()||(s?.(),r.reject(p))},m=()=>new Promise(p=>{s=y=>{(i()||d())&&p(y)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),S=()=>{if(i())return;let p;const y=n===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(k){p=Promise.reject(k)}Promise.resolve(p).then(h).catch(k=>{if(i())return;const $=e.retry??(yn?0:3),A=e.retryDelay??xc,F=typeof A=="function"?A(n,k):A,Z=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,k);if(t||!Z){w(k);return}n++,e.onFail?.(n,k),lc(F).then(()=>d()?void 0:m()).then(()=>{t?w(k):S()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(s?.(),r),cancelRetry:l,continueRetry:u,canStart:g,start:()=>(g()?S():m().then(S),r)}}var Os=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sc(this.gcTime)&&(this.#e=$n.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yn?1/0:300*1e3))}clearGcTimeout(){this.#e&&($n.clearTimeout(this.#e),this.#e=void 0)}},wc=class extends Os{#e;#t;#n;#s;#a;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ca(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ca(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=cc(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(dt).catch(dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>oc(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ra||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Vn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rc(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,s=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},r=()=>{const l=Ds(this.options,t),d=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(g),g})();return this.#i=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:r};return s(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#r({type:"fetch",meta:o.fetchOptions?.meta}),this.#a=Bs({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof Wn&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#a.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Wn){if(l.silent)return this.#a.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#r({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yc(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":const r=e.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Je.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function yc(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ls(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ca(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Ea(e){return{onFetch:(t,n)=>{const s=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let g=!1;const h=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=Ds(t.options,t.fetchOptions),m=async(S,p,y)=>{if(g)return Promise.reject();if(p==null&&S.pages.length)return Promise.resolve(S);const $=(()=>{const se={client:t.client,queryKey:t.queryKey,pageParam:p,direction:y?"backward":"forward",meta:t.options.meta};return h(se),se})(),A=await w($),{maxPages:F}=t.options,Z=y?uc:dc;return{pages:Z(S.pages,A,F),pageParams:Z(S.pageParams,p,F)}};if(r&&i.length){const S=r==="backward",p=S?bc:Ma,y={pages:i,pageParams:o},k=p(s,y);l=await m(y,k,S)}else{const S=e??i.length;do{const p=u===0?o[0]??s.initialPageParam:Ma(s,l);if(u>0&&p==null)break;l=await m(l,p),u++}while(u<S)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function Ma(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function bc(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var vc=class extends Os{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||kc(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#a({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Bs({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#a({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",r=!this.#s.canStart();try{if(s)t();else{this.#a({type:"pending",variables:e,isPaused:r}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#a({type:"pending",context:o,variables:e,isPaused:r})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,e,this.state.context,this,n),await this.options.onError?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,e,this.state.context,n),i}finally{this.#a({type:"error",error:i})}}finally{this.#n.runNext(this)}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Je.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function kc(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pc=class extends wn{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const s=new vc({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=nn(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=nn(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=nn(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(r=>r.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=nn(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Je.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Aa(t,n))}findAll(e={}){return this.getAll().filter(t=>Aa(e,t))}notify(e){Je.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Je.batch(()=>Promise.all(e.map(t=>t.continue().catch(dt))))}};function nn(e){return e.options.scope?.id}var Nc=class extends wn{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,r=t.queryHash??sa(s,t);let i=this.get(r);return i||(i=new wc({client:e,queryKey:s,queryHash:r,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Je.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Sa(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Sa(e,n)):t}notify(e){Je.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Je.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Je.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sc=class{#e;#t;#n;#s;#a;#o;#i;#r;constructor(e={}){this.#e=e.queryCache||new Nc,this.#t=e.mutationCache||new Pc,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=_s.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=fn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(s.queryHash)?.state.data,o=ac(t,i);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Je.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Je.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Je.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Je.batch(()=>this.#e.findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(dt).catch(dt)}invalidateQueries(e,t={}){return Je.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Je.batch(()=>this.#e.findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(dt)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Vn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dt).catch(dt)}fetchInfiniteQuery(e){return e.behavior=Ea(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dt).catch(dt)}ensureInfiniteQueryData(e){return e.behavior=Ea(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fn.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Yt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(s=>{Qt(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#a.set(Yt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(s=>{Qt(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sa(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ra&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ac=c.createContext(void 0),jc=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Ac.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xt.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const Ra="popstate";function Tc(e){e===void 0&&(e={});function t(s,r){let{pathname:i,search:o,hash:l}=s.location;return qn("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Us(r)}return Ec(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cc(){return Math.random().toString(36).substr(2,8)}function Ia(e,t){return{usr:e.state,key:e.key,idx:t}}function qn(e,t,n,s){return n===void 0&&(n=null),Xt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ut(t):t,{state:n,key:t&&t.key||s||Cc()})}function Us(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ut(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Ec(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l=Ct.Pop,u=null,d=g();d==null&&(d=0,o.replaceState(Xt({},o.state,{idx:d}),""));function g(){return(o.state||{idx:null}).idx}function h(){l=Ct.Pop;let y=g(),k=y==null?null:y-d;d=y,u&&u({action:l,location:p.location,delta:k})}function w(y,k){l=Ct.Push;let $=qn(p.location,y,k);d=g()+1;let A=Ia($,d),F=p.createHref($);try{o.pushState(A,"",F)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;r.location.assign(F)}i&&u&&u({action:l,location:p.location,delta:1})}function m(y,k){l=Ct.Replace;let $=qn(p.location,y,k);d=g();let A=Ia($,d),F=p.createHref($);o.replaceState(A,"",F),i&&u&&u({action:l,location:p.location,delta:0})}function S(y){let k=r.location.origin!=="null"?r.location.origin:r.location.href,$=typeof y=="string"?y:Us(y);return $=$.replace(/ $/,"%20"),Be(k,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,k)}let p={get action(){return l},get location(){return e(r,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Ra,h),u=y,()=>{r.removeEventListener(Ra,h),u=null}},createHref(y){return t(r,y)},createURL:S,encodeLocation(y){let k=S(y);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:m,go(y){return o.go(y)}};return p}var Da;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Da||(Da={}));function Mc(e,t,n){return n===void 0&&(n="/"),Rc(e,t,n)}function Rc(e,t,n,s){let r=typeof t=="string"?Ut(t):t,i=zs(r.pathname||"/",n);if(i==null)return null;let o=$s(e);Ic(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=qc(i);l=Vc(o[u],d)}return l}function $s(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(s),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(s.length));let d=It([s,u.relativePath]),g=n.concat(u);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),$s(i.children,t,g,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Uc(d,i.index),routesMeta:g})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let u of Vs(i.path))r(i,o,u)}),t}function Vs(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=Vs(s.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),r&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function Ic(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$c(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Dc=/^:[\w-]+$/,_c=3,Lc=2,Bc=1,Oc=10,Fc=-2,_a=e=>e==="*";function Uc(e,t){let n=e.split("/"),s=n.length;return n.some(_a)&&(s+=Fc),t&&(s+=Lc),n.filter(r=>!_a(r)).reduce((r,i)=>r+(Dc.test(i)?_c:i===""?Bc:Oc),s)}function $c(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function Vc(e,t,n){let{routesMeta:s}=e,r={},i="/",o=[];for(let l=0;l<s.length;++l){let u=s[l],d=l===s.length-1,g=i==="/"?t:t.slice(i.length)||"/",h=zc({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},g),w=u.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:It([i,h.pathname]),pathnameBase:Xc(It([i,h.pathnameBase])),route:w}),h.pathnameBase!=="/"&&(i=It([i,h.pathnameBase]))}return o}function zc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Wc(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,g,h)=>{let{paramName:w,isOptional:m}=g;if(w==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const S=l[h];return m&&!S?d[w]=void 0:d[w]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Wc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(s.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function qc(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Kc(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Ut(e):e;return{pathname:n?n.startsWith("/")?n:Gc(n,t):t,search:Jc(s),hash:Zc(r)}}function Gc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Dn(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yc(e,t){let n=Hc(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Qc(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Ut(e):(r=Xt({},e),Be(!r.pathname||!r.pathname.includes("?"),Dn("?","pathname","search",r)),Be(!r.pathname||!r.pathname.includes("#"),Dn("#","pathname","hash",r)),Be(!r.search||!r.search.includes("#"),Dn("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),h-=1;r.pathname=w.join("/")}l=h>=0?t[h]:"/"}let u=Kc(r,l),d=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||g)&&(u.pathname+="/"),u}const It=e=>e.join("/").replace(/\/\/+/g,"/"),Xc=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jc=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zc=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ed(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ws=["post","put","patch","delete"];new Set(Ws);const td=["get",...Ws];new Set(td);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jt.apply(this,arguments)}const oa=c.createContext(null),nd=c.createContext(null),bn=c.createContext(null),vn=c.createContext(null),$t=c.createContext({outlet:null,matches:[],isDataRoute:!1}),qs=c.createContext(null);function kn(){return c.useContext(vn)!=null}function Pn(){return kn()||Be(!1),c.useContext(vn).location}function Ks(e){c.useContext(bn).static||c.useLayoutEffect(e)}function ad(){let{isDataRoute:e}=c.useContext($t);return e?pd():sd()}function sd(){kn()||Be(!1);let e=c.useContext(oa),{basename:t,future:n,navigator:s}=c.useContext(bn),{matches:r}=c.useContext($t),{pathname:i}=Pn(),o=JSON.stringify(Yc(r,n.v7_relativeSplatPath)),l=c.useRef(!1);return Ks(()=>{l.current=!0}),c.useCallback(function(d,g){if(g===void 0&&(g={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Qc(d,JSON.parse(o),i,g.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:It([t,h.pathname])),(g.replace?s.replace:s.push)(h,g.state,g)},[t,s,o,i,e])}function rd(e,t){return od(e,t)}function od(e,t,n,s){kn()||Be(!1);let{navigator:r}=c.useContext(bn),{matches:i}=c.useContext($t),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Pn(),g;if(t){var h;let y=typeof t=="string"?Ut(t):t;u==="/"||(h=y.pathname)!=null&&h.startsWith(u)||Be(!1),g=y}else g=d;let w=g.pathname||"/",m=w;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+w.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=Mc(e,{pathname:m}),p=ud(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:It([u,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:It([u,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,s);return t&&p?c.createElement(vn.Provider,{value:{location:Jt({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ct.Pop}},p):p}function id(){let e=gd(),t=ed(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:r},n):null,null)}const ld=c.createElement(id,null);class cd extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement($t.Provider,{value:this.props.routeContext},c.createElement(qs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dd(e){let{routeContext:t,match:n,children:s}=e,r=c.useContext(oa);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement($t.Provider,{value:t},s)}function ud(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let g=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);g>=0||Be(!1),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let g=0;g<o.length;g++){let h=o[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=g),h.route.id){let{loaderData:w,errors:m}=n,S=h.route.loader&&w[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,h,w)=>{let m,S=!1,p=null,y=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||ld,u&&(d<0&&w===0?(xd("route-fallback"),S=!0,y=null):d===w&&(S=!0,y=h.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,w+1)),$=()=>{let A;return m?A=p:S?A=y:h.route.Component?A=c.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=g,c.createElement(dd,{match:h,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||w===0)?c.createElement(cd,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:$(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):$()},null)}var Gs=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Gs||{}),Hs=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Hs||{});function md(e){let t=c.useContext(oa);return t||Be(!1),t}function fd(e){let t=c.useContext(nd);return t||Be(!1),t}function hd(e){let t=c.useContext($t);return t||Be(!1),t}function Ys(e){let t=hd(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function gd(){var e;let t=c.useContext(qs),n=fd(),s=Ys();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function pd(){let{router:e}=md(Gs.UseNavigateStable),t=Ys(Hs.UseNavigateStable),n=c.useRef(!1);return Ks(()=>{n.current=!0}),c.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Jt({fromRouteId:t},i)))},[e,t])}const La={};function xd(e,t,n){La[e]||(La[e]=!0)}function wd(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Dt(e){Be(!1)}function yd(e){let{basename:t="/",children:n=null,location:s,navigationType:r=Ct.Pop,navigator:i,static:o=!1,future:l}=e;kn()&&Be(!1);let u=t.replace(/^\/*/,"/"),d=c.useMemo(()=>({basename:u,navigator:i,static:o,future:Jt({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof s=="string"&&(s=Ut(s));let{pathname:g="/",search:h="",hash:w="",state:m=null,key:S="default"}=s,p=c.useMemo(()=>{let y=zs(g,u);return y==null?null:{location:{pathname:y,search:h,hash:w,state:m,key:S},navigationType:r}},[u,g,h,w,m,S,r]);return p==null?null:c.createElement(bn.Provider,{value:d},c.createElement(vn.Provider,{children:n,value:p}))}function bd(e){let{children:t,location:n}=e;return rd(Kn(t),n)}new Promise(()=>{});function Kn(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(s,r)=>{if(!c.isValidElement(s))return;let i=[...t,r];if(s.type===c.Fragment){n.push.apply(n,Kn(s.props.children,i));return}s.type!==Dt&&Be(!1),!s.props.index||!s.props.children||Be(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Kn(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const vd="6";try{window.__reactRouterVersion=vd}catch{}const kd="startTransition",Ba=wo[kd];function Pd(e){let{basename:t,children:n,future:s,window:r}=e,i=c.useRef();i.current==null&&(i.current=Tc({window:r,v5Compat:!0}));let o=i.current,[l,u]=c.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},g=c.useCallback(h=>{d&&Ba?Ba(()=>u(h)):u(h)},[u,d]);return c.useLayoutEffect(()=>o.listen(g),[o,g]),c.useEffect(()=>wd(s),[s]),c.createElement(yd,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}var Oa;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oa||(Oa={}));var Fa;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fa||(Fa={}));const Nd="modulepreload",Sd=function(e){return"/"+e},Ua={},Me=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");r=u(n.map(d=>{if(d=Sd(d),d in Ua)return;Ua[d]=!0;const g=d.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Nd,g||(w.as="script"),w.crossOrigin="",w.href=d,l&&w.setAttribute("nonce",l),document.head.appendChild(w),g)return new Promise((m,S)=>{w.addEventListener("load",m),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Qs(e){c.useEffect(()=>{const t=Array.from(document.querySelectorAll("[data-reveal]"));if(!t.length)return;const n=new IntersectionObserver(s=>{s.forEach(r=>{r.isIntersecting&&(r.target.classList.add("reveal--visible"),n.unobserve(r.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.1});return t.forEach(s=>n.observe(s)),()=>n.disconnect()},[e?.rootMargin,e?.threshold])}const ia=ta("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=c.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...r},i)=>{const o=s?yo:"button";return a.jsx(o,{className:be(ia({variant:t,size:n,className:e})),ref:i,...r})});xe.displayName="Button";const Le=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Le.displayName="Card";const et=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:be("flex flex-col space-y-1.5 p-6",e),...t}));et.displayName="CardHeader";const tt=c.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));tt.displayName="CardTitle";const lt=c.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:be("text-sm text-muted-foreground",e),...t}));lt.displayName="CardDescription";const qe=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:be("p-6 pt-0",e),...t}));qe.displayName="CardContent";const Ad=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:be("flex items-center p-6 pt-0",e),...t}));Ad.displayName="CardFooter";function Xs(e,[t,n]){return Math.min(n,Math.max(t,e))}function jd(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Js=["PageUp","PageDown"],Zs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],er={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vt="Slider",[Gn,Td,Cd]=bo(Vt),[tr]=hn(Vt,[Cd]),[Ed,Nn]=tr(Vt),nr=c.forwardRef((e,t)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:d=[s],value:g,onValueChange:h=()=>{},onValueCommit:w=()=>{},inverted:m=!1,form:S,...p}=e,y=c.useRef(new Set),k=c.useRef(0),A=o==="horizontal"?Md:Rd,[F=[],Z]=ts({prop:g,defaultProp:d,onChange:ee=>{[...y.current][k.current]?.focus(),h(ee)}}),se=c.useRef(F);function ae(ee){const I=Bd(F,ee);de(ee,I)}function ie(ee){de(ee,k.current)}function ve(){const ee=se.current[k.current];F[k.current]!==ee&&w(F)}function de(ee,I,{commit:ke}={commit:!1}){const ge=$d(i),x=Vd(Math.round((ee-s)/i)*i+s,ge),f=Xs(x,[s,r]);Z((_=[])=>{const v=_d(_,f,I);if(Ud(v,u*i)){k.current=v.indexOf(f);const j=String(v)!==String(_);return j&&ke&&w(v),j?v:_}else return _})}return a.jsx(Ed,{scope:e.__scopeSlider,name:n,disabled:l,min:s,max:r,valueIndexToChangeRef:k,thumbs:y.current,values:F,orientation:o,form:S,children:a.jsx(Gn.Provider,{scope:e.__scopeSlider,children:a.jsx(Gn.Slot,{scope:e.__scopeSlider,children:a.jsx(A,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Ye(p.onPointerDown,()=>{l||(se.current=F)}),min:s,max:r,inverted:m,onSlideStart:l?void 0:ae,onSlideMove:l?void 0:ie,onSlideEnd:l?void 0:ve,onHomeKeyDown:()=>!l&&de(s,0,{commit:!0}),onEndKeyDown:()=>!l&&de(r,F.length-1,{commit:!0}),onStepKeyDown:({event:ee,direction:I})=>{if(!l){const x=Js.includes(ee.key)||ee.shiftKey&&Zs.includes(ee.key)?10:1,f=k.current,_=F[f],v=i*x*I;de(_+v,f,{commit:!0})}}})})})})});nr.displayName=Vt;var[ar,sr]=tr(Vt,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Md=c.forwardRef((e,t)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...g}=e,[h,w]=c.useState(null),m=pt(t,A=>w(A)),S=c.useRef(void 0),p=ns(r),y=p==="ltr",k=y&&!i||!y&&i;function $(A){const F=S.current||h.getBoundingClientRect(),Z=[0,F.width],ae=la(Z,k?[n,s]:[s,n]);return S.current=F,ae(A-F.left)}return a.jsx(ar,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:a.jsx(rr,{dir:p,"data-orientation":"horizontal",...g,ref:m,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const F=$(A.clientX);o?.(F)},onSlideMove:A=>{const F=$(A.clientX);l?.(F)},onSlideEnd:()=>{S.current=void 0,u?.()},onStepKeyDown:A=>{const Z=er[k?"from-left":"from-right"].includes(A.key);d?.({event:A,direction:Z?-1:1})}})})}),Rd=c.forwardRef((e,t)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:u,...d}=e,g=c.useRef(null),h=pt(t,g),w=c.useRef(void 0),m=!r;function S(p){const y=w.current||g.current.getBoundingClientRect(),k=[0,y.height],A=la(k,m?[s,n]:[n,s]);return w.current=y,A(p-y.top)}return a.jsx(ar,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:a.jsx(rr,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const y=S(p.clientY);i?.(y)},onSlideMove:p=>{const y=S(p.clientY);o?.(y)},onSlideEnd:()=>{w.current=void 0,l?.()},onStepKeyDown:p=>{const k=er[m?"from-bottom":"from-top"].includes(p.key);u?.({event:p,direction:k?-1:1})}})})}),rr=c.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:u,...d}=e,g=Nn(Vt,n);return a.jsx(ut.span,{...d,ref:t,onKeyDown:Ye(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Js.concat(Zs).includes(h.key)&&(u(h),h.preventDefault())}),onPointerDown:Ye(e.onPointerDown,h=>{const w=h.target;w.setPointerCapture(h.pointerId),h.preventDefault(),g.thumbs.has(w)?w.focus():s(h)}),onPointerMove:Ye(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&r(h)}),onPointerUp:Ye(e.onPointerUp,h=>{const w=h.target;w.hasPointerCapture(h.pointerId)&&(w.releasePointerCapture(h.pointerId),i(h))})})}),or="SliderTrack",ir=c.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,r=Nn(or,n);return a.jsx(ut.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:t})});ir.displayName=or;var Hn="SliderRange",lr=c.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,r=Nn(Hn,n),i=sr(Hn,n),o=c.useRef(null),l=pt(t,o),u=r.values.length,d=r.values.map(w=>ur(w,r.min,r.max)),g=u>1?Math.min(...d):0,h=100-Math.max(...d);return a.jsx(ut.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:l,style:{...e.style,[i.startEdge]:g+"%",[i.endEdge]:h+"%"}})});lr.displayName=Hn;var Yn="SliderThumb",cr=c.forwardRef((e,t)=>{const n=Td(e.__scopeSlider),[s,r]=c.useState(null),i=pt(t,l=>r(l)),o=c.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return a.jsx(Id,{...e,ref:i,index:o})}),Id=c.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:r,...i}=e,o=Nn(Yn,n),l=sr(Yn,n),[u,d]=c.useState(null),g=pt(t,$=>d($)),h=u?o.form||!!u.closest("form"):!0,w=vo(u),m=o.values[s],S=m===void 0?0:ur(m,o.min,o.max),p=Ld(s,o.values.length),y=w?.[l.size],k=y?Od(y,S,l.direction):0;return c.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${S}% + ${k}px)`},children:[a.jsx(Gn.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(ut.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:g,style:m===void 0?{display:"none"}:e.style,onFocus:Ye(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&a.jsx(dr,{name:r??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},s)]})});cr.displayName=Yn;var Dd="RadioBubbleInput",dr=c.forwardRef(({__scopeSlider:e,value:t,...n},s)=>{const r=c.useRef(null),i=pt(r,s),o=jd(t);return c.useEffect(()=>{const l=r.current;if(!l)return;const u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&g){const h=new Event("input",{bubbles:!0});g.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx(ut.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});dr.displayName=Dd;function _d(e=[],t,n){const s=[...e];return s[n]=t,s.sort((r,i)=>r-i)}function ur(e,t,n){const i=100/(n-t)*(e-t);return Xs(i,[0,100])}function Ld(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Bd(e,t){if(e.length===1)return 0;const n=e.map(r=>Math.abs(r-t)),s=Math.min(...n);return n.indexOf(s)}function Od(e,t,n){const s=e/2,i=la([0,50],[0,s]);return(s-i(t)*n)*n}function Fd(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ud(e,t){if(t>0){const n=Fd(e);return Math.min(...n)>=t}return!0}function la(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function $d(e){return(String(e).split(".")[1]||"").length}function Vd(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var mr=nr,zd=ir,Wd=lr,qd=cr;const Qn=c.forwardRef(({className:e,...t},n)=>a.jsxs(mr,{ref:n,className:be("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(zd,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(Wd,{className:"absolute h-full bg-primary"})}),a.jsx(qd,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Qn.displayName=mr.displayName;var fr="AlertDialog",[Kd]=hn(fr,[as]),vt=as(),hr=e=>{const{__scopeAlertDialog:t,...n}=e,s=vt(t);return a.jsx(To,{...s,...n,modal:!0})};hr.displayName=fr;var Gd="AlertDialogTrigger",Hd=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=vt(n);return a.jsx(Co,{...r,...s,ref:t})});Hd.displayName=Gd;var Yd="AlertDialogPortal",gr=e=>{const{__scopeAlertDialog:t,...n}=e,s=vt(t);return a.jsx(Po,{...s,...n})};gr.displayName=Yd;var Qd="AlertDialogOverlay",pr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=vt(n);return a.jsx(ko,{...r,...s,ref:t})});pr.displayName=Qd;var Lt="AlertDialogContent",[Xd,Jd]=Kd(Lt),Zd=es("AlertDialogContent"),xr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...r}=e,i=vt(n),o=c.useRef(null),l=pt(t,o),u=c.useRef(null);return a.jsx(No,{contentName:Lt,titleName:wr,docsSlug:"alert-dialog",children:a.jsx(Xd,{scope:n,cancelRef:u,children:a.jsxs(So,{role:"alertdialog",...i,...r,ref:l,onOpenAutoFocus:Ye(r.onOpenAutoFocus,d=>{d.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(Zd,{children:s}),a.jsx(tu,{contentRef:o})]})})})});xr.displayName=Lt;var wr="AlertDialogTitle",yr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=vt(n);return a.jsx(Ao,{...r,...s,ref:t})});yr.displayName=wr;var br="AlertDialogDescription",vr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=vt(n);return a.jsx(jo,{...r,...s,ref:t})});vr.displayName=br;var eu="AlertDialogAction",kr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=vt(n);return a.jsx(ss,{...r,...s,ref:t})});kr.displayName=eu;var Pr="AlertDialogCancel",Nr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:r}=Jd(Pr,n),i=vt(n),o=pt(t,r);return a.jsx(ss,{...i,...s,ref:o})});Nr.displayName=Pr;var tu=({contentRef:e})=>{const t=`\`${Lt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Lt}\` by passing a \`${br}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Lt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nu=hr,au=gr,Sr=pr,Ar=xr,jr=kr,Tr=Nr,Cr=yr,Er=vr;const su=nu,ru=au,Mr=c.forwardRef(({className:e,...t},n)=>a.jsx(Sr,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Mr.displayName=Sr.displayName;const Rr=c.forwardRef(({className:e,...t},n)=>a.jsxs(ru,{children:[a.jsx(Mr,{}),a.jsx(Ar,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Rr.displayName=Ar.displayName;const Ir=({className:e,...t})=>a.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ir.displayName="AlertDialogHeader";const Dr=({className:e,...t})=>a.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dr.displayName="AlertDialogFooter";const _r=c.forwardRef(({className:e,...t},n)=>a.jsx(Cr,{ref:n,className:be("text-lg font-semibold",e),...t}));_r.displayName=Cr.displayName;const Lr=c.forwardRef(({className:e,...t},n)=>a.jsx(Er,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));Lr.displayName=Er.displayName;const Br=c.forwardRef(({className:e,...t},n)=>a.jsx(jr,{ref:n,className:be(ia(),e),...t}));Br.displayName=jr.displayName;const Or=c.forwardRef(({className:e,...t},n)=>a.jsx(Tr,{ref:n,className:be(ia({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Or.displayName=Tr.displayName;function $a({words:e=["NPC"],loop:t=!0,typingSpeed:n=180,deletingSpeed:s=90,pause:r=1600,className:i=""}){const[o,l]=c.useState(0),[u,d]=c.useState(0),[g,h]=c.useState(!1),[w,m]=c.useState(!0);c.useEffect(()=>{const p=setInterval(()=>m(y=>!y),500);return()=>clearInterval(p)},[]),c.useEffect(()=>{if(!e.length)return;if(o>=e.length)if(t)l(0);else return;const p=e[o];if(!g&&u===p.length){const k=setTimeout(()=>h(!0),r);return()=>clearTimeout(k)}if(g&&u===0){h(!1),l(k=>(k+1)%e.length);return}const y=setTimeout(()=>{d(k=>k+(g?-1:1))},g?s:n);return()=>clearTimeout(y)},[u,o,g,e,n,s,r,t]);const S=e[o]?.slice(0,u)??"";return a.jsxs("span",{className:i,"aria-hidden":!0,children:[S,a.jsx("span",{className:"inline-block w-[8px] ml-1 align-middle",style:{opacity:w?1:0},children:"|"})]})}const ou=({className:e="",width:t=28,height:n=28})=>a.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[a.jsx("rect",{x:"1",y:"5",width:"22",height:"14",rx:"2.5",stroke:"white",strokeOpacity:"0.95",strokeWidth:"1.2",fill:"none"}),a.jsx("rect",{x:"3",y:"7",width:"6",height:"6",rx:"1",fill:"rgba(255,255,255,0.06)"}),a.jsx("circle",{cx:"19",cy:"12",r:"1.6",fill:"white"}),a.jsx("path",{d:"M3 13h14",stroke:"rgba(255,255,255,0.08)",strokeWidth:"0.8"})]});function iu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fr={exports:{}},Re=Fr.exports={},ht,gt;function Xn(){throw new Error("setTimeout has not been defined")}function Jn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ht=setTimeout:ht=Xn}catch{ht=Xn}try{typeof clearTimeout=="function"?gt=clearTimeout:gt=Jn}catch{gt=Jn}})();function Ur(e){if(ht===setTimeout)return setTimeout(e,0);if((ht===Xn||!ht)&&setTimeout)return ht=setTimeout,setTimeout(e,0);try{return ht(e,0)}catch{try{return ht.call(null,e,0)}catch{return ht.call(this,e,0)}}}function lu(e){if(gt===clearTimeout)return clearTimeout(e);if((gt===Jn||!gt)&&clearTimeout)return gt=clearTimeout,clearTimeout(e);try{return gt(e)}catch{try{return gt.call(null,e)}catch{return gt.call(this,e)}}}var bt=[],Bt=!1,Rt,cn=-1;function cu(){!Bt||!Rt||(Bt=!1,Rt.length?bt=Rt.concat(bt):cn=-1,bt.length&&$r())}function $r(){if(!Bt){var e=Ur(cu);Bt=!0;for(var t=bt.length;t;){for(Rt=bt,bt=[];++cn<t;)Rt&&Rt[cn].run();cn=-1,t=bt.length}Rt=null,Bt=!1,lu(e)}}Re.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];bt.push(new Vr(e,t)),bt.length===1&&!Bt&&Ur($r)};function Vr(e,t){this.fun=e,this.array=t}Vr.prototype.run=function(){this.fun.apply(null,this.array)};Re.title="browser";Re.browser=!0;Re.env={};Re.argv=[];Re.version="";Re.versions={};function kt(){}Re.on=kt;Re.addListener=kt;Re.once=kt;Re.off=kt;Re.removeListener=kt;Re.removeAllListeners=kt;Re.emit=kt;Re.prependListener=kt;Re.prependOnceListener=kt;Re.listeners=function(e){return[]};Re.binding=function(e){throw new Error("process.binding is not supported")};Re.cwd=function(){return"/"};Re.chdir=function(e){throw new Error("process.chdir is not supported")};Re.umask=function(){return 0};var du=Fr.exports;const uu=iu(du),Va={BASE_URL:"/",DEV:!1,MODE:"production",NEXT_PUBLIC_ADMIN_WALLET:"36P8u2QqLRJbVTohvMd1bcseTPftYD3giN8c1XC1igqm",NEXT_PUBLIC_NETWORK:"mainnet",NEXT_PUBLIC_PROGRAM_ID:"Go3NJqrnzgitXdKWFoiGCs13uYFuCBpeLjo1yWf3RGg5",NEXT_PUBLIC_REWARD_MINT:"6MpafrXMywfyojAUnxdqGw9SQ2MhPuH3d6daW3xipump",NEXT_PUBLIC_SOLANA_RPC_URL:"https://solana-mainnet.g.alchemy.com/v2/k8aWq8NZBih3QrbaO6tNS",NEXT_PUBLIC_STAKING_MINT:"6MpafrXMywfyojAUnxdqGw9SQ2MhPuH3d6daW3xipump",NEXT_PUBLIC_SUPABASE_SERVICE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrdHNxb3R5enFjamZ3Z2NicGppIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTA0MzYxOSwiZXhwIjoyMDc0NjE5NjE5fQ.RZZVxdkH7B74HtZh724so6G5s0MAf8Tvm8pCMF87ByI",PROD:!0,SSR:!1};var mu={};const fu=typeof uu<"u"?mu??{}:{},hu=typeof import.meta<"u"&&Va?Va:{},We=(e,t="")=>{const n=fu[e]??hu[e];return n!==void 0?n:t},Ve={SOLANA_RPC_URL:We("NEXT_PUBLIC_SOLANA_RPC_URL",""),PROGRAM_ID:We("NEXT_PUBLIC_PROGRAM_ID",""),ADMIN_WALLET:We("NEXT_PUBLIC_ADMIN_WALLET",""),MEMO_PROGRAM_ID:We("NEXT_PUBLIC_MEMO_PROGRAM_ID","MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),NETWORK:We("NEXT_PUBLIC_NETWORK",""),STAKING_MINT:We("NEXT_PUBLIC_STAKING_MINT",""),REWARD_MINT:We("NEXT_PUBLIC_REWARD_MINT",""),APP_NAME:We("NEXT_PUBLIC_APP_NAME","NPC Stake"),APP_DESCRIPTION:We("NEXT_PUBLIC_APP_DESCRIPTION","Professional Solana staking dashboard for NPC token"),SUPABASE_URL:We("NEXT_PUBLIC_SUPABASE_URL",""),SUPABASE_ANON_KEY:We("NEXT_PUBLIC_SUPABASE_ANON_KEY",""),SUPABASE_SERVICE_KEY:We("SUPABASE_SERVICE_KEY",We("NEXT_PUBLIC_SUPABASE_SERVICE_KEY",""))};console.log("[ENV] Environment variables loaded:",{PROGRAM_ID:Ve.PROGRAM_ID,ADMIN_WALLET:Ve.ADMIN_WALLET,STAKING_MINT:Ve.STAKING_MINT,REWARD_MINT:Ve.REWARD_MINT,RPC_URL:Ve.SOLANA_RPC_URL,fromEnv:{PROGRAM_ID:We("NEXT_PUBLIC_PROGRAM_ID"),ADMIN_WALLET:We("NEXT_PUBLIC_ADMIN_WALLET"),STAKING_MINT:We("NEXT_PUBLIC_STAKING_MINT"),REWARD_MINT:We("NEXT_PUBLIC_REWARD_MINT")}});const Sn={ADMIN_WALLET:Ve.ADMIN_WALLET,RPC_URL:Ve.SOLANA_RPC_URL,MEMO_PROGRAM_ID:Ve.MEMO_PROGRAM_ID},T=e=>{if(e instanceof ye)return e;if(!e)throw new Error("PublicKey is null or undefined. Please ensure wallet is connected.");if(typeof e=="string"&&(e.trim()===""||e.includes("your_")||e.includes("_here")))throw new Error(`Invalid or placeholder PublicKey: ${e}. Please set proper environment variables.`);try{return new ye(e)}catch{throw new Error(`Invalid PublicKey format: ${e}. Expected a valid base58 string.`)}};function Zn(e,t){const n=T(e),s=T(t);return ye.findProgramAddressSync([$e.from("pool"),s.toBuffer()],n)[0]}function dn(e,t){const n=T(e),s=T(t);return ye.findProgramAddressSync([$e.from("pool-signer"),s.toBuffer()],n)[0]}function St(e,t,n){const s=T(e),r=T(t),i=T(n);return ye.findProgramAddressSync([$e.from("user"),r.toBuffer(),i.toBuffer()],s)[0]}function gu(e){const t=s=>typeof s=="string"?(s==="publicKey"&&console.log("Keeping publicKey as primitive string"),s):s&&typeof s=="object"?"option"in s?{option:t(s.option)}:"vec"in s?{vec:t(s.vec)}:"array"in s?{array:[t(s.array[0]),s.array[1]]}:"defined"in s?{defined:s.defined}:"fields"in s?{...s,fields:s.fields.map(r=>({...r,type:t(r.type)}))}:"variants"in s?{...s,variants:s.variants.map(r=>"fields"in r?{...r,fields:r.fields.map(i=>t(i))}:r)}:Object.fromEntries(Object.entries(s).map(([r,i])=>[r,t(i)])):s,n=JSON.parse(JSON.stringify(e));return console.log("Original IDL sample:",{accounts:n.accounts?.[0]?.type?.fields?.slice(0,2),types:n.types?.[0]?.type?.fields?.slice(0,2)}),Array.isArray(n.accounts)&&n.accounts.forEach(s=>s.type=t(s.type)),Array.isArray(n.types)&&n.types.forEach(s=>s.type=t(s.type)),Array.isArray(n.instructions)&&n.instructions.forEach(s=>{s.args=s.args?.map(r=>({...r,type:t(r.type)}))??[]}),console.log("Normalized IDL sample:",{accounts:n.accounts?.[0]?.type?.fields?.slice(0,2),types:n.types?.[0]?.type?.fields?.slice(0,2)}),n}const pu="0.1.0",xu="sol_stake",wu=[{name:"initialize",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"stakingMint",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"configureRewards",docs:["One-shot: set reward mint + initial rate; program creates reward_vault ATA."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ratePerSec",type:"u64"}]},{name:"setRewardRate",docs:["Admin can adjust reward rate any time after configuration."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"newRate",type:"u64"}]},{name:"setPaused",docs:["Pause blocks new stakes, but allows claim / unstake."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"paused",type:"bool"}]},{name:"setAdmin",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"newAdmin",type:"publicKey"}]},{name:"fundRewards",docs:["Fund reward vault from admin ATA."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"adminRewardAta",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawRewards",docs:["Withdraw reward tokens back to admin; only when paused."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"adminRewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"ensureVaults",docs:["Safety/ops: recreate any missing ATAs (idempotent)."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingMint",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1,isOptional:!0},{name:"rewardVault",isMut:!0,isSigner:!1,isOptional:!0},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initUser",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stake",docs:["Stake (blocked when paused). No auto-claim."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"unstake",docs:["Unstake principal (allowed while paused)."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"emergencyUnstake",docs:["Emergency exit: principal only, no rewards."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"claim",docs:["Claim rewards (allowed while paused). Pays vault funds, carries unpaid remainder."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"userRewardAta",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"closeUser",docs:["Close user record (no stake, no pending, no unpaid)."],accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!1}],args:[]},{name:"closePool",docs:["Close pool once paused, all stakes withdrawn, vaults emptied."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1,isOptional:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],yu=[{name:"Pool",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"stakingMint",type:"publicKey"},{name:"stakingVault",type:"publicKey"},{name:"rewardConfigured",type:"bool"},{name:"rewardMint",type:"publicKey"},{name:"rewardVault",type:"publicKey"},{name:"rewardRatePerSec",type:"u64"},{name:"rateCap",type:"u64"},{name:"totalStaked",type:"u64"},{name:"accScaled",type:"u128"},{name:"lastUpdateTs",type:"i64"},{name:"paused",type:"bool"},{name:"locked",type:"bool"},{name:"bump",type:"u8"},{name:"signerBump",type:"u8"},{name:"reserved",type:{array:["u8",44]}}]}},{name:"User",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"staked",type:"u64"},{name:"debt",type:"u128"},{name:"unpaidRewards",type:"u128"},{name:"bump",type:"u8"},{name:"reserved",type:{array:["u8",23]}}]}}],bu=[{name:"PoolInitialized",fields:[{name:"pool",type:"publicKey",index:!1},{name:"admin",type:"publicKey",index:!1},{name:"stakingMint",type:"publicKey",index:!1}]},{name:"RewardsConfigured",fields:[{name:"pool",type:"publicKey",index:!1},{name:"rewardMint",type:"publicKey",index:!1},{name:"ratePerSec",type:"u64",index:!1}]},{name:"RewardRateUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"newRate",type:"u64",index:!1}]},{name:"PausedUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"paused",type:"bool",index:!1}]},{name:"AdminUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"newAdmin",type:"publicKey",index:!1}]},{name:"RewardsFunded",fields:[{name:"pool",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"RewardsWithdrawn",fields:[{name:"pool",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Staked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Unstaked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"EmergencyUnstaked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"RewardsClaimed",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VaultsEnsured",fields:[{name:"pool",type:"publicKey",index:!1}]}],vu=[{code:6e3,name:"Paused",msg:"Paused"},{code:6001,name:"NotPaused",msg:"Not paused"},{code:6002,name:"AlreadyConfigured",msg:"Already configured"},{code:6003,name:"NotConfigured",msg:"Rewards not configured"},{code:6004,name:"ZeroAmount",msg:"Amount must be > 0"},{code:6005,name:"InsufficientStake",msg:"Insufficient stake"},{code:6006,name:"Overflow",msg:"Overflow"},{code:6007,name:"Underflow",msg:"Underflow"},{code:6008,name:"VaultNotEmpty",msg:"Vault must be empty to close"},{code:6009,name:"NonZeroStake",msg:"Pool still has stake"},{code:6010,name:"RateTooHigh",msg:"Emission rate too high"},{code:6011,name:"Reentrancy",msg:"Re-entrancy detected"}],ku={version:pu,name:xu,instructions:wu,accounts:yu,events:bu,errors:vu},at=T(Ve.PROGRAM_ID);async function Pu(e,t){try{console.log(" Fetching on-chain IDL for debugging...");const n=await Kt.fetchIdl(at,e);if(n){console.log(" On-chain IDL fetched successfully"),console.log("On-chain IDL structure:",{version:n?.version,name:n?.name,hasInstructions:!!n?.instructions,hasAccounts:!!n?.accounts,hasTypes:!!n?.types});const s=n.accounts?.find(r=>r.name.toLowerCase()==="pool");return s&&(console.log(" Pool account structure from on-chain IDL:"),console.log("- Fields count:",s.type.fields?.length||0),console.log("- Fields:",s.type.fields?.map(r=>({name:r.name,type:r.type})))),n}else return console.log(" No on-chain IDL found"),null}catch(n){return console.error(" Failed to fetch on-chain IDL:",n),null}}async function He(e){let t;try{console.log(" Fetching on-chain IDL..."),console.log("Program ID:",at.toBase58()),console.log("Provider connection:",e.connection.rpcEndpoint);const n=await Kt.fetchIdl(at,e);if(n){console.log(" On-chain IDL fetched successfully"),t=n,t.address=at.toBase58(),console.log("On-chain IDL structure:",{version:t?.version,name:t?.name,address:t?.address,hasInstructions:!!t?.instructions,hasAccounts:!!t?.accounts,hasTypes:!!t?.types});const s=t.accounts?.find(r=>r.name.toLowerCase()==="pool");s?(console.log(" Pool account found in on-chain IDL"),console.log("Pool account fields:",s.type.fields?.length||0)):console.warn(" Pool account not found in on-chain IDL")}else throw new Error("No on-chain IDL found")}catch(n){console.log(" Failed to fetch on-chain IDL:",n instanceof Error?n.message:String(n)),console.log(" Trying alternative on-chain IDL fetch...");try{const s=await Kt.fetchIdl(at,e);if(s)console.log(" Alternative on-chain IDL fetch successful"),t=s,t.address=at.toBase58();else throw new Error("Alternative fetch also failed")}catch(s){console.log(" Alternative on-chain IDL fetch also failed:",s),console.log(" Falling back to local IDL..."),t=ku,console.log(" Local IDL loaded as fallback"),console.log("Local IDL structure:",{version:t?.version,name:t?.name,address:t?.address,hasInstructions:!!t?.instructions,hasAccounts:!!t?.accounts,hasTypes:!!t?.types}),t.address=at.toBase58()}}try{console.log("Creating Program instance...");const n=new Kt(t,at,e);return console.log(" Program created successfully"),n}catch(n){console.error(" Failed to create Program:",n),console.error("Error details:",n instanceof Error?n.message:String(n)),console.log("Trying with normalized IDL as final fallback...");try{const s=gu(t),r=new Kt(s,at,e);return console.log(" Program created with normalized IDL"),r}catch(s){throw console.error(" All IDL approaches failed:",s),new Error(`Failed to create Program: ${n instanceof Error?n.message:String(n)}`)}}}const Nu=Ve.SOLANA_RPC_URL;let _n=!1;async function Su(e,t){if(!_n){_n=!0;try{const n=new os(Nu,"confirmed"),s={publicKey:T(t.publicKey),signTransaction:t.signTransaction,signAllTransactions:t.signAllTransactions},r=new ze(n,s,{commitment:"confirmed"}),i=await He(r),o=T(e),l=Zn(i.programId,o),u=dn(i.programId,l),d=await wt(o,u,!0);if(await n.getAccountInfo(l,{commitment:"processed"}))return console.warn("Pool already exists; skipping initialize."),{pool:l.toBase58(),signer:u.toBase58(),stakingVault:d.toBase58()};const{blockhash:h,lastValidBlockHeight:w}=await n.getLatestBlockhash("confirmed");let m;try{m=await i.methods.initialize().accounts({admin:r.wallet.publicKey,stakingMint:o,pool:l,poolSigner:u,stakingVault:d,systemProgram:Gt.programId,tokenProgram:yt,rent:Bn,associatedTokenProgram:Mt}).rpc({commitment:"confirmed"}),await n.confirmTransaction({signature:m,blockhash:h,lastValidBlockHeight:w},"confirmed")}catch(p){if(String(p?.message??p).includes("already been processed")){m&&await n.confirmTransaction({signature:m,blockhash:h,lastValidBlockHeight:w},"confirmed");for(let $=0;$<10&&!await n.getAccountInfo(l,{commitment:"confirmed"});$++)await new Promise(F=>setTimeout(F,300));if(!await n.getAccountInfo(l,{commitment:"confirmed"}))throw p}else throw p}const S=await i.account.pool.fetch(l);return{pool:l.toBase58(),signer:u.toBase58(),stakingVault:d.toBase58(),admin:S.admin.toBase58(),stakingMint:S.stakingMint.toBase64?S.stakingMint.toBase58():S.stakingMint.toBase58?.()??String(S.stakingMint),totalStaked:S.totalStaked?.toString?.()??String(S.totalStaked),ratePerSec:S.rewardRatePerSec?.toString?.()??String(S.rewardRatePerSec)}}finally{_n=!1}}}const an=new ye(Sn.MEMO_PROGRAM_ID),sn=(e,t)=>{const n=String(e);if(!n.includes("."))return new ct(n).mul(new ct(10).pow(new ct(t)));const[s,r]=n.split("."),i=(r+"0".repeat(t)).slice(0,t),o=s?new ct(s):new ct(0),l=i?new ct(i):new ct(0);return o.mul(new ct(10).pow(new ct(t))).add(l)},Au=Sn.RPC_URL;new ye(Sn.ADMIN_WALLET);const za=(e,t={})=>{},zr=c.createContext(void 0);function ju({children:e}){const[t]=c.useState(new os(Au,"confirmed")),[n,s]=c.useState(null),[r,i]=c.useState(!1),[o,l]=c.useState(null),[u,d]=c.useState(null),[g,h]=c.useState(!1),[w,m]=c.useState(null),[S,p]=c.useState({}),[y,k]=c.useState(!0),$=3e4,A=Ve.STAKING_MINT&&Ve.STAKING_MINT!==""?Ve.STAKING_MINT:null,[F,Z]=c.useState(A),[se,ae]=c.useState(6),[ie,ve]=c.useState(6),[de,ee]=c.useState(0);c.useEffect(()=>{if(!n){i(!1);return}if(o){const N=n===o.admin;i(N)}else{const N=Sn.ADMIN_WALLET;i(N&&n===N)}},[n,o]),c.useEffect(()=>{n&&!o&&ke()},[n,o]),c.useEffect(()=>{if((async()=>{if(typeof window>"u"||!window.solana?.isPhantom){s(null);return}try{if(window.solana.isConnected){const P=await window.solana.connect({onlyIfTrusted:!0});s(P?.publicKey?.toString()??null)}else s(null)}catch{s(null)}})(),typeof window<"u"&&window.solana?.isPhantom){const P=z=>s(z.toString()),B=()=>s(null);return"on"in window.solana&&(window.solana.on("connect",P),window.solana.on("disconnect",B)),()=>{try{window.solana&&"off"in window.solana&&(window.solana.off("connect",P),window.solana.off("disconnect",B))}catch{}}}},[]),c.useEffect(()=>{n&&!o&&ke()},[n,o]),c.useEffect(()=>{if(!n||!o)return;const N=setInterval(()=>{I(!1)},3e4);return()=>clearInterval(N)},[n,o]);const I=async(N=!1)=>{if(!n)return;const P=Date.now();if(!N&&S.timestamp&&P-S.timestamp<$){S.poolData&&l(S.poolData),S.userData&&d(S.userData);return}h(!0),m(null);try{const B={publicKey:T(n),signTransaction:async O=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(O);throw new Error("Wallet not connected")},signAllTransactions:async O=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(O);throw new Error("Wallet not connected")}};za("refreshData -> loadProgram",{wallet:n});const z=new ze(t,B,{commitment:"confirmed"}),q=await He(z);if(!q.idl.accounts?.some(O=>O.name.toLowerCase()==="pool"))throw new Error("Loaded IDL missing 'pool' account in IDL");if(o?.poolAddress){const O=T(o.poolAddress);if(O.equals(T(o.stakingMint)))throw new Error("Detected stakingMint used as pool. Pool must be the Pool PDA.");const[M,X]=await Promise.all([q.account.pool.fetch(O),t.getAccountInfo(St(q.programId,O,T(n)))]),E={poolAddress:O.toBase58(),admin:M.admin?.toBase58()??"Unknown",stakingMint:M.stakingMint?.toBase58()??"Unknown",stakingVault:M.stakingVault?.toBase58()??"Unknown",rewardConfigured:M.rewardConfigured??!1,rewardMint:M.rewardMint?.toBase58()??"Unknown",rewardVault:M.rewardVault?.toBase58()??"Unknown",rewardRatePerSec:M.rewardRatePerSec?.toNumber?.()??0,rateCap:M.rateCap?.toNumber?.()??0,totalStaked:M.totalStaked?.toNumber?.()??0,accScaled:M.accScaled?.toString?.()??"0",lastUpdateTs:M.lastUpdateTs?.toNumber?.()??0,paused:M.paused??!1,locked:M.locked??!1,bump:M.bump??0,signerBump:M.signerBump??0};l(E);let J=null;if(X){const fe=await q.account.user.fetch(St(q.programId,O,T(n)));J={owner:fe.owner?.toBase58()??"Unknown",staked:fe.staked?.toNumber?.()??0,debt:fe.debt?.toString?.()??"0",unpaidRewards:fe.unpaidRewards?.toString?.()??"0",bump:fe.bump??0},d(J)}else d(null);p({poolData:E,userData:J,timestamp:P})}else l(null),d(null),p({})}catch(B){console.error("refreshData error:",B),m(B?.message??"Failed to refresh"),o||(l(null),d(null))}finally{h(!1),k(!1)}},ke=async()=>{if(n)try{if(F)try{await ge(F);return}catch{console.log(" This is normal if the pool hasn't been created yet")}if(Ve.STAKING_MINT&&Ve.STAKING_MINT!==""){console.log(` Setting staking mint from environment: ${Ve.STAKING_MINT}`),Z(Ve.STAKING_MINT);try{await ge(Ve.STAKING_MINT);return}catch{console.log(" No pool found for environment staking mint (normal for new deployments)")}}else console.log(" Use the admin interface to set the staking mint and initialize a pool")}catch{console.log(" This is normal for new deployments - use the admin interface to set up")}},ge=async N=>{if(!n)throw new Error("Wallet not connected");h(!0),m(null);try{const P={publicKey:T(n),signTransaction:async te=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(te);throw new Error("Wallet not connected")},signAllTransactions:async te=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(te);throw new Error("Wallet not connected")}};za("fetchPoolByMint -> loadProgram");const B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=new ye(N),O=Zn(z.programId,q),M=await t.getAccountInfo(O);if(!M)throw new Error("Pool account does not exist");if(!M.owner.equals(z.programId))throw new Error(`Pool account is not owned by our program. Owner: ${M.owner.toBase58()}, Expected: ${z.programId.toBase58()}`);if(!M.data||M.data.length===0)throw new Error("Pool account has no data");const X=ua.accountDiscriminator("Pool"),E=ua.accountDiscriminator("User"),J=M.data.slice(0,8),fe=$e.compare(J,X)===0;if($e.compare(J,E)===0)throw new Error("Account at pool PDA is a User account, not a Pool account. Check your PDA derivation seeds.");if(!fe)throw new Error("Account at pool PDA is not a Pool account (discriminator mismatch). This might be a different account type or corrupted data.");let Q;try{Q=await z.account.pool.fetch(O)}catch(te){throw te instanceof Error&&te.message.includes("beyond buffer length")?new Error(`Pool decode failed: IDL/program layout mismatch. Account data length=${M.data.length} bytes, but your local IDL expects ~265 bytes. Update your IDL to match the deployed binary (or redeploy the program).`):te}l({poolAddress:O.toString(),admin:Q.admin?.toString()??"Unknown",stakingMint:Q.stakingMint?.toString()??"Unknown",stakingVault:Q.stakingVault?.toString()??"Unknown",rewardConfigured:Q.rewardConfigured??!1,rewardMint:Q.rewardMint?.toString()??"Unknown",rewardVault:Q.rewardVault?.toString()??"Unknown",rewardRatePerSec:Q.rewardRatePerSec?.toNumber?.()??0,rateCap:Q.rateCap?.toNumber?.()??0,totalStaked:Q.totalStaked?.toNumber?.()??0,accScaled:Q.accScaled?.toString?.()??"0",lastUpdateTs:Q.lastUpdateTs?.toNumber?.()??0,paused:Q.paused??!1,locked:Q.locked??!1,bump:Q.bump??0,signerBump:Q.signerBump??0});try{const{getMint:te}=await Me(async()=>{const{getMint:he}=await import("./solana-CghHl2Ac.js").then(Ee=>Ee.k);return{getMint:he}},__vite__mapDeps([0,1])),pe=new ye(Q.stakingMint?.toString()??"Unknown"),ne=new ye(Q.rewardMint?.toString()??"Unknown"),ue=await te(t,pe),H=await te(t,ne);ae(ue.decimals??6),ve(H.decimals??6)}catch(te){console.warn("Failed to fetch token decimals, using defaults:",te),ae(6),ve(6)}try{const te=St(z.programId,O,new ye(n)),pe=await z.account.user.fetch(te);d({owner:pe.owner?.toString()??"Unknown",staked:pe.staked?.toNumber?.()??0,debt:pe.debt?.toString?.()??"0",unpaidRewards:pe.unpaidRewards?.toString?.()??"0",bump:pe.bump??0})}catch(te){console.log("User account not found yet (normal for new users):",te),d(null)}}catch(P){throw console.error(" Failed to fetch pool:",P),m(P?.message??"Failed to fetch pool data"),P}finally{h(!1)}},x=async N=>{if(!n)throw new Error("Wallet not connected");if(o&&!r)throw new Error("Only admin can initialize pool");h(!0),m(null);try{if(typeof window>"u"||!window.solana?.isPhantom)throw new Error("Phantom wallet not detected");window.solana.isConnected||await window.solana.connect();const P={publicKey:T(n),signTransaction:async q=>window.solana.signTransaction(q),signAllTransactions:async q=>window.solana.signAllTransactions(q)};await new Promise(q=>setTimeout(q,1e3));const{blockhash:B}=await t.getLatestBlockhash("confirmed"),z=await Su(N,P);if(!z)throw new Error("Pool initialization failed - no result returned");l({poolAddress:z.pool,admin:z.admin,stakingMint:z.stakingMint,stakingVault:z.stakingVault,rewardConfigured:!1,rewardMint:"11111111111111111111111111111111",rewardVault:"11111111111111111111111111111111",rewardRatePerSec:Number(z.ratePerSec),rateCap:0,totalStaked:Number(z.totalStaked),accScaled:"0",lastUpdateTs:Math.floor(Date.now()/1e3),paused:!1,locked:!1,bump:0,signerBump:0}),await I()}catch(P){if(P?.message?.includes("already in use")||P?.logs?.some(z=>z.includes("already in use")))try{const z=new ye(N),q=Zn(at,z);await ge(N),console.log(" Existing pool data loaded successfully");return}catch(z){throw m("Pool exists but could not load data. Please refresh the page."),z}const B=P?.message??"Failed to initialize pool";throw m(B),new Error(B)}finally{h(!1)}},f=async N=>{if(!r||!n||!o)throw new Error("Only admin can update rate");h(!0),m(null);try{const P={publicKey:T(n),signTransaction:async Q=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(Q);throw new Error("Wallet not connected")},signAllTransactions:async Q=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(Q);throw new Error("Wallet not connected")}},B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=T(o.poolAddress),{getMint:O}=await Me(async()=>{const{getMint:Q}=await import("./solana-CghHl2Ac.js").then(te=>te.k);return{getMint:Q}},__vite__mapDeps([0,1])),M=T(o.rewardMint),E=(await O(t,M)).decimals??0,J=sn(N,E);await new Promise(Q=>setTimeout(Q,1e3));const{blockhash:fe}=await t.getLatestBlockhash("confirmed"),Ne=await z.methods.setRewardRate(J).accounts({pool:q,admin:T(n)}).rpc({commitment:"confirmed",preflightCommitment:"processed"});await new Promise(Q=>setTimeout(Q,1200)),await I()}catch(P){if(console.error(" setRewardRate failed",P),P?.message?.includes("already been processed")){await I();return}else throw P?.message?.includes("Blockhash not found")?new Error("Network timing issue. Please try again in a moment."):P?.message?.includes("simulation failed")?new Error("Transaction simulation failed. Please check your admin permissions and try again."):(m(P?.message??"Failed to update rate"),P)}finally{h(!1)}},_=async N=>{if(!r||!n||!o)throw new Error("Only admin can pause/unpause pool");h(!0),m(null);try{const P={publicKey:T(n),signTransaction:async M=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(M);throw new Error("Wallet not connected")},signAllTransactions:async M=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(M);throw new Error("Wallet not connected")}},B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=T(o.poolAddress);await new Promise(M=>setTimeout(M,1e3));const{blockhash:O}=await t.getLatestBlockhash("confirmed");try{const M=await z.methods.setPaused(N).accounts({pool:q,admin:T(n)}).instruction(),X=crypto.randomUUID(),E=new ma({programId:an,keys:[],data:$e.from(`setPaused:${X}`,"utf8")}),J=new fa().add(E,M),{blockhash:fe,lastValidBlockHeight:Ne}=await t.getLatestBlockhash("finalized");J.recentBlockhash=fe,J.lastValidBlockHeight=Ne,J.feePayer=T(n);const Q=await P.signTransaction(J),te=await t.sendRawTransaction(Q.serialize(),{skipPreflight:!1});await t.confirmTransaction({signature:te,blockhash:fe,lastValidBlockHeight:Ne},"confirmed"),console.log(` Pool ${N?"paused":"unpaused"} successfully:`,te)}catch(M){if(console.error(" Transaction failed:",M),M.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success..."),console.log(` Pool ${N?"paused":"unpaused"} successfully (transaction was already processed)`),await I();return}else throw M.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):M.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient permissions or account issues"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):M}await new Promise(M=>setTimeout(M,1200)),await I()}catch(P){if(console.error(` Failed to ${N?"pause":"unpause"} pool:`,P),P?.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(` Pool ${N?"paused":"unpaused"} successfully (transaction was already processed)`),await I();return}else throw P?.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):P?.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient permissions or account issues"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(m(P?.message??`Failed to ${N?"pause":"unpause"} pool`),P)}finally{h(!1)}},v=async(N,P)=>{if(!r||!n||!o)throw new Error("Only admin can set reward config");h(!0),m(null);try{const B={publicKey:T(n),signTransaction:async ne=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(ne);throw new Error("Wallet not connected")},signAllTransactions:async ne=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(ne);throw new Error("Wallet not connected")}},z=new ze(t,B,{commitment:"confirmed"}),q=await He(z),O=T(o.poolAddress),M=dn(q.programId,O),X=T(N),{getMint:E}=await Me(async()=>{const{getMint:ne}=await import("./solana-CghHl2Ac.js").then(ue=>ue.k);return{getMint:ne}},__vite__mapDeps([0,1])),fe=(await E(t,X)).decimals??0,Ne=sn(P,fe);Ne.isZero()&&console.warn("ratePerSec scaled to 0; APY will remain 0. Use a larger rate or fewer decimals.");const Q=await wt(X,M,!0);console.log(" ATA Debug Info:"),console.log("Reward Mint:",X.toBase58()),console.log("Pool Signer PDA:",M.toBase58()),console.log("Derived Reward Vault:",Q.toBase58()),console.log(" Account Verification:"),console.log("Pool PDA:",O.toBase58()),console.log("Admin:",n),console.log("Reward Mint:",X.toBase58()),console.log("Pool Signer:",M.toBase58()),console.log("Reward Vault:",Q.toBase58());try{if(await t.getAccountInfo(Q)){console.log(" ATA already exists - checking owner...");const{getAccount:ue}=await Me(async()=>{const{getAccount:H}=await import("./solana-CghHl2Ac.js").then(he=>he.k);return{getAccount:H}},__vite__mapDeps([0,1]));try{const H=await ue(t,Q);throw console.log("ATA Owner:",H.owner.toBase58()),console.log("Expected Owner (PDA):",M.toBase58()),H.owner.equals(M)?(console.log(" ATA has correct owner (PDA)"),console.log(" Checking ATA balance..."),console.log("ATA Balance:",H.amount.toString()),H.amount>0?console.log(" ATA has existing balance - this might affect the configuration"):console.log(" ATA is empty - safe to proceed"),console.log(" BLOCKING: ATA already exists but program uses init constraint"),console.log(" The program expects to create the ATA, but it already exists"),console.log(' This will fail with "Provided owner is not allowed"'),console.log(" Solutions:"),console.log("1. Use a different reward mint (recommended)"),console.log("2. Create a new pool with different staking mint"),console.log("3. Update the program to handle existing ATAs"),new Error("ATA already exists but program uses init constraint. Please use a different reward mint or create a new pool.")):(console.log(" ATA has wrong owner! Expected PDA but got:",H.owner.toBase58()),console.log(" This ATA was created with a different owner than the PDA"),console.log(" The program expects to create the ATA with PDA as owner, but it already exists with a different owner"),console.log(" Solutions:"),console.log("1. Use a different reward mint (recommended)"),console.log("2. Create a new pool with a different staking mint"),console.log("3. The program needs to be updated to handle existing ATAs"),new Error(`ATA already exists with wrong owner. Expected ${M.toBase58()} but got ${H.owner.toBase58()}. Please use a different reward mint or create a new pool.`))}catch(H){console.log("Could not parse ATA account:",H),console.log(" ATA Account Info:",{address:Q.toBase58(),exists:!0,parseError:H instanceof Error?H.message:String(H)});try{const he=await t.getAccountInfo(Q);console.log("Raw ATA Account Info:",{address:Q.toBase58(),owner:he?.owner?.toBase58(),executable:he?.executable,lamports:he?.lamports,dataLength:he?.data?.length,data:he?.data?"Has data":"No data"})}catch(he){console.log("Could not get raw account info:",he)}console.log(" ATA exists but cannot be parsed - proceeding anyway"),console.log(" The program might be able to handle this invalid ATA state"),console.log(" If this fails, try using a different reward mint")}}else console.log(" ATA does not exist yet (normal for new setup)")}catch(ne){throw console.log("ATA check failed:",ne),ne}if(console.log("SetRewardConfig accounts",{pool:O.toBase58(),admin:n,poolSigner:M.toBase58(),rewardMint:X.toBase58(),rewardVault:Q.toBase58()}),console.log("Rate scaling:",{humanRate:P,decimals:fe,baseRate:Ne.toString(),baseRateNumber:Ne.toNumber()}),o&&o.rewardMint&&o.rewardMint!=="11111111111111111111111111111111")throw console.log(" Pool rewards are already configured!"),console.log("Current reward mint:",o.rewardMint),console.log("Current rate per sec:",o.rewardRatePerSec),console.log(" Use setRewardRate to update the rate instead"),new Error("Pool rewards are already configured. Use setRewardRate to update the rate instead.");console.log(" About to call configureRewards..."),console.log(" WARNING: The ATA already exists, but the program now uses init_if_needed"),console.log(" This should work with the updated program"),console.log(" If this fails, the pool might already be configured"),console.log(" Waiting 1 second before submitting transaction..."),await new Promise(ne=>setTimeout(ne,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:te}=await t.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",te);const pe=await q.methods.configureRewards(Ne).accounts({pool:O,admin:T(n),rewardMint:X,poolSigner:M,rewardVault:Q,tokenProgram:yt,associatedTokenProgram:Mt,systemProgram:Gt.programId,rent:Bn}).rpc({skipPreflight:!0,commitment:"confirmed"});console.log(" setRewardConfig tx:",pe),await new Promise(ne=>setTimeout(ne,1200)),await I()}catch(B){if(console.error(" setRewardConfig failed",B),B?.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(" This is normal with Phantom wallet - transaction was successful"),await I();return}else throw B?.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):B?.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to pool configuration issues or insufficient permissions"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(m(B?.message??"Failed to set reward config"),B)}finally{h(!1)}},j=async N=>{if(console.log(" STAKE FUNCTION CALLED!",{amount:N,walletAddress:n,poolData:o}),!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),m(null);try{console.log("Staking tokens:",{amount:N,walletAddress:n,poolAddress:o.poolAddress});const P=window.solana;if(!P?.publicKey)throw new Error("Wallet not connected");const B={publicKey:T(P.publicKey),signTransaction:P.signTransaction,signAllTransactions:P.signAllTransactions},z=new ze(t,B,{commitment:"confirmed"}),q=await He(z),O=T(o.poolAddress),[M,X]=ye.findProgramAddressSync([$e.from("signer"),O.toBuffer()],q.programId),{getAccount:E}=await Me(async()=>{const{getAccount:K}=await import("./solana-CghHl2Ac.js").then(Pe=>Pe.k);return{getAccount:K}},__vite__mapDeps([0,1])),J=T(o.stakingVault);console.log(" Reading pool signer from vault authority...");const fe=await E(t,J),Ne=new ye(fe.owner);console.log(" Pool signer (from vault authority):",Ne.toBase58()),console.log(" Comparing with our derivation:",M.toBase58()),console.log(" Expected from error:","DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt"),console.log(" Matches expected:",Ne.toBase58()==="DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt");const Q=Ne,te=St(q.programId,O,T(n));console.log(" PDA Derivation Debug:"),console.log("Program ID:",q.programId.toBase58()),console.log("Pool PDA:",O.toBase58()),console.log("Signer PDA (our derivation):",M.toBase58()),console.log("User PDA:",te.toBase58());const[pe,ne]=ye.findProgramAddressSync([$e.from("signer"),O.toBuffer()],q.programId);console.log("Expected Signer PDA:",pe.toBase58()),console.log("Expected Bump:",ne),console.log("Signer PDA matches expected:",M.equals(pe));const[ue,H]=ye.findProgramAddressSync([$e.from("pool_signer"),O.toBuffer()],q.programId);console.log("Alternative Signer PDA (pool_signer):",ue.toBase58());const[he,Ee]=ye.findProgramAddressSync([$e.from("signer"),O.toBuffer()],q.programId);console.log("Alternative Signer PDA (signer):",he.toBase58());const De="DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt";console.log("Expected from error:",De),console.log("Our derivation matches error:",M.toBase58()===De),console.log("Alt derivation 1 matches error:",ue.toBase58()===De),console.log("Alt derivation 2 matches error:",he.toBase58()===De);const Fe=await wt(T(o.stakingMint),T(n)),Se=T(o.stakingVault),{getMint:Ge}=await Me(async()=>{const{getMint:K}=await import("./solana-CghHl2Ac.js").then(Pe=>Pe.k);return{getMint:K}},__vite__mapDeps([0,1])),me=(await Ge(t,T(o.stakingMint))).decimals??0,oe=sn(N,me);console.log("Stake scaling:",{humanAmount:N,decimals:me,baseAmount:oe.toString()}),console.log("Stake accounts:",{owner:n,pool:O.toBase58(),signer:Q.toBase58(),userStakingAta:Fe.toBase58(),stakingVault:Se.toBase58(),user:te.toBase58()});try{const K=await E(t,Fe);if(console.log(" User token balance:",K.amount.toString()),console.log(" Amount to stake:",oe.toString()),K.amount<BigInt(oe.toString()))throw new Error(`Insufficient token balance. Available: ${K.amount.toString()}, Required: ${oe.toString()}`)}catch(K){console.log(" Could not check token balance:",K),console.log(" Proceeding with transaction - balance will be checked by the program")}console.log(" Waiting 1 second before submitting transaction..."),await new Promise(K=>setTimeout(K,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:_e}=await t.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",_e),o.signerBump&&o.signerBump>0&&(console.log(" Pool data has signerBump:",o.signerBump),console.log(" This suggests the signer PDA was derived during pool initialization"),console.log(" Let me check if we need to use a different derivation..."));try{const K=await q.methods.stake(oe).accounts({owner:T(n),pool:O,poolSigner:Q,userStakingAta:Fe,stakingVault:Se,user:te,systemProgram:Gt.programId,tokenProgram:yt,associatedTokenProgram:Mt,rent:Bn}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log(" Stake transaction successful:",K)}catch(K){if(console.error(" Transaction failed:",K),K.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(" Stake successful (transaction was already processed)"),await I();return}else throw K.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):K.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient funds or account issues"),new Error("Transaction simulation failed. Please check your token balance and try again.")):K}console.log(" Stake successful"),await I()}catch(P){throw console.error(" Stake failed:",P),m(P?.message??"Failed to stake"),P}finally{h(!1)}},b=async N=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),m(null);try{console.log("Unstaking tokens:",{amount:N,walletAddress:n,poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:async H=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(H);throw new Error("Wallet not connected")},signAllTransactions:async H=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(H);throw new Error("Wallet not connected")}},B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=T(o.poolAddress),{getAccount:O}=await Me(async()=>{const{getAccount:H}=await import("./solana-CghHl2Ac.js").then(he=>he.k);return{getAccount:H}},__vite__mapDeps([0,1])),M=T(o.stakingVault);console.log(" Reading pool signer from vault authority for unstake...");const X=await O(t,M),E=new ye(X.owner);console.log(" Pool signer (from vault authority):",E.toBase58());const J=St(z.programId,q,T(n)),fe=await wt(T(o.stakingMint),T(n)),Ne=T(o.stakingVault),{getMint:Q}=await Me(async()=>{const{getMint:H}=await import("./solana-CghHl2Ac.js").then(he=>he.k);return{getMint:H}},__vite__mapDeps([0,1])),pe=(await Q(t,T(o.stakingMint))).decimals??0,ne=sn(N,pe);console.log("Unstake scaling:",{humanAmount:N,decimals:pe,baseAmount:ne.toString()}),console.log("Unstake accounts:",{owner:n,pool:q.toBase58(),signer:E.toBase58(),stakingVault:Ne.toBase58(),userStakingAta:fe.toBase58(),user:J.toBase58()});try{const H=await O(t,fe);if(console.log(" User staked balance:",H.amount.toString()),console.log(" Amount to unstake:",ne.toString()),H.amount<BigInt(ne.toString()))throw new Error(`Insufficient staked balance. Available: ${H.amount.toString()}, Required: ${ne.toString()}`)}catch(H){console.log(" Could not check staked balance:",H),console.log(" Proceeding with transaction - balance will be checked by the program")}console.log(" Waiting 1 second before submitting transaction..."),await new Promise(H=>setTimeout(H,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:ue}=await t.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",ue);try{const H=await z.methods.unstake(ne).accounts({owner:T(n),pool:q,poolSigner:E,stakingVault:Ne,userStakingAta:fe,user:J,tokenProgram:yt}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log(" Unstake transaction successful:",H)}catch(H){if(console.error(" Transaction failed:",H),H.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(" Unstake successful (transaction was already processed)"),await I();return}else throw H.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):H.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient staked balance or account issues"),new Error("Transaction simulation failed. Please check your staked balance and try again.")):H}console.log(" Unstake successful"),await I()}catch(P){throw console.error(" Unstake failed:",P),m(P?.message??"Failed to unstake"),P}finally{h(!1)}},V=async()=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");const N=Date.now();if(N-de<5e3)throw new Error("Please wait a few seconds before submitting another transaction");h(!0),m(null),ee(N);try{console.log("Claiming rewards:",{walletAddress:n,poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:async ue=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(ue);throw new Error("Wallet not connected")},signAllTransactions:async ue=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(ue);throw new Error("Wallet not connected")}},B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=T(o.poolAddress),{getAccount:O}=await Me(async()=>{const{getAccount:ue}=await import("./solana-CghHl2Ac.js").then(H=>H.k);return{getAccount:ue}},__vite__mapDeps([0,1])),M=T(o.stakingVault);console.log(" Reading pool signer from vault authority for claim...");const X=await O(t,M),E=new ye(X.owner);console.log(" Pool signer (from vault authority):",E.toBase58());const J=St(z.programId,q,T(n)),fe=T(o.rewardVault);console.log(" Ensuring user reward ATA exists..."),console.log(" Reward mint:",o.rewardMint),console.log(" User wallet:",n);const Ne=await t.getBalance(T(n)),Q=.002*1e9;if(console.log(" User SOL balance:",Ne/1e9,"SOL"),console.log(" Minimum required:",Q/1e9,"SOL"),Ne<Q)throw new Error(`Insufficient SOL balance. You need at least 0.002 SOL to create token accounts. Current balance: ${(Ne/1e9).toFixed(6)} SOL`);let te;const pe=await wt(T(o.rewardMint),T(n));if(console.log(" Derived ATA address:",pe.toBase58()),await t.getAccountInfo(pe))console.log(" ATA already exists:",pe.toBase58()),te=pe;else{console.log(" ATA does not exist, creating it...");try{te=(await Do(t,P,T(o.rewardMint),T(n))).address,console.log(" ATA created automatically:",te.toBase58())}catch(ue){console.log(" Automatic creation failed, trying manual creation:",ue.message);try{const{createAssociatedTokenAccountInstruction:H}=await Me(async()=>{const{createAssociatedTokenAccountInstruction:Ge}=await import("./solana-CghHl2Ac.js").then(Y=>Y.k);return{createAssociatedTokenAccountInstruction:Ge}},__vite__mapDeps([0,1])),{Transaction:he}=await Me(async()=>{const{Transaction:Ge}=await import("./solana-CghHl2Ac.js").then(Y=>Y.j);return{Transaction:Ge}},__vite__mapDeps([0,1])),Ee=new he;Ee.add(H(T(n),pe,T(n),T(o.rewardMint)));const{blockhash:De}=await t.getLatestBlockhash("confirmed");Ee.recentBlockhash=De,Ee.feePayer=T(n);const Fe=await P.signTransaction(Ee),Se=await t.sendRawTransaction(Fe.serialize());await t.confirmTransaction(Se,"confirmed"),console.log(" ATA created manually:",Se),te=pe}catch(H){throw new Error(`Failed to create user reward token account. Please ensure you have enough SOL (at least 0.002 SOL) for the account creation fee. Error: ${H.message}`)}}}console.log("Claim accounts:",{owner:n,pool:q.toBase58(),poolSigner:E.toBase58(),rewardVault:fe.toBase58(),userRewardAta:te.toBase58(),user:J.toBase58()}),console.log(" Waiting 1 second before submitting transaction..."),await new Promise(ue=>setTimeout(ue,1e3));try{console.log(" Building claim instruction manually...");const ue=await z.methods.claim().accounts({owner:T(n),pool:q,poolSigner:E,rewardVault:fe,userRewardAta:te,user:J,tokenProgram:yt,associatedTokenProgram:Mt}).instruction(),H=crypto.randomUUID(),he=new ma({programId:an,keys:[],data:$e.from(`claim:${H}`,"utf8")});console.log(" Using unique memo:",H);const Ee=new fa().add(he,ue),{blockhash:De,lastValidBlockHeight:Fe}=await t.getLatestBlockhash("finalized");Ee.recentBlockhash=De,Ee.lastValidBlockHeight=Fe,Ee.feePayer=T(n),console.log(" Using fresh blockhash:",De);const Se=await P.signTransaction(Ee),Ge=await t.sendRawTransaction(Se.serialize(),{skipPreflight:!1});await t.confirmTransaction({signature:Ge,blockhash:De,lastValidBlockHeight:Fe},"confirmed"),console.log(" Claim transaction successful:",Ge);try{const Y=await t.getTokenAccountBalance(te),me=Number(Y.value.amount),oe=me/Math.pow(10,ie);console.log(" Current reward balance after claim:",{baseUnits:me,uiAmount:oe,decimals:ie})}catch(Y){console.log("Could not check balance after claim:",Y)}}catch(ue){if(console.error(" Transaction failed:",ue),ue.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success..."),console.log(" Claim successful (transaction was already processed)"),await I();return}else throw ue.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):ue.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient rewards or account issues"),new Error("Transaction simulation failed. Please check your rewards and try again.")):ue}console.log(" Claim successful"),await I()}catch(P){throw console.error(" Claim failed:",P),m(P?.message??"Failed to claim rewards"),P}finally{h(!1)}},L=async()=>{if(!o)return console.log("No pool data available"),0;if(o.rewardVault==="11111111111111111111111111111111")return console.log("Reward vault not configured yet"),0;try{const N=T(o.rewardVault),P=await t.getTokenAccountBalance(N);return console.log("Reward Vault Balance:",{vaultAddress:N.toBase58(),balance:P.value.uiAmount,balanceString:P.value.uiAmountString,decimals:P.value.decimals}),P.value.uiAmount||0}catch(N){return console.error("Failed to check reward vault balance:",N),0}},C=async()=>{if(!o)return null;try{if(console.log(" APY Calculation Debug:",{rewardMint:o.rewardMint,ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked,rewardConfigured:o.rewardMint!=="11111111111111111111111111111111"}),o.rewardRatePerSec>0){const pe=new ye(o.rewardMint),{getMint:ne}=await Me(async()=>{const{getMint:Ee}=await import("./solana-CghHl2Ac.js").then(De=>De.k);return{getMint:Ee}},__vite__mapDeps([0,1])),H=(await ne(t,pe)).decimals??0,he=o.rewardRatePerSec/10**H;console.log(" Current Rate Settings:",{baseUnits:o.rewardRatePerSec,humanReadable:he,decimals:H,perSecond:`${he} tokens per second`,perDay:`${(he*86400).toFixed(6)} tokens per day`,perYear:`${(he*31536e3).toFixed(6)} tokens per year`})}if(!o.rewardMint||o.rewardMint==="11111111111111111111111111111111")return console.log(" Reward configuration not set"),null;if(o.rewardRatePerSec<=0)return console.log(" Invalid rate:",{ratePerSec:o.rewardRatePerSec,reason:"Rate is 0 or negative"}),null;if(o.totalStaked<=0){console.log(" No tokens staked yet - showing theoretical APY (assuming 1 token staked)");const pe=new ye(o.stakingMint),ne=new ye(o.rewardMint),{getMint:ue}=await Me(async()=>{const{getMint:_e}=await import("./solana-CghHl2Ac.js").then(K=>K.k);return{getMint:_e}},__vite__mapDeps([0,1])),H=await ue(t,pe),he=await ue(t,ne),Ee=H.decimals??0,De=he.decimals??0,Fe=o.rewardRatePerSec/10**De,Se=1,Ge=31536e3,Y=Fe*Ge,oe=Y/Se*100;return console.log(" Theoretical APY (1 token staked):",{ratePerSecUI:Fe,theoreticalStaked:Se,yearlyRewards:Y,apyPercent:`${oe.toFixed(6)}%`,formula:`(${Fe} * ${Ge} / ${Se}) * 100 = ${oe.toFixed(6)}%`}),{ratePerSecUI:Fe,totalStakedUI:Se,yearlyRewards:Y,secondsPerYear:Ge,apyPercent:oe,decimals:{staking:Ee,reward:De},baseUnits:{ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked},isTheoretical:!0}}const N=new ye(o.stakingMint),P=new ye(o.rewardMint),{getMint:B}=await Me(async()=>{const{getMint:pe}=await import("./solana-CghHl2Ac.js").then(ne=>ne.k);return{getMint:pe}},__vite__mapDeps([0,1])),z=await B(t,N),q=await B(t,P),O=z.decimals??0,M=q.decimals??0,X=o.rewardRatePerSec/10**M,E=o.totalStaked/10**O;if(E<=0)return null;const J=31536e3,fe=X*J,Q=fe/E*100,te={ratePerSecUI:X,totalStakedUI:E,yearlyRewards:fe,secondsPerYear:J,apyPercent:Q,decimals:{staking:O,reward:M},baseUnits:{ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked}};return console.log(" APY Debugger:",te),console.log(" APY Calculation successful:",{ratePerSecUI:X,totalStakedUI:E,apyPercent:`${Q.toFixed(6)}%`,formula:`(${X} * ${J} / ${E}) * 100 = ${Q.toFixed(6)}%`}),te}catch(N){return console.error("Failed to compute APY:",N),null}},W=async()=>{if(!o){console.log("No pool data available");return}try{if(console.log(" Checking current pool state..."),console.log("Current pool data:",{poolAddress:o.poolAddress,rewardMint:o.rewardMint,ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked,admin:o.admin}),o.rewardMint&&o.rewardMint!=="11111111111111111111111111111111"){console.log(" Reward configuration is already set!"),console.log("Reward Mint:",o.rewardMint),console.log("Rate Per Second:",o.rewardRatePerSec);const N=await C();N&&console.log("Current APY:",`${N.apyPercent.toFixed(6)}%`),await L()}else console.log(" Reward configuration not set yet"),console.log("Reward Mint:",o.rewardMint),console.log("Rate Per Second:",o.rewardRatePerSec)}catch(N){console.error("Failed to check pool state:",N)}},le=async N=>{if(!r||!n||!o)throw new Error("Only admin can add reward tokens");const P=Date.now();if(P-de<5e3)throw new Error("Please wait a few seconds before submitting another transaction");h(!0),m(null),ee(P);try{const B={publicKey:T(n),signTransaction:async K=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(K);throw new Error("Wallet not connected")},signAllTransactions:async K=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(K);throw new Error("Wallet not connected")}},z=new ze(t,B,{commitment:"confirmed"}),q=await He(z),O=T(o.poolAddress),M=dn(q.programId,O),X=T(o.rewardMint);if(!X)throw new Error("Reward mint not configured yet");const E=await wt(X,M,!0),J=await wt(X,T(n));try{const K=await t.getTokenAccountBalance(J);if(console.log("Admin balance before transfer:",K.value.uiAmount),K.value.uiAmount===null||K.value.uiAmount<N)throw console.log(" Insufficient reward tokens in admin wallet!"),console.log(" Admin balance:",K.value.uiAmount),console.log(" Required amount:",N),console.log(" Solution: You need to acquire some reward tokens first"),console.log(" Reward mint:",X.toBase58()),new Error(`Insufficient reward tokens. Admin has ${K.value.uiAmount||0} tokens, but needs ${N} tokens. Please acquire some reward tokens first.`)}catch(K){if(K instanceof Error&&K.message?.includes("Insufficient reward tokens"))throw K;console.log("Admin ATA does not exist for reward mint, creating it...");const{createAssociatedTokenAccountInstruction:Pe}=await Me(async()=>{const{createAssociatedTokenAccountInstruction:ft}=await import("./solana-CghHl2Ac.js").then(jn=>jn.k);return{createAssociatedTokenAccountInstruction:ft}},__vite__mapDeps([0,1])),{Transaction:st}=await Me(async()=>{const{Transaction:ft}=await import("./solana-CghHl2Ac.js").then(jn=>jn.j);return{Transaction:ft}},__vite__mapDeps([0,1])),Ue=new st;Ue.add(Pe(T(n),J,T(n),X)),console.log("Creating admin ATA for reward mint...");const ot=await z.sendAndConfirm(Ue);throw console.log("Admin ATA created:",ot),console.log(" Admin ATA created but has 0 balance"),console.log(" You need to acquire some reward tokens first"),console.log(" Reward mint:",X.toBase58()),new Error("Admin ATA created but has 0 balance. Please acquire some reward tokens first.")}const fe=await t.getAccountInfo(E),{createAssociatedTokenAccountInstruction:Ne,getMint:Q,createTransferCheckedInstruction:te}=await Me(async()=>{const{createAssociatedTokenAccountInstruction:K,getMint:Pe,createTransferCheckedInstruction:st}=await import("./solana-CghHl2Ac.js").then(Ue=>Ue.k);return{createAssociatedTokenAccountInstruction:K,getMint:Pe,createTransferCheckedInstruction:st}},__vite__mapDeps([0,1])),{Transaction:pe}=await Me(async()=>{const{Transaction:K}=await import("./solana-CghHl2Ac.js").then(Pe=>Pe.j);return{Transaction:K}},__vite__mapDeps([0,1])),ne=new pe,{blockhash:ue,lastValidBlockHeight:H}=await t.getLatestBlockhash("confirmed");ne.recentBlockhash=ue,ne.lastValidBlockHeight=H,ne.feePayer=T(n),console.log(" Fresh blockhash:",ue),console.log(" Last valid block height:",H);const he=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Ee=$e.from(`reward-top-up-${he}`,"utf8"),De={programId:an,keys:[{pubkey:T(n),isSigner:!0,isWritable:!1}],data:Ee};ne.add(De),fe||ne.add(Ne(T(n),E,M,X));const Se=(await Q(t,X)).decimals??0,Ge=BigInt(10)**BigInt(Se),Y=BigInt(Math.trunc(N))*Ge;ne.add(te(J,X,E,T(n),Y,Se)),console.log("Sending addRewardTokens tx",{pool:O.toBase58(),signer:M.toBase58(),rewardMint:X.toBase58(),rewardVault:E.toBase58(),adminRewardAta:J.toBase58(),decimals:Se,amountBaseUnits:Y.toString()});let me,oe=0;const _e=3;for(;oe<_e;)try{console.log(` Attempting transaction (attempt ${oe+1}/${_e})...`),me=await z.sendAndConfirm(ne,[],{commitment:"confirmed",skipPreflight:!1,preflightCommitment:"confirmed"}),console.log(" Transfer transaction successful:",me);break}catch(K){if(oe++,console.log(` Attempt ${oe} failed:`,K.message),K.message.includes("already been processed")){console.log(" Transaction was already processed - checking if it succeeded...");try{const ft=await t.getTokenAccountBalance(E);if(ft.value.uiAmount&&ft.value.uiAmount>0){console.log(" Transaction actually succeeded despite error message");break}}catch(ft){console.log("Could not check vault balance:",ft)}}if(oe>=_e)throw K;await new Promise(ft=>setTimeout(ft,1e3*oe));const{blockhash:Pe,lastValidBlockHeight:st}=await t.getLatestBlockhash("confirmed");ne.recentBlockhash=Pe,ne.lastValidBlockHeight=st;const Ue=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ot=$e.from(`reward-top-up-${Ue}`,"utf8");ne.instructions[0]={programId:an,keys:[{pubkey:T(n),isSigner:!0,isWritable:!1}],data:ot}}try{const K=await t.getTokenAccountBalance(J),Pe=await t.getTokenAccountBalance(E);console.log("Balances after transfer:",{adminBalance:K.value.uiAmount,vaultBalance:Pe.value.uiAmount,vaultAddress:E.toBase58()})}catch(K){console.log("Could not check balances after transfer:",K)}console.log(" Reward tokens transferred into vault");try{const K=await t.getTokenAccountBalance(J),Pe=await t.getTokenAccountBalance(E);console.log(" Balances after transfer:",{adminBalance:K.value.uiAmount,vaultBalance:Pe.value.uiAmount,vaultAddress:E.toBase58()}),Pe.value.uiAmount&&Pe.value.uiAmount>0?(console.log(" Reward vault now has tokens!"),console.log(" Vault balance:",Pe.value.uiAmount),console.log(" This should enable APY calculation once users stake")):console.log(" Vault balance is still 0 - check if transfer was successful")}catch(K){console.log("Could not check balances after transfer:",K)}await I()}catch(B){throw console.error(" addRewardTokens failed",B),B?.message?.includes("already been processed")?(console.log(" Transaction already processed - this might be a duplicate submission"),console.log(" Try refreshing the page and attempting the token transfer again"),new Error("Transaction already processed. Please refresh and try again.")):B?.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):B?.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient token balance or account issues"),new Error("Transaction simulation failed. Please check your token balance and try again.")):B?.message?.includes("Insufficient reward tokens")?(console.log(" Insufficient reward tokens - admin needs more tokens"),new Error("Insufficient reward tokens. Please acquire more reward tokens first.")):(m(B?.message??"Failed to add reward tokens"),B)}finally{h(!1)}},re=N=>{console.log(` Setting staking mint to: ${N}`),Z(N)},G=async(N,P,B)=>{const z=T(N);try{const{getAccount:M}=await Me(async()=>{const{getAccount:J}=await import("./solana-CghHl2Ac.js").then(fe=>fe.k);return{getAccount:J}},__vite__mapDeps([0,1])),X=await M(t,T(P)),E=new ye(X.owner);return console.log("[Staking] Resolved pool signer from vault authority:",E.toBase58()),E}catch(M){console.log("[Staking] Unable to read vault authority, falling back to PDA derivation",M)}const q=[$e.from("pool-signer"),$e.from("pool_signer"),$e.from("signer")];for(const M of q)try{const[X,E]=ye.findProgramAddressSync([M,z.toBuffer()],at);if(B===void 0||E===B)return console.log("[Staking] Using derived signer PDA",X.toBase58(),"seed",M.toString()),X}catch(X){console.log("[Staking] Failed to derive signer with seed",M.toString(),X)}const O=dn(at,z);return console.log("[Staking] Using fallback signer helper",O.toBase58()),O},Ke={connection:t,walletAddress:n,isAdmin:r,poolData:o,userData:u,isLoading:g,isInitialLoad:y,error:w,stakingMint:F,stakingDecimals:se,rewardDecimals:ie,initializePool:x,fetchPoolByMint:ge,setStakingMint:re,diagnoseAccount:async N=>{try{const P=await t.getAccountInfo(new ye(N));if(!P){console.log(" Account does not exist");return}return console.log(" Account Diagnosis:"),console.log("- Address:",N),console.log("- Owner:",P.owner.toBase58()),console.log("- Executable:",P.executable),console.log("- Lamports:",P.lamports),console.log("- Data Length:",P.data?.length),console.log("- Is Program Account:",P.owner.equals(at)),P.data&&P.data.length>0&&(console.log("- First 32 bytes:",Array.from(P.data.slice(0,32))),console.log("- Last 32 bytes:",Array.from(P.data.slice(-32)))),P}catch(P){console.error(" Failed to diagnose account:",P)}},fetchOnChainIdl:async()=>{try{const N={publicKey:T(n),signTransaction:async z=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(z);throw new Error("Wallet not connected")},signAllTransactions:async z=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(z);throw new Error("Wallet not connected")}},P=new ze(t,N,{commitment:"confirmed"}),B=await Pu(P);return B?(console.log(" On-chain IDL fetched successfully"),B):(console.log(" Failed to fetch on-chain IDL"),null)}catch(N){return console.error(" Failed to fetch on-chain IDL:",N),null}},verifyPdaSeeds:N=>{console.log(" Verifying PDA seeds match program expectations...");const P=new ye(N),B=at,[z,q]=ye.findProgramAddressSync([$e.from("pool"),P.toBuffer()],B);console.log("PDA Derivation:",{programId:B.toBase58(),stakingMint:P.toBase58(),seeds:["pool",P.toBase58()],derivedPDA:z.toBase58(),bump:q});const O=[$e.from("pool"),P.toBuffer()],[M,X]=ye.findProgramAddressSync(O,B);if(!z.equals(M))throw new Error("PDA derivation mismatch - seeds do not match program expectations");return console.log(" PDA seeds match program expectations"),{poolPDA:z,bump:q}},setRewardConfig:v,setRewardRate:f,setPaused:_,addRewardTokens:le,checkRewardVaultBalance:L,checkCurrentPoolState:W,computeApy:C,stake:j,unstake:b,emergencyUnstake:async N=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),m(null);try{console.log("Emergency unstaking tokens:",{amount:N,walletAddress:n,poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=T(o.poolAddress),O=T(o.stakingMint),M=await G(o.poolAddress,o.stakingVault,o.signerBump),X=await z.methods.emergencyUnstake(new ct(N)).accounts({owner:T(n),pool:q,poolSigner:M,userStakingAta:await wt(O,T(n)),stakingVault:T(o.stakingVault),user:St(z.programId,q,T(n)),systemProgram:Gt.programId,tokenProgram:yt,associatedTokenProgram:Mt}).rpc();console.log(" Emergency unstake successful:",X),await I()}catch(P){throw console.error(" Emergency unstake failed:",P),m(P?.message??"Failed to emergency unstake"),P}finally{h(!1)}},claim:V,withdrawRewards:async N=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),m(null);try{console.log("Withdrawing rewards:",{amount:N,poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=T(o.poolAddress),O=T(o.rewardMint),M=await G(o.poolAddress,o.stakingVault,o.signerBump),X=await z.methods.withdrawRewards(new ct(N)).accounts({pool:q,admin:T(n),poolSigner:M,rewardVault:T(o.rewardVault),adminRewardAta:await wt(O,T(n)),tokenProgram:yt,associatedTokenProgram:Mt}).rpc();console.log(" Rewards withdrawn successfully:",X),await I()}catch(P){throw console.error(" Withdraw rewards failed:",P),m(P?.message??"Failed to withdraw rewards"),P}finally{h(!1)}},setAdmin:async N=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),m(null);try{console.log("Setting new admin:",{newAdmin:N,poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},B=new ze(t,P,{commitment:"confirmed"}),z=await He(B),q=T(o.poolAddress),O=await z.methods.setAdmin(T(N)).accounts({pool:q,admin:T(n)}).rpc();console.log(" Admin updated successfully:",O),await I()}catch(P){throw console.error(" Set admin failed:",P),m(P?.message??"Failed to set admin"),P}finally{h(!1)}},fetchAdmin:async()=>{if(!o)return console.log("No pool data available to fetch admin"),null;try{console.log("Fetching current admin from pool:",o.poolAddress);const N=T(o.poolAddress),P=await t.getAccountInfo(N);if(!P)return console.log("Pool account not found"),null;const B=P.data;if(B.length<32)return console.log("Invalid pool account data"),null;const z=B.slice(0,32),O=new ye(z).toBase58();return console.log(" Current admin fetched:",O),O}catch(N){return console.error(" Failed to fetch admin:",N),null}},ensureVaults:async()=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),m(null);try{console.log("Ensuring vaults exist:",{poolAddress:o.poolAddress});const N={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},P=new ze(t,N,{commitment:"confirmed"}),B=await He(P),z=T(o.poolAddress),q=T(o.stakingMint),O=o.rewardConfigured?T(o.rewardMint):void 0,M=await G(o.poolAddress,o.stakingVault,o.signerBump),X={pool:z,admin:T(n),poolSigner:M,stakingMint:q,stakingVault:T(o.stakingVault),associatedTokenProgram:Mt,tokenProgram:yt,systemProgram:Gt.programId};O&&(X.rewardMint=O,X.rewardVault=T(o.rewardVault));const E=await B.methods.ensureVaults().accounts(X).rpc();console.log(" Vaults ensured successfully:",E),await I()}catch(N){throw console.error(" Ensure vaults failed:",N),m(N?.message??"Failed to ensure vaults"),N}finally{h(!1)}},closeUser:async()=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),m(null);try{console.log("Closing user account:",{walletAddress:n,poolAddress:o.poolAddress});const N={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},P=new ze(t,N,{commitment:"confirmed"}),B=await He(P),z=T(o.poolAddress),q=await B.methods.closeUser().accounts({owner:T(n),pool:z,user:St(B.programId,z,T(n))}).rpc();console.log(" User account closed successfully:",q),await I()}catch(N){throw console.error(" Close user failed:",N),m(N?.message??"Failed to close user account"),N}finally{h(!1)}},closePool:async()=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),m(null);try{console.log("Closing pool:",{poolAddress:o.poolAddress});const N={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},P=new ze(t,N,{commitment:"confirmed"}),B=await He(P),z=T(o.poolAddress),q=await G(o.poolAddress,o.stakingVault,o.signerBump),O={pool:z,admin:T(n),poolSigner:q,stakingVault:T(o.stakingVault),tokenProgram:yt};o.rewardConfigured&&(O.rewardVault=T(o.rewardVault));const M=await B.methods.closePool().accounts(O).rpc();console.log(" Pool closed successfully:",M),await I()}catch(N){throw console.error(" Close pool failed:",N),m(N?.message??"Failed to close pool"),N}finally{h(!1)}},refreshData:I,connectWallet:async()=>{if(typeof window>"u"||!window.solana?.isPhantom)throw new Error("Phantom wallet not detected. Please install Phantom wallet.");try{const N=await window.solana.connect();s(N?.publicKey?.toString()??null),console.log(" Wallet connected:",N?.publicKey?.toString())}catch(N){throw console.error(" Failed to connect wallet:",N),new Error("Failed to connect wallet. Please try again.")}},disconnectWallet:()=>{s(null),console.log(" Wallet disconnected")}};return a.jsx(zr.Provider,{value:Ke,children:e})}function zt(){const e=c.useContext(zr);if(!e)throw new Error("useStaking must be used within a StakingProvider");return e}const Wr=c.createContext(void 0);function Tu({children:e}){const[t,n]=c.useState([]),s=d=>{const g=Math.random().toString(36).substr(2,9),h={...d,id:g};n(w=>[...w,h])},r=d=>{n(g=>g.filter(h=>h.id!==d))},i=(d,g,h=5e3)=>{s({type:"success",title:d,message:g,duration:h})},o=(d,g,h=7e3)=>{s({type:"error",title:d,message:g,duration:h})},l=(d,g,h=6e3)=>{s({type:"warning",title:d,message:g,duration:h})},u=(d,g,h=5e3)=>{s({type:"info",title:d,message:g,duration:h})};return a.jsx(Wr.Provider,{value:{showSuccess:i,showError:o,showWarning:l,showInfo:u,notifications:t,removeNotification:r},children:e})}function qr(){const e=c.useContext(Wr);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e}const Wa=BigInt("1000000000000"),Cu=31536e3;function Kr(e,t,n=Math.floor(Date.now()/1e3)){return c.useMemo(()=>{if(!e||!t||t.staked===0)return null;const s=BigInt(Math.max(0,n-e.lastUpdateTs)),r=e.totalStaked>0?BigInt(e.accScaled)+s*BigInt(e.rewardRatePerSec)*Wa/BigInt(e.totalStaked):BigInt(e.accScaled),i=BigInt(t.staked)*r/Wa-BigInt(t.debt)+BigInt(t.unpaidRewards),o=e.rewardDecimals??6,l=Number(i)/10**o,u=Number(BigInt(e.rewardRatePerSec)*BigInt(Cu))/10**o,d=e.totalStaked/10**(e.stakeDecimals??6),g=d>0?u/d*100:0;return{pendingUI:l,apy:g}},[e,t,n])}const ea=(e,t,n=0,s=8)=>{const i=(typeof e=="number"?e:Number(e))/Math.pow(10,t);return i===0?"0.000000":i<1e-6?i.toExponential(6):i.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:s})};function Eu(){const e=c.useRef(null),t=c.useRef([]),n=c.useRef({x:0,y:0}),s=c.useRef();return c.useEffect(()=>{const r=e.current;if(!r)return;const i=r.getContext("2d");if(!i)return;const o=()=>{r.width=window.innerWidth,r.height=window.innerHeight},l=d=>{n.current={x:d.clientX,y:d.clientY};for(let g=0;g<3;g++)t.current.push({x:d.clientX,y:d.clientY,vx:(Math.random()-.5)*2,vy:(Math.random()-.5)*2,life:60,maxLife:60,size:Math.random()*3+1,color:Math.random()>.5?"#00ff88":"#ff00ff"})},u=()=>{i.clearRect(0,0,r.width,r.height),t.current=t.current.filter(d=>{d.x+=d.vx,d.y+=d.vy,d.life--;const g=d.life/d.maxLife;return i.save(),i.globalAlpha=g,i.fillStyle=d.color,i.beginPath(),i.arc(d.x,d.y,d.size,0,Math.PI*2),i.fill(),i.restore(),d.life>0}),s.current=requestAnimationFrame(u)};return o(),window.addEventListener("resize",o),window.addEventListener("mousemove",l),u(),()=>{window.removeEventListener("resize",o),window.removeEventListener("mousemove",l),s.current&&cancelAnimationFrame(s.current)}},[]),a.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-10",style:{background:"transparent"}})}function Mu(){return Qs(),c.useEffect(()=>{const e=window.location.hash;if(e){const t=document.getElementById(e.substring(1));t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth"})},100)}},[]),a.jsxs("div",{id:"home",className:"relative",children:[a.jsx(Eu,{}),a.jsx(Ru,{}),a.jsx(Du,{}),a.jsx(Lu,{}),a.jsx(Bu,{}),a.jsx(Fu,{}),a.jsx(Uu,{})]})}function ca(){const e=c.useRef(null),t=c.useRef(null),n=c.useRef(0);return c.useEffect(()=>{const s=window.innerWidth<768;let r=null;const i=()=>{const u=window.scrollY||window.pageYOffset;if(n.current=u,!e.current)return;const d=e.current.getBoundingClientRect(),g=Math.min(Math.max((window.innerHeight-d.top)/(window.innerHeight+d.height),-1),2);Array.from(e.current.querySelectorAll("[data-orb]")).forEach((w,m)=>{const S=(m+1)*.06,p=Math.sin((u+m*100)/200)*(10+m*6),y=-g*(40+m*20)*S;w.style.transform=`translate3d(${p}px, ${y}px, 0) scale(${1+m*.01})`}),t.current=requestAnimationFrame(i)},o=()=>{t.current=requestAnimationFrame(i),window.addEventListener("resize",i),window.addEventListener("scroll",i,{passive:!0})},l=()=>{t.current&&(cancelAnimationFrame(t.current),t.current=null),window.removeEventListener("resize",i),window.removeEventListener("scroll",i)};return s?(o(),r=setTimeout(()=>{l(),e.current&&Array.from(e.current.querySelectorAll("[data-orb]")).forEach((d,g)=>{d.style.transform=`translate3d(0px, 0px, 0) scale(${1+g*.01})`})},4e3)):o(),()=>{l(),r&&clearTimeout(r)}},[]),a.jsxs("div",{ref:e,"aria-hidden":!0,className:"pointer-events-none absolute inset-0 overflow-hidden",children:[a.jsx("div",{"data-orb":!0,className:"absolute -top-24 -left-24 h-72 w-72 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-mint)/0.6), transparent 60%)"}}),a.jsx("div",{"data-orb":!0,className:"absolute -top-16 right-0 h-96 w-96 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-purple)/0.55), transparent 60%)"}}),a.jsx("div",{"data-orb":!0,className:"absolute bottom-0 left-1/3 h-80 w-80 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-pink)/0.5), transparent 60%)"}})]})}function Ru(){return a.jsx("div",{className:"hero-wrapper",children:a.jsxs("section",{className:"hero-content",children:[a.jsx(ca,{}),a.jsxs("div",{className:"container flex flex-col items-center text-center gap-6",children:[a.jsx("div",{className:"relative",children:a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-[11px] uppercase tracking-wider text-foreground/80 reveal","data-reveal":!0,children:[a.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gradient-to-r from-solana-mint via-solana-purple to-solana-pink"}),"Built for Solana | Pump.fun origins"]})}),a.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-[1.05] reveal","data-reveal":!0,children:["Stake"," ",a.jsx("span",{className:"text-gradient inline-block min-w-[120px] h-[1.2em]",children:a.jsx($a,{words:["NPC","N.P.C"],loop:!1})}),".",a.jsx("br",{}),"Make your bags"," ",a.jsx("span",{className:"text-gradient inline-block min-w-[80px] h-[1.2em]",children:a.jsx($a,{words:["work","earn","grow"],loop:!1})}),"."]}),a.jsx("p",{className:"max-w-2xl text-foreground/80 text-balance reveal","data-reveal":!0,children:"A magical, interactive staking experience for the NPC token on Solana. Lock in your tokens, participate in the ecosystem, and enjoy the show."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 reveal","data-reveal":!0,children:[a.jsx(xe,{asChild:!0,size:"lg",className:"btn-gradient shadow-lg shadow-fuchsia-500/20 w-full sm:w-auto",children:a.jsxs("a",{href:"#stake",className:"inline-flex items-center justify-center",children:["Start staking ",a.jsx(Go,{className:"ml-2"})]})}),a.jsx(xe,{asChild:!0,variant:"outline",size:"lg",className:"backdrop-blur glass w-full sm:w-auto",children:a.jsxs("a",{href:"#how",className:"inline-flex items-center justify-center",children:[a.jsx(gn,{className:"mr-2"}),"See how it works"]})})]}),a.jsx("div",{className:"relative mt-8 w-full reveal","data-reveal":!0,children:a.jsx("div",{className:"glass gradient-border mx-auto max-w-4xl p-4 md:p-6",children:a.jsx(Iu,{})})})]})]})})}function Iu(){return a.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[a.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{backgroundImage:"radial-gradient(circle at 20% 20%, hsl(var(--solana-mint)/0.2), transparent 40%), radial-gradient(circle at 80% 20%, hsl(var(--solana-purple)/0.2), transparent 40%), radial-gradient(circle at 50% 80%, hsl(var(--solana-pink)/0.2), transparent 40%)"}}),a.jsx("div",{className:"relative grid grid-cols-2 md:grid-cols-4 gap-3",children:["Instant Unstake","Flexible Staking","No Lock Penalty","Surprises"].map((e,t)=>{const s={"Instant Unstake":ni,"Flexible Staking":us,"No Lock Penalty":ei,Surprises:hi}[e]??gn;return a.jsx(Le,{className:"group glass gradient-border reveal","data-reveal":!0,children:a.jsx(qe,{className:"p-4 md:p-5",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-transparent grid place-items-center",children:a.jsx(s,{className:"h-8 w-8 text-gradient",style:{color:"hsl(var(--solana-mint))"}})}),a.jsx("div",{className:"font-semibold text-lg",children:e})]})})},e)})}),a.jsx("div",{className:"absolute -inset-x-10 -bottom-10 h-24 bg-gradient-to-t from-primary/20 to-transparent"})]})}function Du(){return a.jsxs("section",{className:"relative mt-20 reveal","data-reveal":!0,children:[a.jsx(ca,{}),a.jsx("div",{className:"container",children:a.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/5 px-3 py-1 text-xs border border-white/10 mb-4 reveal","data-reveal":!0,children:[a.jsx(hs,{className:"h-3.5 w-3.5"})," Built for Solana | Pump.fun origins"]}),a.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold leading-tight reveal","data-reveal":!0,children:"Stake NPC tokens and unlock exclusive games"}),a.jsx("p",{className:"mt-4 text-foreground/80 reveal","data-reveal":!0,children:"The more you stake, the more games you unlock. Start with Cyber Defense and Pop Pop, then unlock higher-tier games as your staking amount grows."}),a.jsx("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[{icon:a.jsx(ms,{className:"h-4 w-4"}),text:"Secure Solana staking"},{icon:a.jsx(ds,{className:"h-4 w-4"}),text:"Real-time tracking & analytics"},{icon:a.jsx(mi,{className:"h-4 w-4"}),text:"Flexible staking periods"},{icon:a.jsx(gn,{className:"h-4 w-4"}),text:"Unlock exclusive games"}].map(e=>a.jsxs("li",{className:"glass gradient-border flex items-center gap-2 px-3 py-2 reveal","data-reveal":!0,children:[a.jsx("span",{className:"text-gradient",children:e.icon}),a.jsx("span",{children:e.text})]},e.text))})]}),a.jsx("div",{className:"relative reveal","data-reveal":!0,children:a.jsx(Le,{className:"glass gradient-border",children:a.jsx(qe,{className:"p-0",children:a.jsx(_u,{})})})})]})})]})}function _u(){return a.jsxs("div",{className:"relative w-full h-full aspect-[4/3] overflow-hidden rounded-xl bg-black",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(255,255,255,.02),transparent_60%)]"}),a.jsx("div",{className:"absolute inset-0 grid place-items-center",children:a.jsx("video",{src:"https://cdn.builder.io/o/assets%2Fc36ad3bb9b384c0aadf72235a9675e8a%2Fafe1d3b304e84c878c7078ef56a15fa9?alt=media&token=be70c700-161e-45c9-a011-b2dccfa5a6ac&apiKey=c36ad3bb9b384c0aadf72235a9675e8a",poster:"",className:"min-w-full min-h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,"aria-hidden":!0})}),a.jsx("div",{className:"absolute inset-x-0 bottom-0 h-28 bg-gradient-to-t from-background to-transparent"})]})}function Lu(){return a.jsx("section",{id:"how",className:"relative mt-24 reveal","data-reveal":!0,children:a.jsxs("div",{className:"container",children:[a.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold text-center reveal","data-reveal":!0,children:"How it works"}),a.jsx("p",{className:"text-center text-foreground/80 mt-3 max-w-2xl mx-auto reveal","data-reveal":!0,children:"Stake NPC on Solana and participate in the ecosystem. Unstake anytime. No lock periods or penalties."}),a.jsx("div",{className:"mt-10 grid gap-6 md:grid-cols-3",children:[{title:"Connect wallet",desc:"Works with popular Solana wallets.",icon:a.jsx(ms,{})},{title:"Stake NPC",desc:"Choose amount and duration.",icon:a.jsx(hs,{})},{title:"Track progress",desc:"Monitor your staking activity and ecosystem participation.",icon:a.jsx(ds,{})}].map(e=>a.jsx(Le,{className:"group glass gradient-border hover:translate-y-[-2px] transition-transform reveal","data-reveal":!0,children:a.jsxs(qe,{className:"p-6",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-transparent grid place-items-center",children:a.jsx("div",{className:"text-2xl font-bold text-gradient",children:e.title==="Connect wallet"?"":e.title==="Track progress"?"":""})}),a.jsx("div",{className:"mt-4 font-semibold text-lg",children:e.title}),a.jsx("p",{className:"text-sm text-foreground/80",children:e.desc})]})},e.title))})]})})}function Bu(){const{poolData:e,userData:t,stakingDecimals:n,rewardDecimals:s,isInitialLoad:r}=zt(),i=Kr(e,t);i?.apy;const o=e?`${ea(e.totalStaked??0,n,0,2)} NPC`:"0 NPC";i?.pendingUI;const l=e?e.rewardRatePerSec/Math.pow(10,s):0;return l>=1?`${l.toFixed(2)}`:`${l.toFixed(6)}`,a.jsxs("section",{id:"rewards",className:"relative mt-24 reveal","data-reveal":!0,children:[a.jsx(ca,{}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"glass gradient-border p-6 md:p-8 reveal","data-reveal":!0,children:a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 gap-6 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-extrabold",children:"Live Analytics"}),a.jsx("p",{className:"text-foreground/80 mt-2",children:"Track staking activity and ecosystem participation. The visuals reflect live motion."})]}),a.jsx(Ou,{label:"Total Staked",value:r?"Loading...":o,trend:e&&e.totalStaked>0?"up":"down"})]})})})]})}function Ou({label:e,value:t,trend:n}){return a.jsxs("div",{className:"glass gradient-border p-4 reveal","data-reveal":!0,children:[a.jsx("div",{className:"text-sm text-foreground/80",children:e}),a.jsx("div",{className:"text-3xl font-extrabold mt-1",children:a.jsx("span",{className:"bg-[linear-gradient(90deg,hsl(var(--solana-mint)),hsl(var(--solana-purple)),hsl(var(--solana-pink)))] bg-clip-text text-transparent animate-shine bg-[length:200%_100%]",children:t})}),a.jsxs("div",{className:"text-xs mt-1 opacity-80",children:["Trend: ",n==="up"?"rising":"steady"]})]})}function Fu(){const{walletAddress:e,connectWallet:t,poolData:n,userData:s,isLoading:r,isInitialLoad:i,error:o,stake:l,unstake:u,claim:d,stakingDecimals:g,refreshData:h,connection:w}=zt(),{showSuccess:m,showError:S,showWarning:p}=qr(),y=Kr(n,s),[k,$]=c.useState(0),[A,F]=c.useState(0),[Z,se]=c.useState(!1),[ae,ie]=c.useState(0),[ve,de]=c.useState(!1),ee=s&&g>=0?s.staked/Math.pow(10,g):0,I=Math.max(ae,Math.min(5e7,ee>0?Math.ceil(ee*2):0));c.useEffect(()=>{k>I&&$(I)},[k,I]);const ke=y?.pendingUI??0;`${(y?.apy??0).toFixed(2)}`;const ge=s?`${ea(s.staked??0,g,0,2)} NPC`:"0 NPC";`${ke.toFixed(6)}`;const x=Number.isFinite(k)&&k>0,f=Number.isFinite(A)&&A>0,_=C=>{const W=ee*C/100;F(W)},v=async()=>{if(!(!e||!n))try{const{getAssociatedTokenAddress:C}=await Me(async()=>{const{getAssociatedTokenAddress:G}=await import("./solana-CghHl2Ac.js").then(D=>D.k);return{getAssociatedTokenAddress:G}},__vite__mapDeps([0,1])),{PublicKey:W}=await Me(async()=>{const{PublicKey:G}=await import("./solana-CghHl2Ac.js").then(D=>D.j);return{PublicKey:G}},__vite__mapDeps([0,1])),le=await C(new W(n.stakingMint),new W(e)),re=await w.getTokenAccountBalance(le);re.value.uiAmount!==null?ie(re.value.uiAmount):ie(0)}catch(C){console.log("Could not fetch token balance:",C),ie(0)}};c.useEffect(()=>{e&&n&&v()},[e,n]);const j=async()=>{if(!e){p("Wallet Required","Please connect your wallet first");return}if(!n){p("Pool Not Ready","Pool is not initialized yet.");return}if(n.paused){p("Pool Paused","Pool is paused - staking is temporarily disabled");return}if(!ve){if(!x){p("Invalid Amount","Enter an amount greater than zero");return}de(!0);try{await l(k),m("Staking Successful",`Your ${k.toLocaleString()} NPC stake request was submitted.`),$(0)}catch(C){S("Staking Failed",C instanceof Error?C.message:"Unknown error occurred")}finally{de(!1)}}},b=async()=>{if(!e){p("Wallet Required","Please connect your wallet first");return}if(!ve){if(!f){p("Invalid Amount","Enter an amount greater than zero");return}if(ke>0){se(!0);return}if(ee>0&&A>ee){const C=ea(s?.staked??0,g,0,2);p("Insufficient Staked Balance",`You only have ${C} NPC available to unstake.`);return}de(!0);try{await u(A),m("Unstaking Successful","Your tokens have been unstaked and rewards claimed!"),F(0)}catch(C){S("Operation Failed",C instanceof Error?C.message:"Unknown error occurred")}finally{de(!1)}}},V=async()=>{se(!1),de(!0);try{await u(A),m("Unstaking Successful","Your tokens have been unstaked and rewards claimed!"),F(0)}catch(C){S("Operation Failed",C instanceof Error?C.message:"Unknown error occurred")}finally{de(!1)}},L=async()=>{try{await t(),m("Wallet Connected","Your wallet has been connected successfully!")}catch(C){S("Connection Failed",C instanceof Error?C.message:"Failed to connect wallet")}};return a.jsxs("section",{id:"stake",className:"relative mt-24 reveal","data-reveal":!0,children:[a.jsx("div",{className:"container max-w-6xl",children:a.jsxs("div",{className:"glass gradient-border p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-extrabold",children:"Stake"}),a.jsx("p",{className:"text-foreground/80",children:"Stake your NPC tokens instantly. No duration lock  unstake anytime."})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>h(!0),disabled:r,className:"glass",children:[a.jsx(us,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]}),e?a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-foreground/70",children:"Wallet Connected"}),a.jsxs("div",{className:"font-mono font-semibold text-green-400",children:[e.slice(0,4),"...",e.slice(-4)]})]}):a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-foreground/70",children:"Connect wallet to start"}),a.jsx("div",{className:"font-mono font-semibold text-foreground/60",children:"Staking"})]})]})]}),e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mt-8 grid lg:grid-cols-2 gap-8 relative",children:[ve&&a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm rounded-lg z-10 flex items-center justify-center",children:a.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-white border-t-transparent"}),a.jsx("div",{className:"text-white font-medium",children:"Processing transaction..."}),a.jsx("div",{className:"text-white/70 text-sm",children:"Please wait while we process your request"})]})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-3 bg-white/5 rounded-lg border border-white/10",children:[a.jsx("div",{className:"text-sm text-foreground/70 mb-1",children:"Your Available Balance"}),a.jsx("div",{className:"text-lg font-semibold text-green-400",children:ae>=1e6?`${(ae/1e6).toFixed(3)}M NPC`:`${ae.toLocaleString()} NPC`})]}),a.jsxs("div",{children:[a.jsx(rn,{children:"Stake Amount (NPC)"}),a.jsx("div",{className:"mt-2",children:a.jsx(Qn,{value:[k],min:0,max:I,step:1e3,onValueChange:C=>$(Math.max(0,C[0]??0))})}),a.jsx("div",{className:"mt-1 text-sm opacity-80",children:k>=1e6?`${(k/1e6).toFixed(3)}M NPC`:`${k.toLocaleString()} NPC`})]}),a.jsxs("div",{children:[a.jsx(rn,{children:"Or enter amount manually"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("input",{type:"number",value:k||"",onChange:C=>{const W=parseFloat(C.target.value)||0;$(Math.max(0,Math.min(W,ae)))},placeholder:"Enter amount...",className:"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:I,step:"1000"}),a.jsx(xe,{variant:"outline",size:"sm",className:"glass",onClick:()=>$(ae),disabled:ae===0,children:"Max"})]})]}),a.jsx(xe,{className:"btn-gradient w-full relative",onClick:()=>{j()},disabled:r||n?.paused||!x,children:ve?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),a.jsx("span",{children:"Staking..."})]}):n?.paused?"Pool Paused":"Stake"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(rn,{children:"Unstake Amount (NPC)"}),a.jsx("div",{className:"mt-2",children:a.jsx(Qn,{value:[A],min:0,max:ee,step:1e3,onValueChange:C=>F(Math.max(0,C[0]??0))})}),a.jsx("div",{className:"mt-1 text-sm opacity-80",children:A>=1e6?`${(A/1e6).toFixed(3)}M NPC`:`${A.toLocaleString()} NPC`})]}),a.jsxs("div",{children:[a.jsx(rn,{children:"Or enter amount manually"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("input",{type:"number",value:A||"",onChange:C=>{const W=parseFloat(C.target.value)||0;F(Math.max(0,Math.min(W,ee)))},placeholder:"Enter amount...",className:"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:ee,step:"1000"}),a.jsx(xe,{variant:"outline",size:"sm",className:"glass",onClick:()=>F(ee),disabled:ee===0,children:"Max"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(xe,{variant:"outline",size:"sm",className:"glass text-xs",onClick:()=>_(25),disabled:ee===0,children:"25%"}),a.jsx(xe,{variant:"outline",size:"sm",className:"glass text-xs",onClick:()=>_(50),disabled:ee===0,children:"50%"}),a.jsx(xe,{variant:"outline",size:"sm",className:"glass text-xs",onClick:()=>_(75),disabled:ee===0,children:"75%"}),a.jsx(xe,{variant:"outline",size:"sm",className:"glass text-xs",onClick:()=>_(100),disabled:ee===0,children:"100%"})]}),a.jsx(xe,{variant:"outline",className:"glass w-full relative",onClick:b,disabled:r||!s||s.staked===0||!f,children:ve?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),a.jsx("span",{children:"Unstaking..."})]}):"Unstake"})]})]}),s&&a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-lg border border-white/10",children:[a.jsx("h4",{className:"text-xl font-semibold mb-6 text-gradient text-center",children:"Your Staking Info"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-lg border border-white/10",children:[a.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:ge}),a.jsx("div",{className:"text-sm text-foreground/70 font-medium",children:"Currently Staked"})]})})]}),n?.paused&&a.jsx("div",{className:"mt-4 text-sm text-yellow-400 text-center",children:"Pool is paused - staking is temporarily disabled"})]}):a.jsxs("div",{className:"mt-8 text-center py-8",children:[a.jsx("div",{className:"text-foreground/60 mb-4",children:"Connect your wallet to start staking"}),a.jsxs(xe,{className:"btn-gradient",onClick:L,children:[a.jsx(ou,{className:"mr-2"}),"Connect Wallet"]})]})]})}),a.jsx(su,{open:Z,onOpenChange:se,children:a.jsxs(Rr,{className:"bg-background border border-white/20 shadow-2xl",children:[a.jsxs(Ir,{children:[a.jsx(_r,{className:"text-2xl font-bold text-white",children:"Confirm Unstaking"}),a.jsxs(Lr,{className:"text-gray-300 text-lg",children:["You have ",a.jsxs("span",{className:"text-blue-400 font-semibold",children:[ke.toFixed(6)," NPC"]})," pending rewards.",a.jsx("br",{}),a.jsx("br",{}),"Unstaking ",a.jsxs("span",{className:"text-green-400 font-semibold",children:[A>=1e6?`${(A/1e6).toFixed(3)}M`:A.toLocaleString()," NPC"]})," will automatically claim these rewards first so you keep them.",a.jsx("br",{}),a.jsx("br",{}),"Do you want to continue?"]})]}),a.jsxs(Dr,{className:"gap-3",children:[a.jsx(Or,{className:"bg-gray-600 hover:bg-gray-700 text-white border-gray-500",onClick:()=>se(!1),children:"Cancel"}),a.jsx(Br,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:V,children:"Continue Unstaking"})]})]})})]})}function rn({children:e}){return a.jsx("div",{className:"text-xs uppercase tracking-wider opacity-80",children:e})}function Uu(){return a.jsx("section",{id:"faq",className:"relative mt-24 mb-20 reveal","data-reveal":!0,children:a.jsxs("div",{className:"container max-w-4xl",children:[a.jsx("h3",{className:"text-2xl font-extrabold text-center reveal","data-reveal":!0,children:"FAQ"}),a.jsxs("div",{className:"mt-6 grid gap-4",children:[a.jsx(Et,{q:"Is this the official NPC staking?",a:"Yes, this is the official staking portal for the NPC token on Solana."}),a.jsx(Et,{q:"How can you get more insights into the NPC token?",a:"By joining or following our official twitter account and discord server."}),a.jsx(Et,{q:"Can I unstake anytime?",a:"Yes. There's no penalty. Longer durations may unlock surprises."}),a.jsx(Et,{q:"Where did NPC launch?",a:"NPC was deployed on pump.fun and lives on the Solana blockchain."}),a.jsx(Et,{q:"What is the NPC token?",a:"NPC is a Solana-based token that originated on pump.fun. You can view its current price and trading data on DexScreener."}),a.jsx(Et,{q:"How do I get NPC tokens?",a:"You can purchase NPC tokens on Solana DEXs like Raydium, Jupiter, pump.fun or directly on Dexscreener. Always DYOR before investing."}),a.jsx(Et,{q:"What games can I play?",a:"Games are unlocked based on your staking tier. Start with Cyber Defense and Pop Pop games. More games unlock with higher staking amounts."})]})]})})}function Et({q:e,a:t}){return a.jsx(Le,{className:"glass gradient-border reveal","data-reveal":!0,children:a.jsxs(qe,{className:"p-6",children:[a.jsx("div",{className:"font-semibold",children:e}),a.jsx("p",{className:"text-sm text-foreground/80",children:t})]})})}const Tt=c.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Tt.displayName="Input";var $u="Separator",qa="horizontal",Vu=["horizontal","vertical"],Gr=c.forwardRef((e,t)=>{const{decorative:n,orientation:s=qa,...r}=e,i=zu(s)?s:qa,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(ut.div,{"data-orientation":i,...l,...r,ref:t})});Gr.displayName=$u;function zu(e){return Vu.includes(e)}var Hr=Gr;const Yr=c.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},r)=>a.jsx(Hr,{ref:r,decorative:n,orientation:t,className:be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Yr.displayName=Hr.displayName;const At=new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}),Wu=e=>{if(!e)return"";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}};function qu(){const{isAdmin:e,isLoading:t,error:n,poolData:s,stakingMint:r,stakingDecimals:i,rewardDecimals:o,walletAddress:l,initializePool:u,fetchPoolByMint:d,setStakingMint:g,setRewardConfig:h,addRewardTokens:w,setRewardRate:m,setPaused:S,withdrawRewards:p,setAdmin:y,fetchAdmin:k,ensureVaults:$,closePool:A,refreshData:F,checkRewardVaultBalance:Z}=zt(),{showSuccess:se,showError:ae,showWarning:ie,showInfo:ve}=qr(),[de,ee]=c.useState(r??""),[I,ke]=c.useState(""),[ge,x]=c.useState(""),[f,_]=c.useState(""),[v,j]=c.useState(""),[b,V]=c.useState(""),[L,C]=c.useState(""),[W,le]=c.useState(null),[re,G]=c.useState(""),[D,we]=c.useState(null),[je,R]=c.useState(!1);c.useEffect(()=>{ee(r??"")},[r]),c.useEffect(()=>{let E=!1;return(async()=>{if(!s){we(null);return}R(!0);try{const fe=await Z();E||we(fe)}catch(fe){console.error("Failed to fetch reward vault balance:",fe)}finally{E||R(!1)}})(),()=>{E=!0}},[s]);const Te=c.useMemo(()=>s?s.paused?{label:"Paused",tone:"secondary"}:{label:"Active",tone:"default"}:{label:"Not initialised",tone:"outline"},[s]),Qe=c.useMemo(()=>s?At.format(s.totalStaked/Math.pow(10,i||0)):"",[s,i]),Xe=c.useMemo(()=>{if(!s)return 0;const E=o??0;return s.rewardRatePerSec/Math.pow(10,E)},[s,o]),Ce=c.useMemo(()=>!s||s.totalStaked<=0?0:s.rewardRatePerSec*31536e3/s.totalStaked*100,[s]),Ie=Xe*86400,rt=Ce>0?`${At.format(Ce)}%`:"",Ze=[{label:"0.5 tokens/sec (testing)",value:.5},{label:"0.01 tokens/sec (moderate)",value:.01},{label:"0.001 tokens/sec (low)",value:.001}];if(!e&&s)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-6",children:a.jsx(Le,{className:"max-w-md bg-black/40 border-white/10 text-center",children:a.jsxs(et,{children:[a.jsx(tt,{className:"text-2xl text-white",children:"Access restricted"}),a.jsx(lt,{className:"text-gray-300",children:"Connect with the configured admin wallet to manage the pool."})]})})});const mt=async()=>{if(!de.trim()){ie("Missing mint","Enter a staking mint address to fetch.");return}try{g(de.trim()),await d(de.trim()),se("Pool loaded","Fetched on-chain pool information.")}catch(E){ae("Fetch failed",E instanceof Error?E.message:"Unable to fetch pool data.")}},Ke=()=>{if(!de.trim()){ie("Missing mint","Enter a staking mint address to set.");return}const E=de.trim();g(E),ve("Staking mint updated","Context updated. Fetch the pool to load on-chain data.")},N=async()=>{if(console.log(" Initialize Pool clicked!",{stakingMintInput:de,isLoading:t,walletAddress:l}),!de.trim()){console.log(" No staking mint provided"),ie("Missing staking mint","Provide the staking mint address before initialising.");return}if(!l){console.log(" No wallet connected"),ie("Wallet Required","Please connect your wallet first.");return}try{console.log(" Calling initializePool with:",de.trim()),await u(de.trim()),console.log(" Pool initialized successfully"),se("Pool initialised","Pool PDA and vault were created."),await F()}catch(E){ae("Initialisation failed",E instanceof Error?E.message:"Unable to initialise pool.")}},P=async()=>{if(!s){ie("Pool required","Initialise or fetch a pool first.");return}if(!I.trim()||!ge.trim()){ie("Missing data","Provide both reward mint and reward rate to configure rewards.");return}const E=Number(ge);if(!Number.isFinite(E)||E<=0){ie("Invalid reward rate","Reward rate must be a positive number.");return}try{await h(I.trim(),E),se("Rewards configured","Reward mint and base rate saved on-chain."),ke(""),x(""),await F()}catch(J){ae("Configuration failed",J instanceof Error?J.message:"Unable to configure rewards.")}},B=async()=>{if(!s){ie("Pool required","Initialise or fetch a pool first.");return}const E=Number(f);if(!Number.isFinite(E)||E<=0){ie("Invalid amount","Enter a positive amount to deposit.");return}try{await w(E),se("Vault funded","Tokens transferred into the reward vault successfully."),_(""),await F()}catch(J){ae("Funding failed",J instanceof Error?J.message:"Unable to add reward tokens.")}},z=async()=>{if(!s){ie("Pool required","Initialise or fetch a pool first.");return}const E=Number(v);if(!Number.isFinite(E)||E<=0){ie("Invalid rate","Enter a positive reward rate.");return}try{await m(E),se("Reward rate updated","New reward emission rate is live."),j(""),await F()}catch(J){ae("Update failed",J instanceof Error?J.message:"Unable to update reward rate.")}},q=async()=>{if(!s){ie("Pool required","Initialise or fetch a pool first.");return}try{await S(!s.paused),se(s.paused?"Pool resumed":"Pool paused",s.paused?"Stakers can interact with the pool again.":"Pool is paused; staking operations are disabled."),await F()}catch(E){ae("Status change failed",E instanceof Error?E.message:"Unable to toggle pool status.")}},O=async()=>{if(!s){ie("Pool required","Initialise or fetch a pool first.");return}const E=Number(b);if(!Number.isFinite(E)||E<=0){ie("Invalid amount","Enter a positive amount to withdraw.");return}try{await p(E),se("Rewards withdrawn","Tokens moved from the reward vault to the admin."),V(""),await F()}catch(J){ae("Withdrawal failed",J instanceof Error?J.message:"Unable to withdraw rewards.")}},M=async()=>{if(!re.trim()){ie("Missing address","Enter a wallet to transfer program authority to.");return}const E=`solana program set-upgrade-authority CG7e3BfRFQn1AVUdXFRUsQBiKHtSpCiH7afhpJaoE4PT ${re.trim()}`;if(ve("CLI Command Required",`To transfer program authority, run this command in your terminal:

${E}

This requires the current authority's private key.`),navigator.clipboard)try{await navigator.clipboard.writeText(E),se("Command Copied","CLI command copied to clipboard!")}catch{ae("Copy Failed","Could not copy to clipboard. Please copy manually.")}else ie("Copy Failed","Clipboard not available. Please copy the command manually.")},X=async()=>{if(window.confirm("Closing the pool is irreversible. This requires the pool to be empty and paused. Continue?"))try{await A(),se("Pool closed","Pool, signer PDA, and vaults were closed. Recreate to continue."),await F()}catch(E){ae("Close failed",E instanceof Error?E.message:"Unable to close the pool.")}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/5",children:a.jsxs("div",{className:"container py-12 space-y-10",children:[a.jsxs("header",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-blue-500/10 rounded-2xl blur-3xl"}),a.jsxs("div",{className:"relative glass gradient-border p-8 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Admin Dashboard"}),a.jsx("p",{className:"text-foreground/80 text-lg",children:"Manage the staking pool directly from the admin wallet"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm font-medium text-green-300",children:Te.label})]}),r&&a.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30",children:a.jsxs("span",{className:"text-sm font-mono text-blue-300",children:["Mint: ",r.slice(0,4),"",r.slice(-4)]})}),s?.poolAddress&&a.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30",children:a.jsxs("span",{className:"text-sm font-mono text-purple-300",children:["Pool: ",s.poolAddress.slice(0,4),"",s.poolAddress.slice(-4)]})})]})]})]}),n&&a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-xl blur-sm"}),a.jsx(Le,{className:"relative border-red-500/40 bg-red-500/10 backdrop-blur-sm",children:a.jsxs(et,{children:[a.jsxs(tt,{className:"text-red-100 flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:""}),"On-chain error"]}),a.jsx(lt,{className:"text-red-200",children:n})]})})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs(Le,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Current staking mint"]}),a.jsx(lt,{children:"Update the mint tracked in the UI and perform mint-related actions."})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Mint in context"}),a.jsx("span",{className:"font-mono",children:r?`${r.slice(0,4)}${r.slice(-4)}`:""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Pool PDA"}),a.jsx("span",{className:"font-mono",children:s?.poolAddress?`${s.poolAddress.slice(0,4)}${s.poolAddress.slice(-4)}`:""})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Tt,{value:de,onChange:E=>ee(E.target.value),placeholder:"Enter staking mint address"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(xe,{variant:"secondary",onClick:Ke,disabled:t,children:"Set mint"}),a.jsx(xe,{variant:"outline",onClick:mt,disabled:t,children:"Fetch pool"}),a.jsx(xe,{onClick:N,disabled:t,children:"Initialise pool"})]})]})]})]}),a.jsxs(Le,{className:"lg:col-span-2 group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Pool overview"]}),a.jsx(lt,{children:"Snapshot of the active pool (values shown in UI units)."})]}),a.jsx(qe,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Total staked"}),a.jsx("span",{className:"font-medium",children:Qe})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Reward rate"}),a.jsx("span",{className:"font-medium",children:s?`${At.format(Xe)} tokens/sec`:""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Reward mint"}),a.jsx("span",{className:"font-mono",children:s?.rewardMint?`${s.rewardMint.slice(0,4)}${s.rewardMint.slice(-4)}`:""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Daily pool rewards"}),a.jsx("span",{className:"font-medium",children:s?`${At.format(Ie)} tokens/day`:""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Current APY"}),a.jsx("span",{className:"font-medium",children:rt})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Reward vault balance"}),a.jsx("span",{className:"font-medium",children:je?"Checking":D!==null?`${At.format(D)}`:""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Last update"}),a.jsx("span",{className:"font-medium",children:s?Wu(s.lastUpdateTs):""})]})]})})]})]}),a.jsx(Yr,{}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs(Le,{className:"lg:col-span-2 group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Configure rewards"]}),a.jsx(lt,{children:"Set up the reward mint and base emission rate. This should be done once per pool."})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-foreground/80",children:"Reward mint address"}),a.jsx(Tt,{value:I,onChange:E=>ke(E.target.value),placeholder:"Enter reward mint"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-foreground/80",children:"Reward rate (per second)"}),a.jsx(Tt,{type:"number",value:ge,onChange:E=>x(E.target.value),placeholder:"e.g. 1000"})]})]}),a.jsx(xe,{onClick:P,disabled:t,className:"w-full sm:w-auto",children:"Save reward configuration"})]})]}),a.jsxs(Le,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Fund rewards"]}),a.jsx(lt,{children:"Deposit reward tokens into the pool signer vault."})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsx(Tt,{type:"number",value:f,onChange:E=>_(E.target.value),placeholder:"Amount in tokens"}),a.jsx(xe,{onClick:B,disabled:t,className:"w-full",children:"Fund reward vault"})]})]})]}),a.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Le,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Update reward rate"]}),a.jsx(lt,{children:"Apply a new emission rate without changing the reward mint."})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsx(Tt,{type:"number",value:v,onChange:E=>j(E.target.value),placeholder:"New reward rate per second"}),a.jsxs("div",{className:"space-y-2 rounded-lg border border-white/10 bg-white/5 p-4 text-xs text-foreground/80",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Current rate:"})," ",At.format(Xe)," tokens/sec (",s?s.rewardRatePerSec:0," base units/sec)"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Pool generates:"})," ",At.format(Xe)," tokens each second for all stakers."]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Daily emissions:"})," ",At.format(Ie)," tokens/day total"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Current APY:"})," ",rt]}),a.jsx("div",{children:"Your effective yield still depends on your share of the pool. A higher rate increases rewards for every staker."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-foreground/70",children:"Quick rate suggestions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Ze.map(E=>a.jsx(xe,{variant:"outline",size:"sm",type:"button",onClick:()=>j(E.value.toString()),children:E.label},E.value))})]}),a.jsx(xe,{variant:"secondary",onClick:z,disabled:t,children:"Update reward rate"})]})]}),a.jsxs(Le,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Withdraw rewards"]}),a.jsx(lt,{children:"Move tokens from the reward vault back to the admin wallet."})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsx(Tt,{type:"number",value:b,onChange:E=>V(E.target.value),placeholder:"Amount in tokens"}),a.jsx(xe,{variant:"outline",onClick:O,disabled:t,children:"Withdraw rewards"})]})]})]}),a.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Le,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Pool controls"]}),a.jsx(lt,{children:"Pause or resume staking operations and perform maintenance."})]}),a.jsxs(qe,{className:"space-y-3 space-x-3",children:[a.jsx(xe,{onClick:q,disabled:t,className:s?.paused?"btn-gradient":"bg-orange-500 hover:bg-orange-600",children:s?.paused?"Resume pool":"Pause pool"}),a.jsx(xe,{variant:"destructive",onClick:X,disabled:t,className:"mt-4",children:"Close pool"})]})]}),a.jsxs(Le,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:""}),"Transfer Program Authority"]}),a.jsx(lt,{children:"Transfer the program upgrade authority to another wallet. This controls who can upgrade the program code."})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-yellow-300 text-sm",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"font-medium",children:"Warning: This transfers ultimate control of the program"})]}),a.jsx("div",{className:"text-xs text-yellow-200",children:"The new authority will be able to upgrade the program code. This action is irreversible unless the new authority transfers it back."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-foreground/70",children:"New Program Authority Wallet:"}),a.jsx(Tt,{value:re,onChange:E=>G(E.target.value),placeholder:"Enter new program authority wallet address"}),a.jsx(xe,{variant:"destructive",onClick:M,disabled:t,className:"w-full",children:"Generate CLI Command"})]})]})]})]})]})})}function Ku({isGenerating:e=!1,startTime:t=Date.now()}){const n=c.useRef(null),s=c.useRef(null),[r,i]=c.useState(0),[o,l]=c.useState({isPlaying:!1,isPaused:!1,score:0,highScore:0,gameOver:!1,wave:1,lives:3}),[u,d]=c.useState(!1),g=c.useRef({x:400,y:300,angle:0}),h=c.useRef([]),w=c.useRef([]),m=c.useRef([]),S=c.useRef([]),p=c.useRef({x:400,y:300}),y=c.useRef(!1),k=c.useRef(0),$=c.useRef(0),A=c.useRef({type:"default",duration:0,fireRate:8,damage:1}),F=c.useRef(0),Z=c.useRef(0);c.useEffect(()=>{const x=()=>{d(window.innerWidth<=768||"ontouchstart"in window)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),c.useEffect(()=>{if(!e){i(0);return}const x=setInterval(()=>{i(Math.floor((Date.now()-t)/1e3))},1e3);return()=>clearInterval(x)},[e,t]);const se=()=>e?r<20?"Initializing neural network...":r<40?"Processing style parameters...":r<60?"Generating card artwork...":r<80?"Finalizing details...":"Almost there...":"Ready to generate your epic card",ae=e?Math.min(r/90*100,100):0,ie=c.useCallback(()=>{const x=n.current;x&&(g.current={x:x.width/2,y:x.height/2,angle:0}),h.current=[],w.current=[],m.current=[],S.current=[],k.current=0,$.current=0,Z.current=0,A.current={type:"default",duration:0,fireRate:4,damage:1},F.current=0},[]),ve=c.useCallback(x=>{const f=n.current;if(!f)return;const _=Math.floor(Math.random()*4);let v=0,j=0;switch(_){case 0:v=Math.random()*f.width,j=-30;break;case 1:v=f.width+30,j=Math.random()*f.height;break;case 2:v=Math.random()*f.width,j=f.height+30;break;case 3:v=-30,j=Math.random()*f.height;break}const b=["basic","basic","fast"];x>3&&b.push("heavy");const V=b[Math.floor(Math.random()*b.length)],L={x:v,y:j,size:V==="heavy"?25:V==="fast"?12:18,speed:V==="fast"?4:V==="heavy"?1.8:3,angle:0,health:V==="heavy"?3:1,type:V,color:V==="heavy"?"#ff00ff":V==="fast"?"#ffff00":"#ff00ff"};h.current.push(L)},[]),de=c.useCallback(()=>{if(k.current>0)return;const x=g.current,f=A.current,_=f.hasLaser?30:18;if(f.hasTriple)for(let v=-1;v<=1;v++){const j=x.angle+v*.2,b={x:x.x,y:x.y,vx:Math.cos(j)*_,vy:Math.sin(j)*_,lifetime:f.hasLaser?80:60,damage:f.damage,pierce:f.hasLaser||void 0,color:f.hasLaser?"#ff00ff":f.hasRapid?"#ffff00":"#00ffff"};w.current.push(b)}else if(f.hasLaser){const v={x:x.x,y:x.y,vx:Math.cos(x.angle)*_,vy:Math.sin(x.angle)*_,lifetime:80,damage:f.damage,pierce:!0,color:"#ff00ff"};w.current.push(v)}else{const v={x:x.x,y:x.y,vx:Math.cos(x.angle)*_,vy:Math.sin(x.angle)*_,lifetime:60,damage:f.damage,color:f.hasRapid?"#ffff00":"#00ffff"};w.current.push(v)}k.current=f.fireRate},[]),ee=c.useCallback((x,f)=>{const _=["rapid","triple","laser","shield","bomb"],v=_[Math.floor(Math.random()*_.length)],j={rapid:"#ffff00",triple:"#00ff00",laser:"#ff00ff",shield:"#00ffff",bomb:"#ff0000"};S.current.push({x,y:f,type:v,lifetime:600,color:j[v],pulse:0})},[]),I=c.useCallback((x,f,_)=>{for(let v=0;v<12;v++){const j=Math.PI*2*v/12,b=2+Math.random()*3;m.current.push({x,y:f,vx:Math.cos(j)*b,vy:Math.sin(j)*b,life:20+Math.random()*10,color:_})}},[]),ke=c.useCallback(()=>{const x=n.current;if(!x)return;const f=x.getContext("2d");if(!f)return;f.fillStyle="rgba(10, 10, 15, 0.9)",f.fillRect(0,0,x.width,x.height),f.strokeStyle="rgba(0, 255, 255, 0.05)",f.lineWidth=1;for(let D=0;D<x.width;D+=40)f.beginPath(),f.moveTo(D,0),f.lineTo(D,x.height),f.stroke();for(let D=0;D<x.height;D+=40)f.beginPath(),f.moveTo(0,D),f.lineTo(x.width,D),f.stroke();const _=g.current;if(o.isPlaying&&!o.isPaused&&!o.gameOver){const D=p.current.x-_.x,we=p.current.y-_.y;_.angle=Math.atan2(we,D),y.current&&de(),k.current>0&&k.current--,$.current++;const je=Math.max(10,45-o.wave*12);if($.current%je===0&&(ve(o.wave),o.wave>5&&Math.random()<.3&&ve(o.wave)),Z.current++,Z.current%300===0&&Math.random()<.5){const R=n.current;R&&ee(50+Math.random()*(R.width-100),50+Math.random()*(R.height-100))}A.current.duration>0&&(A.current.duration--,A.current.duration===0&&(A.current={type:"default",duration:0,fireRate:4,damage:1,hasRapid:!1,hasTriple:!1,hasLaser:!1})),F.current>0&&F.current--,w.current=w.current.filter(R=>(R.x+=R.vx,R.y+=R.vy,R.lifetime--,R.lifetime>0&&R.x>-10&&R.x<x.width+10&&R.y>-10&&R.y<x.height+10)),h.current=h.current.filter(R=>{const Te=_.x-R.x,Qe=_.y-R.y,Xe=Math.sqrt(Te*Te+Qe*Qe);if(R.angle=Math.atan2(Qe,Te),R.x+=Math.cos(R.angle)*R.speed,R.y+=Math.sin(R.angle)*R.speed,Xe<R.size+15)return F.current>0?(I(R.x,R.y,"#00ffff"),F.current=0):(I(R.x,R.y,R.color),l(Ce=>{const Ie=Ce.lives-1;return Ie<=0?{...Ce,lives:0,gameOver:!0,highScore:Math.max(Ce.score,Ce.highScore)}:{...Ce,lives:Ie}})),!1;for(let Ce=w.current.length-1;Ce>=0;Ce--){const Ie=w.current[Ce];if(Math.sqrt(Math.pow(Ie.x-R.x,2)+Math.pow(Ie.y-R.y,2))<R.size&&(R.health-=Ie.damage||1,Ie.pierce||w.current.splice(Ce,1),R.health<=0)){if(I(R.x,R.y,R.color),Ie.pierce&&!Ie.hasRicocheted&&h.current.length>1){let Ze=null,mt=1/0;if(h.current.forEach(Ke=>{if(Ke!==R){const N=Math.sqrt(Math.pow(Ke.x-R.x,2)+Math.pow(Ke.y-R.y,2));N<mt&&(mt=N,Ze=Ke)}}),Ze!==null){const Ke=Math.atan2(Ze.y-R.y,Ze.x-R.x),N={x:R.x,y:R.y,vx:Math.cos(Ke)*20,vy:Math.sin(Ke)*20,lifetime:40,damage:Ie.damage,pierce:!0,color:"#ffff00",hasRicocheted:!0};w.current.push(N)}}return Math.random()<.15&&ee(R.x,R.y),l(Ze=>{const mt=Ze.score+(R.type==="heavy"?30:R.type==="fast"?20:10),Ke=Math.floor(mt/200)+1;return{...Ze,score:mt,wave:Ke}}),!1}}return!0}),m.current=m.current.filter(R=>(R.x+=R.vx,R.y+=R.vy,R.vx*=.98,R.vy*=.98,R.life--,R.life>0)),S.current=S.current.filter(R=>{R.lifetime--,R.pulse+=.1;for(let Te=w.current.length-1;Te>=0;Te--){const Qe=w.current[Te],Xe=Qe.x-R.x,Ce=Qe.y-R.y;if(Math.sqrt(Xe*Xe+Ce*Ce)<20){switch(w.current.splice(Te,1),I(R.x,R.y,R.color),R.type){case"rapid":A.current.hasRapid?A.current.duration=Math.max(A.current.duration,600):A.current={...A.current,type:"combined",duration:Math.max(A.current.duration,600),fireRate:Math.min(A.current.fireRate,3),damage:A.current.damage,hasRapid:!0};break;case"triple":A.current.hasTriple?A.current.duration=Math.max(A.current.duration,500):A.current={...A.current,type:"combined",duration:Math.max(A.current.duration,500),fireRate:A.current.hasRapid?A.current.fireRate:Math.max(A.current.fireRate,10),damage:A.current.damage,hasTriple:!0};break;case"laser":A.current.hasLaser?A.current.duration=Math.max(A.current.duration,400):A.current={...A.current,type:"combined",duration:Math.max(A.current.duration,400),damage:Math.max(A.current.damage,2),hasLaser:!0};break;case"shield":F.current=300;break;case"bomb":h.current.forEach(rt=>{I(rt.x,rt.y,"#ff0000")}),l(rt=>({...rt,score:rt.score+h.current.length*5})),h.current=[];break}return!1}}return R.lifetime>0})}m.current.forEach(D=>{f.globalAlpha=D.life/30,f.fillStyle=D.color,f.fillRect(D.x-2,D.y-2,4,4)}),f.globalAlpha=1,h.current.forEach(D=>{if(f.save(),f.translate(D.x,D.y),f.rotate(D.angle),f.fillStyle=D.color,f.shadowBlur=15,f.shadowColor=D.color,D.type==="heavy"){f.beginPath();for(let we=0;we<6;we++){const je=Math.PI*2*we/6,R=Math.cos(je)*D.size,Te=Math.sin(je)*D.size;we===0?f.moveTo(R,Te):f.lineTo(R,Te)}f.closePath(),f.fill()}else D.type==="fast"?(f.beginPath(),f.moveTo(D.size,0),f.lineTo(-D.size,-D.size*.7),f.lineTo(-D.size,D.size*.7),f.closePath(),f.fill()):(f.beginPath(),f.moveTo(D.size,0),f.lineTo(0,D.size),f.lineTo(-D.size,0),f.lineTo(0,-D.size),f.closePath(),f.fill());f.restore()}),S.current.forEach(D=>{f.save();const we=1+Math.sin(D.pulse)*.2;if(f.translate(D.x,D.y),f.scale(we,we),f.rotate(D.pulse*.5),f.fillStyle=D.color,f.shadowBlur=20,f.shadowColor=D.color,D.type==="shield")f.beginPath(),f.moveTo(0,-12),f.lineTo(10,-5),f.lineTo(10,8),f.lineTo(0,12),f.lineTo(-10,8),f.lineTo(-10,-5),f.closePath(),f.fill();else if(D.type==="bomb")f.beginPath(),f.arc(0,0,10,0,Math.PI*2),f.fill(),f.fillRect(-2,-15,4,8);else{f.beginPath();for(let je=0;je<5;je++){const R=Math.PI*2*je/5-Math.PI/2,Te=Math.cos(R)*12,Qe=Math.sin(R)*12;je===0?f.moveTo(Te,Qe):f.lineTo(Te,Qe);const Xe=R+Math.PI/5,Ce=Math.cos(Xe)*6,Ie=Math.sin(Xe)*6;f.lineTo(Ce,Ie)}f.closePath(),f.fill()}f.restore()}),w.current.forEach(D=>{f.shadowBlur=10,f.shadowColor=D.color||"#00ffff",f.fillStyle=D.color||"#00ffff",D.pierce?f.fillRect(D.x-12,D.y-8,24,16):f.fillRect(D.x-3,D.y-3,6,6),f.globalAlpha=.3,f.fillRect(D.x-D.vx-2,D.y-D.vy-2,4,4),f.globalAlpha=1}),f.save(),f.translate(_.x,_.y),F.current>0&&(f.strokeStyle=`rgba(0, 255, 255, ${.3+Math.sin(Date.now()/100)*.2})`,f.lineWidth=2,f.shadowBlur=20,f.shadowColor="#00ffff",f.beginPath(),f.arc(0,0,25,0,Math.PI*2),f.stroke()),f.rotate(_.angle);let v="#00ffff";if(A.current.type==="combined"){const D=A.current.hasRapid&&A.current.hasTriple&&A.current.hasLaser,we=(A.current.hasRapid?1:0)+(A.current.hasTriple?1:0)+(A.current.hasLaser?1:0)==2;D?v="#ffffff":we?A.current.hasRapid&&A.current.hasTriple?v="#88ff00":A.current.hasRapid&&A.current.hasLaser?v="#ff88ff":A.current.hasTriple&&A.current.hasLaser&&(v="#88ff88"):A.current.hasLaser?v="#ff00ff":A.current.hasTriple?v="#00ff00":A.current.hasRapid&&(v="#ffff00")}f.fillStyle=v,f.shadowBlur=20,f.shadowColor=v,f.beginPath(),f.moveTo(15,0),f.lineTo(-10,-10),f.lineTo(-5,0),f.lineTo(-10,10),f.closePath(),f.fill(),f.fillStyle="#ffffff",f.shadowBlur=10,f.shadowColor="#ffffff",f.fillRect(-2,-3,6,6),f.restore(),o.isPlaying&&!o.isPaused&&(f.strokeStyle="rgba(255, 255, 255, 0.5)",f.lineWidth=2,f.beginPath(),f.arc(p.current.x,p.current.y,15,0,Math.PI*2),f.stroke(),f.beginPath(),f.moveTo(p.current.x-20,p.current.y),f.lineTo(p.current.x-10,p.current.y),f.moveTo(p.current.x+10,p.current.y),f.lineTo(p.current.x+20,p.current.y),f.moveTo(p.current.x,p.current.y-20),f.lineTo(p.current.x,p.current.y-10),f.moveTo(p.current.x,p.current.y+10),f.lineTo(p.current.x,p.current.y+20),f.stroke());const j=window.devicePixelRatio||1,b=x.width<=400,V=b?x.width:x.width/j,L=b?x.height:x.height/j,C=8,W=L-(b?80:50),le=V-(b?40:60),re=b?20:30;if(f.fillStyle="rgba(0, 0, 0, 0.7)",f.fillRect(re-2,W-2,le+4,C+4),f.strokeStyle="rgba(0, 255, 255, 0.3)",f.lineWidth=1,f.strokeRect(re-2,W-2,le+4,C+4),e&&ae>0){const D=le*ae/100,we=f.createLinearGradient(re,0,re+D,0);we.addColorStop(0,"#00ffff"),we.addColorStop(.5,"#ff00ff"),we.addColorStop(1,"#00ff00"),f.fillStyle=we,f.fillRect(re,W,D,C);const je=.3+Math.sin(Date.now()/200)*.3;f.shadowBlur=20,f.shadowColor=`rgba(0, 255, 255, ${je})`,f.fillRect(re+D-2,W,2,C),f.shadowBlur=0}f.fillStyle="#00ffff",f.font=b?"14px monospace":"12px monospace",f.textAlign="center";const G=V/2;if(e){f.fillText(se(),G,W-(b?15:10)),f.fillStyle="rgba(255, 255, 255, 0.9)",f.font=b?"16px monospace":"12px monospace",f.fillText(`${Math.floor(ae)}%`,G,W+C+(b?25:20)),f.fillStyle="rgba(0, 255, 255, 0.8)",f.font=b?"14px monospace":"10px monospace";const D=Math.max(0,90-r),we=Math.floor(D/60),je=D%60,R=D>0?`ETA: ${we}:${je.toString().padStart(2,"0")}`:"Finalizing...";f.fillText(R,G,W+C+(b?45:35))}else f.fillText("Ready to generate",G,W-(b?15:10));s.current=requestAnimationFrame(ke)},[o,de,ve,I,ee,e,r,ae,se]);c.useEffect(()=>{const x=n.current;if(!x)return;const f=()=>{const j=x.parentElement;if(j){const b=j.getBoundingClientRect(),V=u?400:800,L=u?500:600,C=Math.min(b.width*.9,V),W=Math.min(b.height*.84,L),le=Math.max(400,Math.min(C,V)),re=Math.max(500,Math.min(W,L));x.width=Math.floor(le),x.height=Math.floor(re);const G=window.devicePixelRatio||1;if(G>1&&!u){x.width*=G,x.height*=G,x.style.width=le+"px",x.style.height=re+"px";const D=x.getContext("2d");D&&D.scale(G,G)}g.current.x=x.width/(G>1&&!u?G:1)/2,g.current.y=x.height/(G>1&&!u?G:1)/2}};f();let _;const v=()=>{clearTimeout(_),_=setTimeout(f,100)};return window.addEventListener("resize",v),s.current=requestAnimationFrame(ke),()=>{window.removeEventListener("resize",v),clearTimeout(_),s.current&&cancelAnimationFrame(s.current)}},[ke]),c.useEffect(()=>{const x=n.current;if(!x)return;const f=L=>{const C=x.getBoundingClientRect(),W=window.devicePixelRatio||1,le=x.width<=400?1:W;p.current={x:(L.clientX-C.left)*(x.width/C.width/le),y:(L.clientY-C.top)*(x.height/C.height/le)}},_=L=>{L.preventDefault();const C=x.getBoundingClientRect(),W=L.touches[0],le=window.devicePixelRatio||1,re=x.width<=400?1:le;p.current={x:(W.clientX-C.left)*(x.width/C.width/re),y:(W.clientY-C.top)*(x.height/C.height/re)}},v=()=>{y.current=!0},j=()=>{y.current=!1},b=L=>{L.preventDefault();const C=x.getBoundingClientRect(),W=L.touches[0],le=window.devicePixelRatio||1,re=x.width<=400?1:le;p.current={x:(W.clientX-C.left)*(x.width/C.width/re),y:(W.clientY-C.top)*(x.height/C.height/re)},y.current=!0},V=()=>{y.current=!1};return x.addEventListener("mousemove",f),x.addEventListener("mousedown",v),x.addEventListener("mouseup",j),x.addEventListener("mouseleave",j),x.addEventListener("touchmove",_),x.addEventListener("touchstart",b),x.addEventListener("touchend",V),()=>{x.removeEventListener("mousemove",f),x.removeEventListener("mousedown",v),x.removeEventListener("mouseup",j),x.removeEventListener("mouseleave",j),x.removeEventListener("touchmove",_),x.removeEventListener("touchstart",b),x.removeEventListener("touchend",V)}},[]);const ge=()=>{ie(),l({isPlaying:!0,isPaused:!1,score:0,highScore:o.highScore,gameOver:!1,wave:1,lives:3})};return a.jsx("div",{className:"w-full h-full max-w-7xl mx-auto",children:a.jsxs("div",{className:"h-full flex flex-col bg-cyber-dark/90 backdrop-blur-sm rounded-lg border border-cyber-cyan/20 p-2 sm:p-4 max-h-[96vh]",children:[a.jsxs("div",{className:"flex justify-center items-center mb-2 gap-2 sm:gap-4 md:gap-6",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-cyan/60 font-mono uppercase tracking-wider",children:"SCORE"}),a.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-cyan",children:o.score.toString().padStart(4,"0")})]}),a.jsx("div",{className:"text-cyber-cyan/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-purple/60 font-mono uppercase tracking-wider",children:"WAVE"}),a.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-purple",children:o.wave.toString().padStart(2,"0")})]}),a.jsx("div",{className:"text-cyber-cyan/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-pink/60 font-mono uppercase tracking-wider",children:"LIVES"}),a.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-pink",children:"".repeat(o.lives)})]})]}),a.jsxs("div",{className:"relative flex-1 flex items-center justify-center max-h-[72vh]",children:[a.jsx("canvas",{ref:n,className:`bg-cyber-black rounded touch-none select-none w-full h-full ${o.isPlaying&&!o.isPaused?u?"cursor-none":"cursor-crosshair":"cursor-default"}`,style:{imageRendering:"pixelated",maxWidth:"100%",maxHeight:"100%"}}),!o.isPlaying&&!o.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cyber-dark/95 rounded backdrop-blur-sm px-4",children:[a.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-cyber-cyan mb-2 font-mono uppercase tracking-wider text-center",children:e?"Your Card is Being Generated":"Cyber Defense"}),e?a.jsx("p",{className:"text-gray-400 mb-6 font-mono text-sm text-center",children:"Defend the system while you wait!"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("p",{className:"text-gray-400 mb-2 font-mono text-sm text-center",children:"Move mouse to aim"}),a.jsx("p",{className:"text-gray-400 mb-6 font-mono text-sm text-center",children:"Click to shoot"})]}),a.jsx("div",{className:"block sm:hidden mb-6",children:a.jsx("p",{className:"text-gray-400 font-mono text-sm text-center",children:"Touch to aim and shoot"})})]}),a.jsx("button",{onClick:ge,className:"min-h-[48px] px-6 sm:px-8 py-3 border-2 border-cyber-green text-cyber-green bg-transparent font-bold font-mono uppercase tracking-wider rounded-lg hover:bg-cyber-green/10 active:bg-cyber-green/20 transition-all duration-300 touch-manipulation text-sm sm:text-base",children:"Start Game"}),a.jsx("div",{className:"absolute bottom-[20px] sm:bottom-[60px] left-[20px] sm:left-[40px] right-[20px] sm:right-[40px]",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-[8px] border border-cyber-cyan/30",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:e&&ae>0&&a.jsx("div",{className:"h-full",style:{width:`${ae}%`,background:"linear-gradient(to right, #00ffff, #ff00ff, #00ff00)"}})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-cyber-cyan text-xs font-mono mt-[-30px] mb-1",children:e?se():"Ready to generate"}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-white/70 text-[10px] font-mono mt-[28px]",children:[Math.floor(ae),"%"]}),a.jsxs("p",{className:"text-white/70 text-[10px] font-mono mt-[8px]",children:["ETA: ",Math.floor(Math.max(0,90-r)/60),":",(Math.max(0,90-r)%60).toString().padStart(2,"0")]})]})]})]})})]}),o.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cyber-dark/95 rounded backdrop-blur-sm px-4",children:[a.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-cyber-pink mb-2 font-mono uppercase tracking-wider animate-pulse text-center",children:"System Breached!"}),a.jsxs("p",{className:"text-cyber-cyan text-lg sm:text-xl mb-2 font-mono text-center",children:["Score: ",o.score]}),a.jsxs("p",{className:"text-cyber-purple mb-4 font-mono text-center",children:["Wave: ",o.wave]}),o.score===o.highScore&&o.score>0&&a.jsx("p",{className:"text-cyber-yellow mb-4 font-mono uppercase tracking-wider text-center text-sm sm:text-base",children:"New High Score!"}),a.jsx("button",{onClick:ge,className:"min-h-[48px] px-6 sm:px-8 py-3 border-2 border-cyber-green text-cyber-green bg-transparent font-bold font-mono uppercase tracking-wider rounded-lg hover:bg-cyber-green/10 active:bg-cyber-green/20 transition-all duration-300 touch-manipulation text-sm sm:text-base",children:"Restart Defense"})]}),o.isPaused&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded",children:a.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:"PAUSED"})})]}),!e&&a.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-500 mt-2 px-2",children:[a.jsx("span",{className:"hidden sm:inline",children:"Move: Mouse"}),a.jsx("span",{className:"sm:hidden",children:"Touch to play"}),a.jsx("span",{className:"hidden sm:inline",children:"Shoot: Click"}),a.jsx("span",{className:"sm:hidden",children:"Drag to aim"})]})]})})}const jt=[{name:"Red",color:"#ff6b6b",emoji:""},{name:"Blue",color:"#4ecdc4",emoji:""},{name:"Green",color:"#96ceb4",emoji:""},{name:"Yellow",color:"#feca57",emoji:""},{name:"Purple",color:"#a55eea",emoji:""},{name:"Orange",color:"#ff6348",emoji:""},{name:"Pink",color:"#ff9ff3",emoji:""},{name:"Cyan",color:"#45b7d1",emoji:""}];function Gu(){const e=c.useRef(null),t=c.useRef(null),n=c.useRef(0),s=c.useRef({x:0,y:0}),r=typeof window<"u"&&window.innerWidth<=768,[i,o]=c.useState({isPlaying:!1,isPaused:!1,score:0,highScore:0,gameOver:!1,level:1,lives:3,target:1e3,timeLeft:60,combo:0,multiplier:1,currentPrompt:"Pop only RED balloons!",promptColor:"Red",streak:0}),[l,u]=c.useState([]),[d,g]=c.useState([]),[h,w]=c.useState([]),[m,S]=c.useState(null),[p,y]=c.useState(!1),[k,$]=c.useState(0),[A,F]=c.useState(0),Z=r?40:30,se=r?1500:1e3;c.useCallback((x,f)=>{const _=jt[Math.floor(Math.random()*jt.length)],v=1+Math.random()*2;return{id:`${x}-${f}-${Date.now()}`,x,y:f,vx:(Math.random()-.5)*2,vy:v,radius:Z,color:_.color,colorName:_.name,emoji:_.emoji,isPopped:!1,isAnimating:!1,animationTime:0,fallSpeed:v}},[]);const ae=c.useCallback((x,f,_)=>({id:`${x}-${f}-${Date.now()}`,x,y:f,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10,life:30,maxLife:30,color:_,size:Math.random()*4+2}),[]);c.useCallback((x,f)=>{const _=["multiplier","freeze","magnet","explosion"],v=_[Math.floor(Math.random()*_.length)];return{id:`${x}-${f}-${Date.now()}`,x,y:f,type:v,life:300,isActive:!1}},[]);const ie=c.useCallback(()=>{const x=jt[Math.floor(Math.random()*jt.length)];o(f=>({...f,currentPrompt:`Pop only ${x.name.toUpperCase()} balloons!`,promptColor:x.name}))},[]),ve=c.useCallback(()=>{u([]),ie()},[ie]),de=c.useCallback(()=>{const x=e.current;if(!x)return;const f=Math.random()*(x.width-Z*2)+Z,v=Math.random()<.7?jt.find(b=>b.name===i.promptColor)??jt[0]:jt[Math.floor(Math.random()*jt.length)],j={id:`${f}-${-Z}-${Date.now()}`,x:f,y:-Z,vx:(Math.random()-.5)*2,vy:1+Math.random()*2,radius:Z,color:v.color,colorName:v.name,emoji:v.emoji,isPopped:!1,isAnimating:!1,animationTime:0,fallSpeed:1+Math.random()*2};u(b=>[...b,j])},[i.promptColor]),ee=c.useCallback((x,f)=>{const _=[];for(let b=0;b<12;b++)_.push(ae(x.x,x.y,x.color));g(b=>[...b,..._]),u(b=>b.filter(V=>V.id!==x.id));let v=0,j=0;f?(v=10+i.streak*5,j=1,Math.random()<.3&&ie()):(v=-5,j=-i.streak,o(b=>({...b,lives:b.lives-1,streak:0}))),o(b=>{const V=Math.max(0,b.score+v),L=Math.max(0,b.streak+j);return{...b,score:V,streak:L,highScore:Math.max(b.highScore,V)}})},[i.streak,ae,ie]),I=()=>{ve(),o(x=>({...x,isPlaying:!0,isPaused:!1,score:0,gameOver:!1,level:1,lives:3,target:1e3,timeLeft:60,combo:0,multiplier:1,streak:0})),F(0)},ke=()=>{o(x=>({...x,isPaused:!x.isPaused}))},ge=c.useCallback(x=>{if(!i.isPlaying||i.isPaused){t.current=requestAnimationFrame(ge);return}const f=e.current;if(!f)return;const _=x-n.current;n.current=x,i.timeLeft>0?o(j=>({...j,timeLeft:j.timeLeft-_/1e3})):o(j=>({...j,isPlaying:!1,gameOver:!0})),i.lives<=0&&o(j=>({...j,isPlaying:!1,gameOver:!0})),F(j=>{const b=j+_;return b>=se?(de(),0):b}),u(j=>j.map(b=>{if(b.isPopped)return b;let V=b.x+b.vx;const L=b.y+b.vy,C=e.current;if(!C)return b;if(V=Math.max(Z,Math.min(C.width-Z,V)),L>C.height+Z)return{...b,isPopped:!0};const W=(Math.random()-.5)*.5;return V=Math.max(Z,Math.min(C.width-Z,V+W)),{...b,x:V,y:L}}).filter(b=>!b.isPopped)),g(j=>j.map(b=>({...b,x:b.x+b.vx,y:b.y+b.vy,vy:b.vy+.1,life:b.life-1})).filter(b=>b.life>0)),w(j=>j.map(b=>({...b,life:b.life-1})).filter(b=>b.life>0));const v=f.getContext("2d");if(v){v.save(),v.beginPath(),v.rect(0,0,f.width,f.height),v.clip();const j=v.createLinearGradient(0,0,0,f.height);j.addColorStop(0,"#1a1a2e"),j.addColorStop(1,"#16213e"),v.fillStyle=j,v.fillRect(0,0,f.width,f.height),v.fillStyle="rgba(255, 255, 255, 0.1)";for(let b=0;b<50;b++){const V=b*7%f.width,L=b*11%f.height;v.fillRect(V,L,1,1)}l.forEach(b=>{if(b.isPopped)return;const V=b.x,L=b.y,C=b.radius;if(V<-C||V>f.width+C||L<-C||L>f.height+C)return;v.fillStyle="rgba(0, 0, 0, 0.3)",v.beginPath(),v.arc(V+3,L+3,C,0,Math.PI*2),v.fill();const W=v.createRadialGradient(V-C/3,L-C/3,0,V,L,C);W.addColorStop(0,"rgba(255, 255, 255, 0.9)"),W.addColorStop(.6,b.color),W.addColorStop(1,b.color+"CC"),v.fillStyle=W,v.beginPath(),v.arc(V,L,C,0,Math.PI*2),v.fill(),v.fillStyle="rgba(255, 255, 255, 0.7)",v.beginPath(),v.arc(V-C/3,L-C/3,C/3,0,Math.PI*2),v.fill(),v.strokeStyle="#8B4513",v.lineWidth=2,v.beginPath(),v.moveTo(V,L+C),v.lineTo(V+5,L+C+15),v.stroke(),v.font="20px Arial",v.textAlign="center",v.fillText(b.emoji,V,L+7)}),d.forEach(b=>{const V=b.life/b.maxLife;v.fillStyle=b.color+Math.floor(V*255).toString(16).padStart(2,"0"),v.beginPath(),v.arc(b.x,b.y,b.size,0,Math.PI*2),v.fill()}),h.forEach(b=>{const V=b.x,L=b.y;v.fillStyle="#ffff00",v.beginPath(),v.arc(V,L,15,0,Math.PI*2),v.fill(),v.fillStyle="#000000",v.font="12px Arial",v.textAlign="center",v.fillText("",V,L+4)}),v.fillStyle="rgba(0, 0, 0, 0.7)",v.fillRect(10,10,f.width-20,60),v.fillStyle="#ffffff",v.font="bold 24px Arial",v.textAlign="center",v.fillText(i.currentPrompt,f.width/2,40),i.streak>0&&(v.fillStyle="#ffff00",v.font="bold 18px Arial",v.textAlign="left",v.fillText(`STREAK: ${i.streak}`,20,f.height-20)),v.restore()}t.current=requestAnimationFrame(ge)},[i,l,d,h,de]);return c.useEffect(()=>{const x=e.current;if(!x)return;const f=()=>{const _=x.parentElement;if(_){const v=_.getBoundingClientRect();let j=v.width,b=v.height;const V=Math.min(v.width*.95,r?400:1200),L=Math.min(v.height*.84,r?600:720);j=Math.min(j,V),b=Math.min(b,L);const C=j<=400;C&&(j=Math.max(j,350),b=Math.max(b,500)),x.width=Math.floor(j),x.height=Math.floor(b);const W=window.devicePixelRatio||1;if(W>1&&!C){x.width*=W,x.height*=W,x.style.width=j+"px",x.style.height=b+"px";const le=x.getContext("2d");le&&le.scale(W,W)}}};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),c.useEffect(()=>{const x=e.current;if(!x)return;const f=j=>{const b=x.getBoundingClientRect(),V=window.devicePixelRatio||1,L=x.width<=400?1:V;s.current={x:(j.clientX-b.left)*(x.width/b.width/L),y:(j.clientY-b.top)*(x.height/b.height/L)}},_=j=>{if(!i.isPlaying||i.isPaused)return;const b=x.getBoundingClientRect(),V=window.devicePixelRatio||1,L=x.width<=400?1:V,C=(j.clientX-b.left)*(x.width/b.width/L),W=(j.clientY-b.top)*(x.height/b.height/L);u(le=>{for(const re of le){if(re.isPopped)continue;const G=C-re.x,D=W-re.y;if(Math.hypot(G,D)<=re.radius){const we=re.colorName===i.promptColor;ee(re,we),re.isPopped=!0;break}}return le.filter(re=>!re.isPopped)})},v=j=>{if(!i.isPlaying||i.isPaused)return;j.preventDefault();const b=x.getBoundingClientRect(),V=window.devicePixelRatio||1,L=x.width<=400?1:V,C=j.touches[0],W=(C.clientX-b.left)*(x.width/b.width/L),le=(C.clientY-b.top)*(x.height/b.height/L);u(re=>{for(const G of re){if(G.isPopped)continue;const D=W-G.x,we=le-G.y;if(Math.hypot(D,we)<=G.radius){const je=G.colorName===i.promptColor;ee(G,je),G.isPopped=!0;break}}return re.filter(G=>!G.isPopped)})};return x.addEventListener("mousemove",f),x.addEventListener("click",_),x.addEventListener("touchstart",v,{passive:!1}),()=>{x.removeEventListener("mousemove",f),x.removeEventListener("click",_),x.removeEventListener("touchstart",v)}},[i.isPlaying,i.isPaused,l,ae,ie]),c.useEffect(()=>(i.isPlaying&&!i.isPaused&&(t.current=requestAnimationFrame(ge)),()=>{t.current&&cancelAnimationFrame(t.current)}),[ge,i.isPlaying,i.isPaused]),a.jsx("div",{className:"w-full h-full max-w-7xl mx-auto",children:a.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900 backdrop-blur-sm rounded-lg border border-blue-500/20 p-2 sm:p-4 max-h-[96vh]",children:[a.jsxs("div",{className:`flex justify-center items-center mb-2 gap-1 sm:gap-2 md:gap-4 ${r?"flex-wrap":""}`,children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-blue-400/60 font-mono uppercase tracking-wider",children:"SCORE"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-blue-400",children:i.score.toString().padStart(6,"0")})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-purple-400/60 font-mono uppercase tracking-wider",children:"LEVEL"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-purple-400",children:i.level.toString().padStart(2,"0")})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-pink-400/60 font-mono uppercase tracking-wider",children:"LIVES"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-pink-400",children:i.lives})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-green-400/60 font-mono uppercase tracking-wider",children:"TARGET"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-green-400",children:i.target})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-yellow-400/60 font-mono uppercase tracking-wider",children:"TIME"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-yellow-400",children:Math.ceil(i.timeLeft)})]})]}),a.jsxs("div",{className:"relative flex-1 flex items-center justify-center max-h-[72vh]",children:[a.jsx("canvas",{ref:e,className:`bg-black rounded touch-none select-none w-full h-full ${i.isPlaying&&!i.isPaused?r?"cursor-none":"cursor-crosshair":"cursor-default"}`,style:{imageRendering:"pixelated",maxWidth:"100%",maxHeight:"100%",touchAction:"none",userSelect:"none"}}),!i.isPlaying&&!i.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 backdrop-blur-sm rounded",children:[a.jsx("h1",{className:`font-bold text-white mb-4 text-center ${r?"text-3xl":"text-4xl md:text-6xl"}`,children:" POP POP"}),a.jsx("p",{className:`text-gray-300 mb-2 text-center ${r?"text-base":"text-lg md:text-xl"}`,children:r?"Tap balloons to pop them!":"Click on balloons to pop them!"}),a.jsx("p",{className:`text-gray-300 mb-8 text-center ${r?"text-sm":"text-lg md:text-xl"}`,children:"Only pop the color shown in the prompt - wrong colors cost lives!"}),a.jsx("button",{onClick:I,className:`bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-colors duration-200 border-2 border-blue-400 ${r?"px-6 py-3 text-lg":"px-8 py-4 text-xl"}`,children:"START POPPING"})]}),i.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-900/50 backdrop-blur-sm rounded",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-red-400 mb-4 text-center",children:" GAME OVER"}),a.jsxs("p",{className:"text-2xl md:text-3xl text-white mb-2",children:["Final Score: ",i.score]}),a.jsxs("p",{className:"text-lg md:text-xl text-gray-300 mb-8",children:["High Score: ",i.highScore]}),a.jsx("button",{onClick:I,className:"px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-bold text-xl rounded-lg transition-colors duration-200 border-2 border-red-400",children:"PLAY AGAIN"})]}),i.isPaused&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-blue-900/50 backdrop-blur-sm rounded",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-blue-400 mb-8 text-center",children:" PAUSED"}),a.jsx("button",{onClick:ke,className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold text-xl rounded-lg transition-colors duration-200 border-2 border-blue-400",children:"RESUME GAME"})]}),i.isPlaying&&!i.isPaused&&a.jsxs("div",{className:`absolute bottom-4 left-4 right-4 flex justify-between items-center text-white ${r?"text-xs":"text-sm"}`,children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{children:r?"Tap balloons to pop":"Click balloons to pop"})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{children:"Follow the prompt!"})})]})]})]})})}const Ln=[{id:"cyber-defense",name:"Cyber Defence",description:"Defend your base from incoming cyber attacks in this tower defense game",icon:"",component:Ku,isAvailable:!0,stakingRequirement:145e9,tier:1},{id:"pop-pop",name:"Pop Pop",description:"Click the right colored balloons as they fall! Follow the prompts and avoid wrong colors to build your streak",icon:"",component:Gu,isAvailable:!0,stakingRequirement:145e9,tier:1}];function Hu(){const[e,t]=c.useState(null),{userData:n,stakingDecimals:s}=zt(),r=d=>{t(d)},i=()=>{t(null)},o=n?.staked||0;console.log(" Games Section Debug:",{userStakedAmount:o,stakingDecimals:s,userStakedFormatted:o/Math.pow(10,s),games:Ln.map(d=>({name:d.name,requirement:d.stakingRequirement,requirementFormatted:d.stakingRequirement/Math.pow(10,s),canAccess:o>=d.stakingRequirement}))});const l=d=>!!d.isAvailable,u=d=>s>0?(d/Math.pow(10,s)).toLocaleString():d.toLocaleString();if(e){const d=Ln.find(g=>g.id===e);if(d&&l(d)){const g=d.component;return a.jsxs("div",{children:[a.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"text-2xl",children:d.icon}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:d.name})]})})}),a.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-6",children:a.jsx(g,{})})]})}}return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:" Games Hub"}),a.jsx("p",{className:"text-gray-300 text-sm md:text-base",children:"Choose your adventure and earn rewards while playing!"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-lg p-4 mb-6",children:[a.jsx("h2",{className:"text-lg font-bold text-white mb-3",children:" Game Access"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Locked"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Less than 145,000 tokens"}),a.jsx("p",{className:"text-xs text-red-400",children:"No game access"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Unlocked"}),a.jsx("p",{className:"text-sm text-gray-300",children:"145,000+ tokens"}),a.jsx("p",{className:"text-xs text-green-400",children:"All Games Available"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6",children:Ln.map(d=>{const g=l(d);return a.jsx("div",{className:`bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 md:p-6 transition-all duration-200 ${g?"hover:bg-white/5 hover:border-white/20 cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>g&&r(d.id),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl md:text-6xl mb-3 md:mb-4",children:d.icon}),a.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-2",children:d.name}),a.jsx("p",{className:"text-gray-300 text-sm mb-4",children:d.description}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Staking Required"}),a.jsxs("div",{className:"text-sm font-semibold text-yellow-400",children:[u(d.stakingRequirement)," tokens"]})]}),d.isAvailable?a.jsx("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:a.jsx("span",{className:"text-xs md:text-sm",children:" Available"})}):a.jsx("div",{className:"flex items-center justify-center space-x-2 text-yellow-400",children:a.jsx("span",{className:"text-xs md:text-sm",children:" Coming Soon"})})]})},d.id)})}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 md:p-6",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4",children:" How Games Work"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:""}),a.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Play & Earn"}),a.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Complete games and earn tokens based on your performance"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:""}),a.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Leaderboards"}),a.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Compete with other players and climb the rankings"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:""}),a.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Rewards"}),a.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Unlock special rewards and achievements"})]})]})]})]})}function Yu(){return Qs(),c.useEffect(()=>{window.scrollTo(0,0)},[]),a.jsx("div",{id:"games",className:"relative min-h-screen",children:a.jsxs("div",{className:"container py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4",children:a.jsx("span",{className:"text-gradient",children:"Games"})}),a.jsx("p",{className:"text-foreground/80 max-w-2xl mx-auto text-lg",children:"Play interactive games and earn rewards based on your staking tier. The more you stake, the more games you unlock!"})]}),a.jsx(Hu,{})]})})}const Qu=ta("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xu({className:e,variant:t,...n}){return a.jsx("div",{className:be(Qu({variant:t}),e),...n})}var An="Tabs",[Ju]=hn(An,[rs]),Qr=rs(),[Zu,da]=Ju(An),Xr=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=e,g=ns(l),[h,w]=ts({prop:s,onChange:r,defaultProp:i??"",caller:An});return a.jsx(Zu,{scope:n,baseId:Ro(),value:h,onValueChange:w,orientation:o,dir:g,activationMode:u,children:a.jsx(ut.div,{dir:g,"data-orientation":o,...d,ref:t})})});Xr.displayName=An;var Jr="TabsList",Zr=c.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,i=da(Jr,n),o=Qr(n);return a.jsx(Eo,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:a.jsx(ut.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:t})})});Zr.displayName=Jr;var eo="TabsTrigger",to=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=e,o=da(eo,n),l=Qr(n),u=so(o.baseId,s),d=ro(o.baseId,s),g=s===o.value;return a.jsx(Mo,{asChild:!0,...l,focusable:!r,active:g,children:a.jsx(ut.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":d,"data-state":g?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...i,ref:t,onMouseDown:Ye(e.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:Ye(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:Ye(e.onFocus,()=>{const h=o.activationMode!=="manual";!g&&!r&&h&&o.onValueChange(s)})})})});to.displayName=eo;var no="TabsContent",ao=c.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...o}=e,l=da(no,n),u=so(l.baseId,s),d=ro(l.baseId,s),g=s===l.value,h=c.useRef(g);return c.useEffect(()=>{const w=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(w)},[]),a.jsx(Ja,{present:r||g,children:({present:w})=>a.jsx(ut.div,{"data-state":g?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!w,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:w&&i})})});ao.displayName=no;function so(e,t){return`${e}-trigger-${t}`}function ro(e,t){return`${e}-content-${t}`}var em=Xr,oo=Zr,io=to,lo=ao;const tm=em,co=c.forwardRef(({className:e,...t},n)=>a.jsx(oo,{ref:n,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));co.displayName=oo.displayName;const un=c.forwardRef(({className:e,...t},n)=>a.jsx(io,{ref:n,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));un.displayName=io.displayName;const mn=c.forwardRef(({className:e,...t},n)=>a.jsx(lo,{ref:n,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mn.displayName=lo.displayName;async function nm(e,t,n){try{console.log(" [CLIENT] Submitting score:",{walletAddress:e,score:t,gameType:n});const s={walletAddress:e,score:t,gameType:n};console.log(" [CLIENT] Sending request to API:",s);const r=await fetch("/api/leaderboard/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log(" [CLIENT] API response status:",r.status),!r.ok){console.log(" [CLIENT] API request failed with status:",r.status);const o=await r.json().catch(()=>({}));throw console.log(" [CLIENT] Error data:",o),new Error(o.message||`HTTP error! status: ${r.status}`)}const i=await r.json();return console.log(" [CLIENT] Score submission successful:",i),i}catch(s){return console.error("Failed to submit score:",s),{success:!1,message:s instanceof Error?s.message:"Failed to submit score. Please try again."}}}function am(){const[e,t]=c.useState({cyberDefense:[],popPop:[],global:[]}),[n,s]=c.useState(!0),[r,i]=c.useState("global"),[o,l]=c.useState(!1),{walletAddress:u}=zt();c.useEffect(()=>{d()},[]);const d=async()=>{try{console.log(" [LEADERBOARD] Fetching leaderboard data..."),s(!0);const p=await fetch("/api/leaderboard");if(console.log(" [LEADERBOARD] API response status:",p.status),!p.ok)throw console.log(" [LEADERBOARD] API request failed with status:",p.status),new Error(`HTTP error! status: ${p.status}`);const y=await p.json();console.log(" [LEADERBOARD] Leaderboard data received:",y),t(y)}catch(p){console.error(" [LEADERBOARD] Failed to fetch leaderboard data:",p)}finally{s(!1)}},g=async()=>{if(!u){console.log(" [TEST] No wallet address available");return}try{l(!0),console.log(" [TEST] Submitting test score...");const p=await nm(u,Math.floor(Math.random()*1e3)+100,"cyber-defense");p.success?(console.log(" [TEST] Score submitted successfully!",p),await d()):console.log(" [TEST] Score submission failed:",p.message)}catch(p){console.error(" [TEST] Error submitting test score:",p)}finally{l(!1)}},h=p=>p?`${p.slice(0,4)}...${p.slice(-4)}`:"Unknown",w=p=>{switch(p){case 1:return a.jsx(Qo,{className:"w-6 h-6 text-yellow-500"});case 2:return a.jsx(wa,{className:"w-6 h-6 text-gray-400"});case 3:return a.jsx(wa,{className:"w-6 h-6 text-amber-600"});default:return a.jsxs("span",{className:"w-6 h-6 flex items-center justify-center text-sm font-bold text-muted-foreground",children:["#",p]})}},m=p=>{switch(p){case"cyber-defense":return a.jsx(En,{className:"w-4 h-4"});case"pop-pop":return a.jsx(Mn,{className:"w-4 h-4"});default:return a.jsx(Jo,{className:"w-4 h-4"})}},S=({entries:p,gameType:y})=>a.jsx("div",{className:"space-y-2",children:p.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No scores yet. Be the first to play!"}):p.map((k,$)=>a.jsx(Le,{className:`transition-all duration-200 hover:shadow-md ${k.walletAddress===u?"ring-2 ring-primary bg-primary/5":""}`,children:a.jsx(qe,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex items-center justify-center w-8",children:w(k.rank)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[m(y),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold",children:[h(k.walletAddress),k.walletAddress===u&&a.jsx(Xu,{variant:"secondary",className:"ml-2 text-xs",children:"You"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.gamesPlayed," games played"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:k.score.toLocaleString()}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"points"})]})]})})},`${k.walletAddress}-${$}`))});return n?a.jsx("div",{className:"container py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading leaderboard..."})]})}):a.jsxs("div",{className:"container py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(Rn,{className:"w-12 h-12 text-primary mr-4"}),a.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold",children:a.jsx("span",{className:"text-gradient",children:"Leaderboard"})})]}),a.jsx("p",{className:"text-foreground/80 max-w-2xl mx-auto text-lg",children:"Compete with other players and climb the ranks! See who's dominating each game."})]}),a.jsxs(tm,{value:r,onValueChange:i,className:"w-full",children:[a.jsxs(co,{className:"grid w-full grid-cols-3 mb-8",children:[a.jsxs(un,{value:"global",className:"flex items-center space-x-2",children:[a.jsx(Rn,{className:"w-4 h-4"}),a.jsx("span",{children:"Global"})]}),a.jsxs(un,{value:"cyber-defense",className:"flex items-center space-x-2",children:[a.jsx(En,{className:"w-4 h-4"}),a.jsx("span",{children:"Cyber Defense"})]}),a.jsxs(un,{value:"pop-pop",className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{children:"Pop Pop"})]})]}),a.jsx(mn,{value:"global",children:a.jsxs(Le,{children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center space-x-2",children:[a.jsx(Rn,{className:"w-6 h-6 text-primary"}),a.jsx("span",{children:"Global Leaderboard"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Top performers across all games. Only the best score from each player is shown."})]}),a.jsx(qe,{children:a.jsx(S,{entries:e.global,gameType:"global"})})]})}),a.jsx(mn,{value:"cyber-defense",children:a.jsxs(Le,{children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center space-x-2",children:[a.jsx(En,{className:"w-6 h-6 text-primary"}),a.jsx("span",{children:"Cyber Defense Leaderboard"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Defend your base and climb the ranks in Cyber Defense!"})]}),a.jsx(qe,{children:a.jsx(S,{entries:e.cyberDefense,gameType:"cyber-defense"})})]})}),a.jsx(mn,{value:"pop-pop",children:a.jsxs(Le,{children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center space-x-2",children:[a.jsx(Mn,{className:"w-6 h-6 text-primary"}),a.jsx("span",{children:"Pop Pop Leaderboard"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Pop the right balloons and build your streak in Pop Pop!"})]}),a.jsx(qe,{children:a.jsx(S,{entries:e.popPop,gameType:"pop-pop"})})]})})]}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Leaderboards update in real-time. Play games to see your score appear!"}),u&&a.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 mb-4",children:[a.jsx("p",{className:"text-yellow-400 text-sm mb-2",children:" Test Mode - Submit Test Score"}),a.jsx(xe,{onClick:g,disabled:o,variant:"outline",className:"bg-yellow-500/20 border-yellow-500/40 text-yellow-400 hover:bg-yellow-500/30",children:o?"Submitting...":"Submit Test Score"}),a.jsx("p",{className:"text-xs text-yellow-400/70 mt-2",children:"This will submit a random score to test the leaderboard system"})]})]})]})}const sm=()=>{const e=Pn();return c.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function rm(){const[e,t]=c.useState(!1),[n,s]=c.useState(0),[r,i]=c.useState(!1),{walletAddress:o,connectWallet:l,disconnectWallet:u,isAdmin:d}=zt(),g=ad(),h=Pn();c.useEffect(()=>{const k=()=>t(window.scrollY>24);return k(),window.addEventListener("scroll",k,{passive:!0}),()=>window.removeEventListener("scroll",k)},[]),c.useEffect(()=>{const k=()=>{const A=document.documentElement.scrollHeight-window.innerHeight,F=A>0?Math.min(1,window.scrollY/A):0;s(F);const Z=document.getElementById("scroll-progress");Z&&(Z.style.transform=`scaleX(${F})`),document.documentElement.style.setProperty("--scroll-progress",`${F}`)};return k(),window.addEventListener("scroll",k,{passive:!0}),window.addEventListener("resize",k),()=>{window.removeEventListener("scroll",k),window.removeEventListener("resize",k)}},[]);const w=()=>{document.documentElement.classList.toggle("dark")},m=async()=>{try{await l()}catch(k){console.error("Failed to connect wallet:",k),alert(k instanceof Error?k.message:"Failed to connect wallet")}},S=()=>{u()},p=k=>{if(i(!1),h.pathname==="/"){const $=document.getElementById(k);$&&$.scrollIntoView({behavior:"smooth"})}else g(`/#${k}`)},y=()=>{i(!r)};return a.jsxs("header",{className:be("sticky top-0 z-50 w-full transition-all",e?"backdrop-blur-md bg-background/70 border-b border-white/6":"bg-transparent"),children:[a.jsx("div",{id:"scroll-progress"}),a.jsxs("div",{className:"container relative flex h-20 items-center justify-between",children:[a.jsxs("a",{href:"#home",className:"inline-flex items-center gap-3",children:[a.jsx("img",{src:"/favicon.ico",alt:"NPC Logo",className:"h-6 w-6 rounded-md"}),a.jsx("span",{className:"font-medium tracking-tight text-sm",children:"NPC"})]}),a.jsxs("nav",{className:"hidden md:flex gap-10 items-center text-sm font-medium opacity-90",children:[a.jsx("button",{onClick:()=>p("how"),className:"nav-link",children:"How it works"}),a.jsx("button",{onClick:()=>p("stake"),className:"nav-link",children:"Stake"}),a.jsx("a",{href:"/games",className:"nav-link",children:"Games"}),a.jsx("button",{onClick:()=>p("faq"),className:"nav-link",children:"FAQ"}),d&&a.jsx("a",{href:"/admin",className:"nav-link text-accent",children:"Admin"})]}),a.jsx("div",{className:"md:hidden absolute left-1/2 transform -translate-x-1/2",children:a.jsx(xe,{variant:"ghost",size:"sm",onClick:y,className:"p-2","aria-label":"Toggle mobile menu",children:r?a.jsx(fs,{className:"h-5 w-5"}):a.jsx(ri,{className:"h-5 w-5"})})}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsx(xe,{variant:"ghost",size:"sm",onClick:w,"aria-label":"Toggle theme",children:a.jsx(gn,{})}),o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-foreground/70",children:"Connected"}),a.jsxs("div",{className:"font-mono text-sm text-green-400",children:[o.slice(0,4),"...",o.slice(-4)]})]}),a.jsxs(xe,{size:"sm",className:"btn-gradient",onClick:()=>p("stake"),children:[a.jsx(Zt,{className:"mr-2"}),"Staking"]}),a.jsx(xe,{size:"sm",variant:"outline",className:"glass",onClick:S,children:"Disconnect"})]}):a.jsxs(xe,{size:"sm",variant:"outline",className:"glass",onClick:m,children:[a.jsx(Zt,{className:"mr-2"}),"Connect Wallet"]})]}),a.jsx("div",{className:"md:hidden",children:o?a.jsxs(xe,{size:"sm",className:"btn-gradient",onClick:()=>p("stake"),children:[a.jsx(Zt,{className:"mr-2"}),"Stake"]}):a.jsxs(xe,{size:"sm",variant:"outline",className:"glass",onClick:m,children:[a.jsx(Zt,{className:"mr-2"}),"Connect"]})})]}),r&&a.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-background/95 backdrop-blur-md border-b border-white/10",children:a.jsxs("div",{className:"container py-4 space-y-4",children:[a.jsxs("nav",{className:"flex flex-col space-y-3",children:[a.jsx("button",{onClick:()=>p("how"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"How it works"}),a.jsx("button",{onClick:()=>p("stake"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"Stake"}),a.jsx("a",{href:"/games",className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",onClick:()=>i(!1),children:"Games"}),a.jsx("button",{onClick:()=>p("faq"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"FAQ"}),d&&a.jsx("a",{href:"/admin",className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors text-accent",onClick:()=>i(!1),children:"Admin"})]}),o&&a.jsxs("div",{className:"pt-4 border-t border-white/10",children:[a.jsx("div",{className:"text-xs text-foreground/70 mb-2",children:"Connected"}),a.jsxs("div",{className:"font-mono text-sm text-green-400 mb-3",children:[o.slice(0,4),"...",o.slice(-4)]}),a.jsx(xe,{size:"sm",variant:"outline",className:"glass w-full",onClick:S,children:"Disconnect"})]})]})})]})}function om(){return a.jsxs("footer",{className:"relative mt-20 border-t border-white/10",children:[a.jsx("div",{className:"absolute inset-x-0 -top-px h-px bg-gradient-to-r from-transparent via-primary/60 to-transparent"}),a.jsxs("div",{className:"container py-10 text-sm flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"opacity-80",children:[" ",new Date().getFullYear()," powered by NickPlaysCrypto."]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("a",{href:"https://discord.com/invite/nickplayscrypto",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"Discord",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),a.jsx("a",{href:"https://x.com/NickPlaysCrypto",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"X (Twitter)",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),a.jsx("a",{href:"https://dexscreener.com/solana/6mpafrxmywfyojaunxdqgw9sq2mhpuh3d6daw3xipump",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"DexScreener",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})})]})]})]})}const im=new Sc;function lm(){return a.jsx(jc,{client:im,children:a.jsx(ju,{children:a.jsx(Tu,{children:a.jsxs(Jl,{children:[a.jsx(el,{}),a.jsx(Dl,{}),a.jsx(Pd,{children:a.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[a.jsx(rm,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(bd,{children:[a.jsx(Dt,{path:"/",element:a.jsx(Mu,{})}),a.jsx(Dt,{path:"/admin",element:a.jsx(qu,{})}),a.jsx(Dt,{path:"/games",element:a.jsx(Yu,{})}),a.jsx(Dt,{path:"/leaderboard",element:a.jsx(am,{})}),a.jsx(Dt,{path:"*",element:a.jsx(sm,{})})]})}),a.jsx(om,{})]})})]})})})})}nl.createRoot(document.getElementById("root")).render(a.jsx(lm,{}));
