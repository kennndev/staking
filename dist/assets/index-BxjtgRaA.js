const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/solana-CghHl2Ac.js","assets/vendor-CH9ipRDm.js"])))=>i.map(i=>d[i]);
import{r as c,j as a,V as Oa,R as Ua,A as Fa,C as Va,T as $a,D as za,P as Ur,o as F,v as Fr,c as Gn,a as Vr,b as Wa,d as $r,e as zr,f as Ka,g as Wr,u as ut,h as Kr,i as Rt,k as Je,l as qr,m as Gr,S as Hr,n as Yr,p as Qr,q as Xr,s as Jr,t as qa,O as Zr,w as eo,W as to,x as no,y as ao,z as so,B as Ga,E as ro,F as oo}from"./ui-BPIDfs4d.js";import{b as io}from"./vendor-CH9ipRDm.js";import{P as we,B as Ue,a as zt,C as Ha,A as Fe,g as ft,b as Et,S as Cn,T as ht,c as Wt,d as aa,e as it,f as lo,h as sa,i as ra}from"./solana-CghHl2Ac.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const co=1,uo=1e6;let vn=0;function mo(){return vn=(vn+1)%Number.MAX_SAFE_INTEGER,vn.toString()}const kn=new Map,oa=e=>{if(kn.has(e))return;const t=setTimeout(()=>{kn.delete(e),Gt({type:"REMOVE_TOAST",toastId:e})},uo);kn.set(e,t)},fo=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,co)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?oa(n):e.toasts.forEach(s=>{oa(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},rn=[];let on={toasts:[]};function Gt(e){on=fo(on,e),rn.forEach(t=>{t(on)})}function ho({...e}){const t=mo(),n=r=>Gt({type:"UPDATE_TOAST",toast:{...r,id:t}}),s=()=>Gt({type:"DISMISS_TOAST",toastId:t});return Gt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:r=>{r||s()}}}),{id:t,dismiss:s,update:n}}function go(){const[e,t]=c.useState(on);return c.useEffect(()=>(rn.push(t),()=>{const n=rn.indexOf(t);n>-1&&rn.splice(n,1)}),[e]),{...e,toast:ho,dismiss:n=>Gt({type:"DISMISS_TOAST",toastId:n})}}function Ya(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Ya(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Qa(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Ya(e))&&(s&&(s+=" "),s+=t);return s}const ia=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,la=Qa,Xa=(e,t)=>n=>{var s;if(t?.variants==null)return la(e,n?.class,n?.className);const{variants:r,defaultVariants:i}=t,o=Object.keys(r).map(d=>{const g=n?.[d],h=i?.[d];if(g===null)return null;const x=ia(g)||ia(h);return r[d][x]}),l=n&&Object.entries(n).reduce((d,g)=>{let[h,x]=g;return x===void 0||(d[h]=x),d},{}),m=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,g)=>{let{class:h,className:x,...u}=g;return Object.entries(u).every(S=>{let[p,v]=S;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...d,h,x]:d},[]);return la(e,o,m,n?.class,n?.className)};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wo=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),ca=e=>{const t=wo(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ja=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),xo=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},m)=>c.createElement("svg",{ref:m,...yo,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:Ja("lucide",r),...!i&&!xo(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,g])=>c.createElement(d,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const n=c.forwardRef(({className:s,...r},i)=>c.createElement(bo,{ref:i,iconNode:t,className:Ja(`lucide-${po(ca(e))}`,`lucide-${e}`,s),...r}));return n.displayName=ca(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ko=Ze("arrow-right",vo);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Za=Ze("chart-line",Po);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Ao=Ze("lock-open",So);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jo=Ze("log-out",No);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Eo=Ze("menu",To);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mo=Ze("refresh-cw",Co);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],es=Ze("shield-check",Ro);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],un=Ze("sparkles",Io);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Bo=Ze("timer",Do);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Lo=Ze("trending-up",_o);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Zt=Ze("wallet",Oo);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ts=Ze("x",Uo);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ns=Ze("zap",Fo),Hn="-",Vo=e=>{const t=zo(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Hn);return l[0]===""&&l.length!==1&&l.shift(),as(l,t)||$o(o)},getConflictingClassGroupIds:(o,l)=>{const m=n[o]||[];return l&&s[o]?[...m,...s[o]]:m}}},as=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?as(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const i=e.join(Hn);return t.validators.find(({validator:o})=>o(i))?.classGroupId},da=/^\[(.+)\]$/,$o=e=>{if(da.test(e)){const t=da.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zo=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Ko(Object.entries(e.classGroups),n).forEach(([i,o])=>{Mn(o,s,i,t)}),s},Mn=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const i=r===""?t:ua(t,r);i.classGroupId=n;return}if(typeof r=="function"){if(Wo(r)){Mn(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{Mn(o,ua(t,i),n,s)})})},ua=(e,t)=>{let n=e;return t.split(Hn).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Wo=e=>e.isThemeGetter,Ko=(e,t)=>t?e.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,r]}):e,qo=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},ss="!",Go=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,r=t[0],i=t.length,o=l=>{const m=[];let d=0,g=0,h;for(let v=0;v<l.length;v++){let A=l[v];if(d===0){if(A===r&&(s||l.slice(v,v+i)===t)){m.push(l.slice(g,v)),g=v+i;continue}if(A==="/"){h=v;continue}}A==="["?d++:A==="]"&&d--}const x=m.length===0?l:l.substring(g),u=x.startsWith(ss),S=u?x.substring(1):x,p=h&&h>g?h-g:void 0;return{modifiers:m,hasImportantModifier:u,baseClassName:S,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Ho=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},Yo=e=>({cache:qo(e.cacheSize),parseClassName:Go(e),...Vo(e)}),Qo=/\s+/,Xo=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=t,i=[],o=e.trim().split(Qo);let l="";for(let m=o.length-1;m>=0;m-=1){const d=o[m],{modifiers:g,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:u}=n(d);let S=!!u,p=s(S?x.substring(0,u):x);if(!p){if(!S){l=d+(l.length>0?" "+l:l);continue}if(p=s(x),!p){l=d+(l.length>0?" "+l:l);continue}S=!1}const v=Ho(g).join(":"),A=h?v+ss:v,_=A+p;if(i.includes(_))continue;i.push(_);const j=r(p,S);for(let V=0;V<j.length;++V){const H=j[V];i.push(A+H)}l=d+(l.length>0?" "+l:l)}return l};function Jo(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=rs(t))&&(s&&(s+=" "),s+=n);return s}const rs=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=rs(e[s]))&&(n&&(n+=" "),n+=t);return n};function Zo(e,...t){let n,s,r,i=o;function o(m){const d=t.reduce((g,h)=>h(g),e());return n=Yo(d),s=n.cache.get,r=n.cache.set,i=l,l(m)}function l(m){const d=s(m);if(d)return d;const g=Xo(m,n);return r(m,g),g}return function(){return i(Jo.apply(null,arguments))}}const Se=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},os=/^\[(?:([a-z-]+):)?(.+)\]$/i,ei=/^\d+\/\d+$/,ti=new Set(["px","full","screen"]),ni=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ai=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,si=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ri=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mt=e=>It(e)||ti.has(e)||ei.test(e),bt=e=>Lt(e,"length",hi),It=e=>!!e&&!Number.isNaN(Number(e)),Pn=e=>Lt(e,"number",It),Vt=e=>!!e&&Number.isInteger(Number(e)),ii=e=>e.endsWith("%")&&It(e.slice(0,-1)),re=e=>os.test(e),vt=e=>ni.test(e),li=new Set(["length","size","percentage"]),ci=e=>Lt(e,li,is),di=e=>Lt(e,"position",is),ui=new Set(["image","url"]),mi=e=>Lt(e,ui,pi),fi=e=>Lt(e,"",gi),$t=()=>!0,Lt=(e,t,n)=>{const s=os.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},hi=e=>ai.test(e)&&!si.test(e),is=()=>!1,gi=e=>ri.test(e),pi=e=>oi.test(e),wi=()=>{const e=Se("colors"),t=Se("spacing"),n=Se("blur"),s=Se("brightness"),r=Se("borderColor"),i=Se("borderRadius"),o=Se("borderSpacing"),l=Se("borderWidth"),m=Se("contrast"),d=Se("grayscale"),g=Se("hueRotate"),h=Se("invert"),x=Se("gap"),u=Se("gradientColorStops"),S=Se("gradientColorStopPositions"),p=Se("inset"),v=Se("margin"),A=Se("opacity"),_=Se("padding"),j=Se("saturate"),V=Se("scale"),H=Se("sepia"),te=Se("skew"),J=Se("space"),ue=Se("translate"),be=()=>["auto","contain","none"],ye=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto",re,t],Y=()=>[re,t],Ae=()=>["",mt,bt],ne=()=>["auto",It,re],w=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],f=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",re],y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[It,re];return{cacheSize:500,separator:":",theme:{colors:[$t],spacing:[mt,bt],blur:["none","",vt,re],brightness:$(),borderColor:[e],borderRadius:["none","","full",vt,re],borderSpacing:Y(),borderWidth:Ae(),contrast:$(),grayscale:N(),hueRotate:$(),invert:N(),gap:Y(),gradientColorStops:[e],gradientColorStopPositions:[ii,bt],inset:de(),margin:de(),opacity:$(),padding:Y(),saturate:$(),scale:$(),sepia:N(),skew:$(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[vt]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...w(),re]}],overflow:[{overflow:ye()}],"overflow-x":[{"overflow-x":ye()}],"overflow-y":[{"overflow-y":ye()}],overscroll:[{overscroll:be()}],"overscroll-x":[{"overscroll-x":be()}],"overscroll-y":[{"overscroll-y":be()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vt,re]}],basis:[{basis:de()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Vt,re]}],"grid-cols":[{"grid-cols":[$t]}],"col-start-end":[{col:["auto",{span:["full",Vt,re]},re]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[$t]}],"row-start-end":[{row:["auto",{span:[Vt,re]},re]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[J]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[J]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[vt]},vt]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vt,bt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pn]}],"font-family":[{font:[$t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",It,Pn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mt,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...f(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mt,bt]}],"underline-offset":[{"underline-offset":["auto",mt,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...w(),di]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ci]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mi]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[u]}],"gradient-via":[{via:[u]}],"gradient-to":[{to:[u]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...f(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:f()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...f()]}],"outline-offset":[{"outline-offset":[mt,re]}],"outline-w":[{outline:[mt,bt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[mt,bt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vt,fi]}],"shadow-color":[{shadow:[$t]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",vt,re]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[H]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[Vt,re]}],"translate-x":[{"translate-x":[ue]}],"translate-y":[{"translate-y":[ue]}],"skew-x":[{"skew-x":[te]}],"skew-y":[{"skew-y":[te]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mt,bt,Pn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xi=Zo(wi);function ke(...e){return xi(Qa(e))}const yi=Ur,ls=c.forwardRef(({className:e,...t},n)=>a.jsx(Oa,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ls.displayName=Oa.displayName;const bi=Xa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cs=c.forwardRef(({className:e,variant:t,...n},s)=>a.jsx(Ua,{ref:s,className:ke(bi({variant:t}),e),...n}));cs.displayName=Ua.displayName;const vi=c.forwardRef(({className:e,...t},n)=>a.jsx(Fa,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vi.displayName=Fa.displayName;const ds=c.forwardRef(({className:e,...t},n)=>a.jsx(Va,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(ts,{className:"h-4 w-4"})}));ds.displayName=Va.displayName;const us=c.forwardRef(({className:e,...t},n)=>a.jsx($a,{ref:n,className:ke("text-sm font-semibold",e),...t}));us.displayName=$a.displayName;const ms=c.forwardRef(({className:e,...t},n)=>a.jsx(za,{ref:n,className:ke("text-sm opacity-90",e),...t}));ms.displayName=za.displayName;function ki(){const{toasts:e}=go();return a.jsxs(yi,{children:[e.map(function({id:t,title:n,description:s,action:r,...i}){return a.jsxs(cs,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(us,{children:n}),s&&a.jsx(ms,{children:s})]}),r,a.jsx(ds,{})]},t)}),a.jsx(ls,{})]})}var en={},ma;function Pi(){if(ma)return en;ma=1;var e=io();return en.createRoot=e.createRoot,en.hydrateRoot=e.hydrateRoot,en}var Si=Pi(),Ai=(e,t,n,s,r,i,o,l)=>{let m=document.documentElement,d=["light","dark"];function g(u){(Array.isArray(e)?e:[e]).forEach(S=>{let p=S==="class",v=p&&i?r.map(A=>i[A]||A):r;p?(m.classList.remove(...v),m.classList.add(i&&i[u]?i[u]:u)):m.setAttribute(S,u)}),h(u)}function h(u){l&&d.includes(u)&&(m.style.colorScheme=u)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)g(s);else try{let u=localStorage.getItem(t)||n,S=o&&u==="system"?x():u;g(S)}catch{}},Ni=c.createContext(void 0),ji={setTheme:e=>{},themes:[]},Ti=()=>{var e;return(e=c.useContext(Ni))!=null?e:ji};c.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,themes:l,nonce:m,scriptProps:d})=>{let g=JSON.stringify([n,t,i,e,l,o,s,r]).slice(1,-1);return c.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${Ai.toString()})(${g})`}})});var Ei=e=>{switch(e){case"success":return Ri;case"info":return Di;case"warning":return Ii;case"error":return Bi;default:return null}},Ci=Array(12).fill(0),Mi=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},Ci.map((n,s)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Ri=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ii=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Di=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Bi=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_i=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Li=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Rn=1,Oi=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,r=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Rn++,i=this.toasts.find(l=>l.id===r),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...e,id:r,title:n}),{...l,...e,id:r,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:r}),r},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),r=n!==void 0,i,o=s.then(async m=>{if(i=["resolve",m],F.isValidElement(m))r=!1,this.create({id:n,type:"default",message:m});else if(Fi(m)&&!m.ok){r=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description;this.create({id:n,type:"error",message:d,description:g})}else if(t.success!==void 0){r=!1;let d=typeof t.success=="function"?await t.success(m):t.success,g=typeof t.description=="function"?await t.description(m):t.description;this.create({id:n,type:"success",message:d,description:g})}}).catch(async m=>{if(i=["reject",m],t.error!==void 0){r=!1;let d=typeof t.error=="function"?await t.error(m):t.error,g=typeof t.description=="function"?await t.description(m):t.description;this.create({id:n,type:"error",message:d,description:g})}}).finally(()=>{var m;r&&(this.dismiss(n),n=void 0),(m=t.finally)==null||m.call(t)}),l=()=>new Promise((m,d)=>o.then(()=>i[0]==="reject"?d(i[1]):m(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=t?.id||Rn++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ye=new Oi,Ui=(e,t)=>{let n=t?.id||Rn++;return Ye.addToast({title:e,...t,id:n}),n},Fi=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Vi=Ui,$i=()=>Ye.toasts,zi=()=>Ye.getActiveToasts();Object.assign(Vi,{success:Ye.success,info:Ye.info,warning:Ye.warning,error:Ye.error,custom:Ye.custom,message:Ye.message,promise:Ye.promise,dismiss:Ye.dismiss,loading:Ye.loading},{getHistory:$i,getToasts:zi});function Wi(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Wi(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tn(e){return e.label!==void 0}var Ki=3,qi="32px",Gi="16px",fa=4e3,Hi=356,Yi=14,Qi=20,Xi=200;function at(...e){return e.filter(Boolean).join(" ")}function Ji(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var Zi=e=>{var t,n,s,r,i,o,l,m,d,g,h;let{invert:x,toast:u,unstyled:S,interacting:p,setHeights:v,visibleToasts:A,heights:_,index:j,toasts:V,expanded:H,removeToast:te,defaultRichColors:J,closeButton:ue,style:be,cancelButtonStyle:ye,actionButtonStyle:de,className:Y="",descriptionClassName:Ae="",duration:ne,position:w,gap:f,loadingIcon:U,expandByDefault:k,classNames:N,icons:y,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:D}=e,[L,q]=F.useState(null),[oe,ce]=F.useState(null),[X,B]=F.useState(!1),[pe,Ne]=F.useState(!1),[I,Te]=F.useState(!1),[Ke,Qe]=F.useState(!1),[P,b]=F.useState(!1),[O,C]=F.useState(0),[R,z]=F.useState(0),M=F.useRef(u.duration||ne||fa),W=F.useRef(null),E=F.useRef(null),ee=j===0,he=j+1<=A,ie=u.type,G=u.dismissible!==!1,se=u.className||"",ge=u.descriptionClassName||"",ae=F.useMemo(()=>_.findIndex(Z=>Z.toastId===u.id)||0,[_,u.id]),le=F.useMemo(()=>{var Z;return(Z=u.closeButton)!=null?Z:ue},[u.closeButton,ue]),K=F.useMemo(()=>u.duration||ne||fa,[u.duration,ne]),me=F.useRef(0),Pe=F.useRef(0),Me=F.useRef(0),Ee=F.useRef(null),[Le,$e]=w.split("-"),Oe=F.useMemo(()=>_.reduce((Z,fe,xe)=>xe>=ae?Z:Z+fe.height,0),[_,ae]),et=Li(),Re=u.invert||x,tt=ie==="loading";Pe.current=F.useMemo(()=>ae*f+Oe,[ae,Oe]),F.useEffect(()=>{M.current=K},[K]),F.useEffect(()=>{B(!0)},[]),F.useEffect(()=>{let Z=E.current;if(Z){let fe=Z.getBoundingClientRect().height;return z(fe),v(xe=>[{toastId:u.id,height:fe,position:u.position},...xe]),()=>v(xe=>xe.filter(je=>je.toastId!==u.id))}},[v,u.id]),F.useLayoutEffect(()=>{if(!X)return;let Z=E.current,fe=Z.style.height;Z.style.height="auto";let xe=Z.getBoundingClientRect().height;Z.style.height=fe,z(xe),v(je=>je.find(qe=>qe.toastId===u.id)?je.map(qe=>qe.toastId===u.id?{...qe,height:xe}:qe):[{toastId:u.id,height:xe,position:u.position},...je])},[X,u.title,u.description,v,u.id]);let Q=F.useCallback(()=>{Ne(!0),C(Pe.current),v(Z=>Z.filter(fe=>fe.toastId!==u.id)),setTimeout(()=>{te(u)},Xi)},[u,te,v,Pe]);F.useEffect(()=>{if(u.promise&&ie==="loading"||u.duration===1/0||u.type==="loading")return;let Z;return H||p||D&&et?(()=>{if(Me.current<me.current){let fe=new Date().getTime()-me.current;M.current=M.current-fe}Me.current=new Date().getTime()})():M.current!==1/0&&(me.current=new Date().getTime(),Z=setTimeout(()=>{var fe;(fe=u.onAutoClose)==null||fe.call(u,u),Q()},M.current)),()=>clearTimeout(Z)},[H,p,u,ie,D,et,Q]),F.useEffect(()=>{u.delete&&Q()},[Q,u.delete]);function Ie(){var Z,fe,xe;return y!=null&&y.loading?F.createElement("div",{className:at(N?.loader,(Z=u?.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":ie==="loading"},y.loading):U?F.createElement("div",{className:at(N?.loader,(fe=u?.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":ie==="loading"},U):F.createElement(Mi,{className:at(N?.loader,(xe=u?.classNames)==null?void 0:xe.loader),visible:ie==="loading"})}return F.createElement("li",{tabIndex:0,ref:E,className:at(Y,se,N?.toast,(t=u?.classNames)==null?void 0:t.toast,N?.default,N?.[ie],(n=u?.classNames)==null?void 0:n[ie]),"data-sonner-toast":"","data-rich-colors":(s=u.richColors)!=null?s:J,"data-styled":!(u.jsx||u.unstyled||S),"data-mounted":X,"data-promise":!!u.promise,"data-swiped":P,"data-removed":pe,"data-visible":he,"data-y-position":Le,"data-x-position":$e,"data-index":j,"data-front":ee,"data-swiping":I,"data-dismissible":G,"data-type":ie,"data-invert":Re,"data-swipe-out":Ke,"data-swipe-direction":oe,"data-expanded":!!(H||k&&X),style:{"--index":j,"--toasts-before":j,"--z-index":V.length-j,"--offset":`${pe?O:Pe.current}px`,"--initial-height":k?"auto":`${R}px`,...be,...u.style},onDragEnd:()=>{Te(!1),q(null),Ee.current=null},onPointerDown:Z=>{tt||!G||(W.current=new Date,C(Pe.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(Te(!0),Ee.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,fe,xe,je;if(Ke||!G)return;Ee.current=null;let qe=Number(((Z=E.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xt=Number(((fe=E.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Nt=new Date().getTime()-((xe=W.current)==null?void 0:xe.getTime()),nt=L==="x"?qe:xt,yt=Math.abs(nt)/Nt;if(Math.abs(nt)>=Qi||yt>.11){C(Pe.current),(je=u.onDismiss)==null||je.call(u,u),ce(L==="x"?qe>0?"right":"left":xt>0?"down":"up"),Q(),Qe(!0),b(!1);return}Te(!1),q(null)},onPointerMove:Z=>{var fe,xe,je,qe;if(!Ee.current||!G||((fe=window.getSelection())==null?void 0:fe.toString().length)>0)return;let xt=Z.clientY-Ee.current.y,Nt=Z.clientX-Ee.current.x,nt=(xe=e.swipeDirections)!=null?xe:Ji(w);!L&&(Math.abs(Nt)>1||Math.abs(xt)>1)&&q(Math.abs(Nt)>Math.abs(xt)?"x":"y");let yt={x:0,y:0};L==="y"?(nt.includes("top")||nt.includes("bottom"))&&(nt.includes("top")&&xt<0||nt.includes("bottom")&&xt>0)&&(yt.y=xt):L==="x"&&(nt.includes("left")||nt.includes("right"))&&(nt.includes("left")&&Nt<0||nt.includes("right")&&Nt>0)&&(yt.x=Nt),(Math.abs(yt.x)>0||Math.abs(yt.y)>0)&&b(!0),(je=E.current)==null||je.style.setProperty("--swipe-amount-x",`${yt.x}px`),(qe=E.current)==null||qe.style.setProperty("--swipe-amount-y",`${yt.y}px`)}},le&&!u.jsx?F.createElement("button",{"aria-label":$,"data-disabled":tt,"data-close-button":!0,onClick:tt||!G?()=>{}:()=>{var Z;Q(),(Z=u.onDismiss)==null||Z.call(u,u)},className:at(N?.closeButton,(r=u?.classNames)==null?void 0:r.closeButton)},(i=y?.close)!=null?i:_i):null,u.jsx||c.isValidElement(u.title)?u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title:F.createElement(F.Fragment,null,ie||u.icon||u.promise?F.createElement("div",{"data-icon":"",className:at(N?.icon,(o=u?.classNames)==null?void 0:o.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||Ie():null,u.type!=="loading"?u.icon||y?.[ie]||Ei(ie):null):null,F.createElement("div",{"data-content":"",className:at(N?.content,(l=u?.classNames)==null?void 0:l.content)},F.createElement("div",{"data-title":"",className:at(N?.title,(m=u?.classNames)==null?void 0:m.title)},typeof u.title=="function"?u.title():u.title),u.description?F.createElement("div",{"data-description":"",className:at(Ae,ge,N?.description,(d=u?.classNames)==null?void 0:d.description)},typeof u.description=="function"?u.description():u.description):null),c.isValidElement(u.cancel)?u.cancel:u.cancel&&tn(u.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||ye,onClick:Z=>{var fe,xe;tn(u.cancel)&&G&&((xe=(fe=u.cancel).onClick)==null||xe.call(fe,Z),Q())},className:at(N?.cancelButton,(g=u?.classNames)==null?void 0:g.cancelButton)},u.cancel.label):null,c.isValidElement(u.action)?u.action:u.action&&tn(u.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||de,onClick:Z=>{var fe,xe;tn(u.action)&&((xe=(fe=u.action).onClick)==null||xe.call(fe,Z),!Z.defaultPrevented&&Q())},className:at(N?.actionButton,(h=u?.classNames)==null?void 0:h.actionButton)},u.action.label):null))};function ha(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function el(e,t){let n={};return[e,t].forEach((s,r)=>{let i=r===1,o=i?"--mobile-offset":"--offset",l=i?Gi:qi;function m(d){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?m(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):m(l)}),n}var tl=c.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:m,mobileOffset:d,theme:g="light",richColors:h,duration:x,style:u,visibleToasts:S=Ki,toastOptions:p,dir:v=ha(),gap:A=Yi,loadingIcon:_,icons:j,containerAriaLabel:V="Notifications",pauseWhenPageIsHidden:H}=e,[te,J]=F.useState([]),ue=F.useMemo(()=>Array.from(new Set([s].concat(te.filter(D=>D.position).map(D=>D.position)))),[te,s]),[be,ye]=F.useState([]),[de,Y]=F.useState(!1),[Ae,ne]=F.useState(!1),[w,f]=F.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=F.useRef(null),k=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=F.useRef(null),y=F.useRef(!1),$=F.useCallback(D=>{J(L=>{var q;return(q=L.find(oe=>oe.id===D.id))!=null&&q.delete||Ye.dismiss(D.id),L.filter(({id:oe})=>oe!==D.id)})},[]);return F.useEffect(()=>Ye.subscribe(D=>{if(D.dismiss){J(L=>L.map(q=>q.id===D.id?{...q,delete:!0}:q));return}setTimeout(()=>{Fr.flushSync(()=>{J(L=>{let q=L.findIndex(oe=>oe.id===D.id);return q!==-1?[...L.slice(0,q),{...L[q],...D},...L.slice(q+1)]:[D,...L]})})})}),[]),F.useEffect(()=>{if(g!=="system"){f(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?f("dark"):f("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:L})=>{f(L?"dark":"light")})}catch{D.addListener(({matches:q})=>{try{f(q?"dark":"light")}catch(oe){console.error(oe)}})}},[g]),F.useEffect(()=>{te.length<=1&&Y(!1)},[te]),F.useEffect(()=>{let D=L=>{var q,oe;r.every(ce=>L[ce]||L.code===ce)&&(Y(!0),(q=U.current)==null||q.focus()),L.code==="Escape"&&(document.activeElement===U.current||(oe=U.current)!=null&&oe.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[r]),F.useEffect(()=>{if(U.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,y.current=!1)}},[U.current]),F.createElement("section",{ref:t,"aria-label":`${V} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ue.map((D,L)=>{var q;let[oe,ce]=D.split("-");return te.length?F.createElement("ol",{key:D,dir:v==="auto"?ha():v,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":w,"data-y-position":oe,"data-lifted":de&&te.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((q=be[0])==null?void 0:q.height)||0}px`,"--width":`${Hi}px`,"--gap":`${A}px`,...u,...el(m,d)},onBlur:X=>{y.current&&!X.currentTarget.contains(X.relatedTarget)&&(y.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||y.current||(y.current=!0,N.current=X.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{Ae||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},te.filter(X=>!X.position&&L===0||X.position===D).map((X,B)=>{var pe,Ne;return F.createElement(Zi,{key:X.id,icons:j,index:B,toast:X,defaultRichColors:h,duration:(pe=p?.duration)!=null?pe:x,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Ne=p?.closeButton)!=null?Ne:o,interacting:Ae,position:D,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:$,toasts:te.filter(I=>I.position==X.position),heights:be.filter(I=>I.position==X.position),setHeights:ye,expandByDefault:i,gap:A,loadingIcon:_,expanded:de,pauseWhenPageIsHidden:H,swipeDirections:e.swipeDirections})})):null}))});const nl=({...e})=>{const{theme:t="system"}=Ti();return a.jsx(tl,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[mn]=Gn("Tooltip",[Wa]),Yn=Wa(),fs="TooltipProvider",al=700,ga="tooltip.open",[sl,hs]=mn(fs),gs=e=>{const{__scopeTooltip:t,delayDuration:n=al,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=e,o=c.useRef(!0),l=c.useRef(!1),m=c.useRef(0);return c.useEffect(()=>{const d=m.current;return()=>window.clearTimeout(d)},[]),a.jsx(sl,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:c.useCallback(()=>{window.clearTimeout(m.current),o.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:c.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:i})};gs.displayName=fs;var ps="Tooltip",[Au,fn]=mn(ps),In="TooltipTrigger",rl=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=fn(In,n),i=hs(In,n),o=Yn(n),l=c.useRef(null),m=ut(t,l,r.onTriggerChange),d=c.useRef(!1),g=c.useRef(!1),h=c.useCallback(()=>d.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(Kr,{asChild:!0,...o,children:a.jsx(Rt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:m,onPointerMove:Je(e.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),g.current=!0)}),onPointerLeave:Je(e.onPointerLeave,()=>{r.onTriggerLeave(),g.current=!1}),onPointerDown:Je(e.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Je(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:Je(e.onBlur,r.onClose),onClick:Je(e.onClick,r.onClose)})})});rl.displayName=In;var ol="TooltipPortal",[Nu,il]=mn(ol,{forceMount:void 0}),_t="TooltipContent",ws=c.forwardRef((e,t)=>{const n=il(_t,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=e,o=fn(_t,e.__scopeTooltip);return a.jsx(Vr,{present:s||o.open,children:o.disableHoverableContent?a.jsx(xs,{side:r,...i,ref:t}):a.jsx(ll,{side:r,...i,ref:t})})}),ll=c.forwardRef((e,t)=>{const n=fn(_t,e.__scopeTooltip),s=hs(_t,e.__scopeTooltip),r=c.useRef(null),i=ut(t,r),[o,l]=c.useState(null),{trigger:m,onClose:d}=n,g=r.current,{onPointerInTransitChange:h}=s,x=c.useCallback(()=>{l(null),h(!1)},[h]),u=c.useCallback((S,p)=>{const v=S.currentTarget,A={x:S.clientX,y:S.clientY},_=fl(A,v.getBoundingClientRect()),j=hl(A,_),V=gl(p.getBoundingClientRect()),H=wl([...j,...V]);l(H),h(!0)},[h]);return c.useEffect(()=>()=>x(),[x]),c.useEffect(()=>{if(m&&g){const S=v=>u(v,g),p=v=>u(v,m);return m.addEventListener("pointerleave",S),g.addEventListener("pointerleave",p),()=>{m.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",p)}}},[m,g,u,x]),c.useEffect(()=>{if(o){const S=p=>{const v=p.target,A={x:p.clientX,y:p.clientY},_=m?.contains(v)||g?.contains(v),j=!pl(A,o);_?x():j&&(x(),d())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[m,g,o,d,x]),a.jsx(xs,{...e,ref:i})}),[cl,dl]=mn(ps,{isInside:!1}),ul=Ka("TooltipContent"),xs=c.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,m=fn(_t,n),d=Yn(n),{onClose:g}=m;return c.useEffect(()=>(document.addEventListener(ga,g),()=>document.removeEventListener(ga,g)),[g]),c.useEffect(()=>{if(m.trigger){const h=x=>{x.target?.contains(m.trigger)&&g()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[m.trigger,g]),a.jsx($r,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:g,children:a.jsxs(zr,{"data-state":m.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(ul,{children:s}),a.jsx(cl,{scope:n,isInside:!0,children:a.jsx(Wr,{id:m.contentId,role:"tooltip",children:r||s})})]})})});ws.displayName=_t;var ys="TooltipArrow",ml=c.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Yn(n);return dl(ys,n).isInside?null:a.jsx(qr,{...r,...s,ref:t})});ml.displayName=ys;function fl(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function hl(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function gl(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function pl(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],m=t[o],d=l.x,g=l.y,h=m.x,x=m.y;g>s!=x>s&&n<(h-d)*(s-g)/(x-g)+d&&(r=!r)}return r}function wl(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),xl(t)}function xl(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var yl=gs,bs=ws;const bl=yl,vl=c.forwardRef(({className:e,sideOffset:t=4,...n},s)=>a.jsx(bs,{ref:s,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));vl.displayName=bs.displayName;var hn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kl={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Pl=class{#e=kl;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Dn=new Pl;function Sl(e){setTimeout(e,0)}var gn=typeof window>"u"||"Deno"in globalThis;function lt(){}function Al(e,t){return typeof e=="function"?e(t):e}function Nl(e){return typeof e=="number"&&e>=0&&e!==1/0}function jl(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bn(e,t){return typeof e=="function"?e(t):e}function Tl(e,t){return typeof e=="function"?e(t):e}function pa(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Qn(o,t.options))return!1}else if(!Yt(t.queryKey,o))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||i&&!i(t))}function wa(e,t){const{exact:n,status:s,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ht(t.options.mutationKey)!==Ht(i))return!1}else if(!Yt(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function Qn(e,t){return(t?.queryKeyHashFn||Ht)(e)}function Ht(e){return JSON.stringify(e,(t,n)=>_n(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Yt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Yt(e[n],t[n])):!1}var El=Object.prototype.hasOwnProperty;function vs(e,t){if(e===t)return e;const n=xa(e)&&xa(t);if(!n&&!(_n(e)&&_n(t)))return t;const r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let m=0;for(let d=0;d<o;d++){const g=n?d:i[d],h=e[g],x=t[g];if(h===x){l[g]=h,(n?d<r:El.call(e,g))&&m++;continue}if(h===null||x===null||typeof h!="object"||typeof x!="object"){l[g]=x;continue}const u=vs(h,x);l[g]=u,u===h&&m++}return r===o&&m===r?e:l}function xa(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _n(e){if(!ya(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ya(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ya(e){return Object.prototype.toString.call(e)==="[object Object]"}function Cl(e){return new Promise(t=>{Dn.setTimeout(t,e)})}function Ml(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?vs(e,t):t}function Rl(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Il(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Xn=Symbol();function ks(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Xn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Dl=class extends hn{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!gn&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ps=new Dl;function Bl(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}var _l=Sl;function Ll(){let e=[],t=0,n=l=>{l()},s=l=>{l()},r=_l;const i=l=>{t?e.push(l):r(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&r(()=>{s(()=>{l.forEach(m=>{n(m)})})})};return{batch:l=>{let m;t++;try{m=l()}finally{t--,t||o()}return m},batchCalls:l=>(...m)=>{i(()=>{l(...m)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var He=Ll(),Ol=class extends hn{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!gn&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},dn=new Ol;function Ul(e){return Math.min(1e3*2**e,3e4)}function Ss(e){return(e??"online")==="online"?dn.isOnline():!0}var Ln=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function As(e){let t=!1,n=0,s;const r=Bl(),i=()=>r.status!=="pending",o=p=>{if(!i()){const v=new Ln(p);x(v),e.onCancel?.(v)}},l=()=>{t=!0},m=()=>{t=!1},d=()=>Ps.isFocused()&&(e.networkMode==="always"||dn.isOnline())&&e.canRun(),g=()=>Ss(e.networkMode)&&e.canRun(),h=p=>{i()||(s?.(),r.resolve(p))},x=p=>{i()||(s?.(),r.reject(p))},u=()=>new Promise(p=>{s=v=>{(i()||d())&&p(v)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),S=()=>{if(i())return;let p;const v=n===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(A){p=Promise.reject(A)}Promise.resolve(p).then(h).catch(A=>{if(i())return;const _=e.retry??(gn?0:3),j=e.retryDelay??Ul,V=typeof j=="function"?j(n,A):j,H=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,A);if(t||!H){x(A);return}n++,e.onFail?.(n,A),Cl(V).then(()=>d()?void 0:u()).then(()=>{t?x(A):S()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(s?.(),r),cancelRetry:l,continueRetry:m,canStart:g,start:()=>(g()?S():u().then(S),r)}}var Ns=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nl(this.gcTime)&&(this.#e=Dn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gn?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Dn.clearTimeout(this.#e),this.#e=void 0)}},Fl=class extends Ns{#e;#t;#n;#s;#a;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ba(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=ba(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Ml(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(lt).catch(lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Tl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Bn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jl(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(m=>m.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,s=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},r=()=>{const l=ks(this.options,t),d=(()=>{const g={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(g),g})();return this.#i=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:r};return s(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#r({type:"fetch",meta:o.fetchOptions?.meta}),this.#a=As({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof Ln&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,m)=>{this.#r({type:"failed",failureCount:l,error:m})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#a.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Ln){if(l.silent)return this.#a.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#r({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Vl(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":const r=e.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),He.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Vl(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ss(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ba(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function va(e){return{onFetch:(t,n)=>{const s=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},m=0;const d=async()=>{let g=!1;const h=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=ks(t.options,t.fetchOptions),u=async(S,p,v)=>{if(g)return Promise.reject();if(p==null&&S.pages.length)return Promise.resolve(S);const _=(()=>{const te={client:t.client,queryKey:t.queryKey,pageParam:p,direction:v?"backward":"forward",meta:t.options.meta};return h(te),te})(),j=await x(_),{maxPages:V}=t.options,H=v?Il:Rl;return{pages:H(S.pages,j,V),pageParams:H(S.pageParams,p,V)}};if(r&&i.length){const S=r==="backward",p=S?$l:ka,v={pages:i,pageParams:o},A=p(s,v);l=await u(v,A,S)}else{const S=e??i.length;do{const p=m===0?o[0]??s.initialPageParam:ka(s,l);if(m>0&&p==null)break;l=await u(l,p),m++}while(m<S)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function ka(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function $l(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var zl=class extends Ns{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Wl(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#a({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=As({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#a({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",r=!this.#s.canStart();try{if(s)t();else{this.#a({type:"pending",variables:e,isPaused:r}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#a({type:"pending",context:o,variables:e,isPaused:r})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,e,this.state.context,this,n),await this.options.onError?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,e,this.state.context,n),i}finally{this.#a({type:"error",error:i})}}finally{this.#n.runNext(this)}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),He.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Wl(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kl=class extends hn{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const s=new zl({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=nn(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=nn(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=nn(e);if(typeof t=="string"){const s=this.#t.get(t)?.find(r=>r.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=nn(e);return typeof t=="string"?this.#t.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){He.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>wa(t,n))}findAll(e={}){return this.getAll().filter(t=>wa(e,t))}notify(e){He.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return He.batch(()=>Promise.all(e.map(t=>t.continue().catch(lt))))}};function nn(e){return e.options.scope?.id}var ql=class extends hn{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,r=t.queryHash??Qn(s,t);let i=this.get(r);return i||(i=new Fl({client:e,queryKey:s,queryHash:r,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){He.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>pa(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>pa(e,n)):t}notify(e){He.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){He.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){He.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gl=class{#e;#t;#n;#s;#a;#o;#i;#r;constructor(e={}){this.#e=e.queryCache||new ql,this.#t=e.mutationCache||new Kl,this.#n=e.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=Ps.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=dn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Bn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(s.queryHash)?.state.data,o=Al(t,i);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return He.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;He.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return He.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=He.batch(()=>this.#e.findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(lt).catch(lt)}invalidateQueries(e,t={}){return He.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=He.batch(()=>this.#e.findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(lt)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Bn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lt).catch(lt)}fetchInfiniteQuery(e){return e.behavior=va(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lt).catch(lt)}ensureInfiniteQueryData(e){return e.behavior=va(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dn.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(Ht(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(s=>{Yt(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#a.set(Ht(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(s=>{Yt(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Qn(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Xn&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Hl=c.createContext(void 0),Yl=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Hl.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qt.apply(this,arguments)}var At;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(At||(At={}));const Pa="popstate";function Ql(e){e===void 0&&(e={});function t(s,r){let{pathname:i,search:o,hash:l}=s.location;return On("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Ts(r)}return Jl(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function js(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xl(){return Math.random().toString(36).substr(2,8)}function Sa(e,t){return{usr:e.state,key:e.key,idx:t}}function On(e,t,n,s){return n===void 0&&(n=null),Qt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ot(t):t,{state:n,key:t&&t.key||s||Xl()})}function Ts(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ot(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Jl(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l=At.Pop,m=null,d=g();d==null&&(d=0,o.replaceState(Qt({},o.state,{idx:d}),""));function g(){return(o.state||{idx:null}).idx}function h(){l=At.Pop;let v=g(),A=v==null?null:v-d;d=v,m&&m({action:l,location:p.location,delta:A})}function x(v,A){l=At.Push;let _=On(p.location,v,A);d=g()+1;let j=Sa(_,d),V=p.createHref(_);try{o.pushState(j,"",V)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(V)}i&&m&&m({action:l,location:p.location,delta:1})}function u(v,A){l=At.Replace;let _=On(p.location,v,A);d=g();let j=Sa(_,d),V=p.createHref(_);o.replaceState(j,"",V),i&&m&&m({action:l,location:p.location,delta:0})}function S(v){let A=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof v=="string"?v:Ts(v);return _=_.replace(/ $/,"%20"),_e(A,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,A)}let p={get action(){return l},get location(){return e(r,o)},listen(v){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(Pa,h),m=v,()=>{r.removeEventListener(Pa,h),m=null}},createHref(v){return t(r,v)},createURL:S,encodeLocation(v){let A=S(v);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:u,go(v){return o.go(v)}};return p}var Aa;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Aa||(Aa={}));function Zl(e,t,n){return n===void 0&&(n="/"),ec(e,t,n)}function ec(e,t,n,s){let r=typeof t=="string"?Ot(t):t,i=Ms(r.pathname||"/",n);if(i==null)return null;let o=Es(e);tc(o);let l=null;for(let m=0;l==null&&m<o.length;++m){let d=fc(i);l=dc(o[m],d)}return l}function Es(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,l)=>{let m={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};m.relativePath.startsWith("/")&&(_e(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let d=Mt([s,m.relativePath]),g=n.concat(m);i.children&&i.children.length>0&&(_e(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Es(i.children,t,g,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:lc(d,i.index),routesMeta:g})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let m of Cs(i.path))r(i,o,m)}),t}function Cs(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=Cs(s.join("/")),l=[];return l.push(...o.map(m=>m===""?i:[i,m].join("/"))),r&&l.push(...o),l.map(m=>e.startsWith("/")&&m===""?"/":m)}function tc(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:cc(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const nc=/^:[\w-]+$/,ac=3,sc=2,rc=1,oc=10,ic=-2,Na=e=>e==="*";function lc(e,t){let n=e.split("/"),s=n.length;return n.some(Na)&&(s+=ic),t&&(s+=sc),n.filter(r=>!Na(r)).reduce((r,i)=>r+(nc.test(i)?ac:i===""?rc:oc),s)}function cc(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function dc(e,t,n){let{routesMeta:s}=e,r={},i="/",o=[];for(let l=0;l<s.length;++l){let m=s[l],d=l===s.length-1,g=i==="/"?t:t.slice(i.length)||"/",h=uc({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g),x=m.route;if(!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Mt([i,h.pathname]),pathnameBase:yc(Mt([i,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(i=Mt([i,h.pathnameBase]))}return o}function uc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=mc(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,g,h)=>{let{paramName:x,isOptional:u}=g;if(x==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const S=l[h];return u&&!S?d[x]=void 0:d[x]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function mc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),js(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,m)=>(s.push({paramName:l,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function fc(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return js(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function hc(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Ot(e):e;return{pathname:n?n.startsWith("/")?n:gc(n,t):t,search:bc(s),hash:vc(r)}}function gc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Sn(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wc(e,t){let n=pc(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function xc(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Ot(e):(r=Qt({},e),_e(!r.pathname||!r.pathname.includes("?"),Sn("?","pathname","search",r)),_e(!r.pathname||!r.pathname.includes("#"),Sn("#","pathname","hash",r)),_e(!r.search||!r.search.includes("#"),Sn("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;r.pathname=x.join("/")}l=h>=0?t[h]:"/"}let m=hc(r,l),d=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(d||g)&&(m.pathname+="/"),m}const Mt=e=>e.join("/").replace(/\/\/+/g,"/"),yc=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bc=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vc=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rs=["post","put","patch","delete"];new Set(Rs);const Pc=["get",...Rs];new Set(Pc);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xt.apply(this,arguments)}const Jn=c.createContext(null),Sc=c.createContext(null),pn=c.createContext(null),wn=c.createContext(null),Ut=c.createContext({outlet:null,matches:[],isDataRoute:!1}),Is=c.createContext(null);function xn(){return c.useContext(wn)!=null}function yn(){return xn()||_e(!1),c.useContext(wn).location}function Ds(e){c.useContext(pn).static||c.useLayoutEffect(e)}function Ac(){let{isDataRoute:e}=c.useContext(Ut);return e?Oc():Nc()}function Nc(){xn()||_e(!1);let e=c.useContext(Jn),{basename:t,future:n,navigator:s}=c.useContext(pn),{matches:r}=c.useContext(Ut),{pathname:i}=yn(),o=JSON.stringify(wc(r,n.v7_relativeSplatPath)),l=c.useRef(!1);return Ds(()=>{l.current=!0}),c.useCallback(function(d,g){if(g===void 0&&(g={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=xc(d,JSON.parse(o),i,g.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Mt([t,h.pathname])),(g.replace?s.replace:s.push)(h,g.state,g)},[t,s,o,i,e])}function jc(e,t){return Tc(e,t)}function Tc(e,t,n,s){xn()||_e(!1);let{navigator:r}=c.useContext(pn),{matches:i}=c.useContext(Ut),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let m=o?o.pathnameBase:"/";o&&o.route;let d=yn(),g;if(t){var h;let v=typeof t=="string"?Ot(t):t;m==="/"||(h=v.pathname)!=null&&h.startsWith(m)||_e(!1),g=v}else g=d;let x=g.pathname||"/",u=x;if(m!=="/"){let v=m.replace(/^\//,"").split("/");u="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let S=Zl(e,{pathname:u}),p=Ic(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Mt([m,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?m:Mt([m,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,s);return t&&p?c.createElement(wn.Provider,{value:{location:Xt({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:At.Pop}},p):p}function Ec(){let e=Lc(),t=kc(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:r},n):null,null)}const Cc=c.createElement(Ec,null);class Mc extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(Ut.Provider,{value:this.props.routeContext},c.createElement(Is.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rc(e){let{routeContext:t,match:n,children:s}=e,r=c.useContext(Jn);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Ut.Provider,{value:t},s)}function Ic(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let g=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);g>=0||_e(!1),o=o.slice(0,Math.min(o.length,g+1))}let m=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let g=0;g<o.length;g++){let h=o[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=g),h.route.id){let{loaderData:x,errors:u}=n,S=h.route.loader&&x[h.route.id]===void 0&&(!u||u[h.route.id]===void 0);if(h.route.lazy||S){m=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,h,x)=>{let u,S=!1,p=null,v=null;n&&(u=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Cc,m&&(d<0&&x===0?(Uc("route-fallback"),S=!0,v=null):d===x&&(S=!0,v=h.route.hydrateFallbackElement||null)));let A=t.concat(o.slice(0,x+1)),_=()=>{let j;return u?j=p:S?j=v:h.route.Component?j=c.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=g,c.createElement(Rc,{match:h,routeContext:{outlet:g,matches:A,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?c.createElement(Mc,{location:n.location,revalidation:n.revalidation,component:p,error:u,children:_(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):_()},null)}var Bs=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Bs||{}),_s=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(_s||{});function Dc(e){let t=c.useContext(Jn);return t||_e(!1),t}function Bc(e){let t=c.useContext(Sc);return t||_e(!1),t}function _c(e){let t=c.useContext(Ut);return t||_e(!1),t}function Ls(e){let t=_c(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function Lc(){var e;let t=c.useContext(Is),n=Bc(),s=Ls();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Oc(){let{router:e}=Dc(Bs.UseNavigateStable),t=Ls(_s.UseNavigateStable),n=c.useRef(!1);return Ds(()=>{n.current=!0}),c.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Xt({fromRouteId:t},i)))},[e,t])}const ja={};function Uc(e,t,n){ja[e]||(ja[e]=!0)}function Fc(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Kt(e){_e(!1)}function Vc(e){let{basename:t="/",children:n=null,location:s,navigationType:r=At.Pop,navigator:i,static:o=!1,future:l}=e;xn()&&_e(!1);let m=t.replace(/^\/*/,"/"),d=c.useMemo(()=>({basename:m,navigator:i,static:o,future:Xt({v7_relativeSplatPath:!1},l)}),[m,l,i,o]);typeof s=="string"&&(s=Ot(s));let{pathname:g="/",search:h="",hash:x="",state:u=null,key:S="default"}=s,p=c.useMemo(()=>{let v=Ms(g,m);return v==null?null:{location:{pathname:v,search:h,hash:x,state:u,key:S},navigationType:r}},[m,g,h,x,u,S,r]);return p==null?null:c.createElement(pn.Provider,{value:d},c.createElement(wn.Provider,{children:n,value:p}))}function $c(e){let{children:t,location:n}=e;return jc(Un(t),n)}new Promise(()=>{});function Un(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(s,r)=>{if(!c.isValidElement(s))return;let i=[...t,r];if(s.type===c.Fragment){n.push.apply(n,Un(s.props.children,i));return}s.type!==Kt&&_e(!1),!s.props.index||!s.props.children||_e(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Un(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zc="6";try{window.__reactRouterVersion=zc}catch{}const Wc="startTransition",Ta=Gr[Wc];function Kc(e){let{basename:t,children:n,future:s,window:r}=e,i=c.useRef();i.current==null&&(i.current=Ql({window:r,v5Compat:!0}));let o=i.current,[l,m]=c.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},g=c.useCallback(h=>{d&&Ta?Ta(()=>m(h)):m(h)},[m,d]);return c.useLayoutEffect(()=>o.listen(g),[o,g]),c.useEffect(()=>Fc(s),[s]),c.createElement(Vc,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}var Ea;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ea||(Ea={}));var Ca;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ca||(Ca={}));function Os(e){c.useEffect(()=>{const t=Array.from(document.querySelectorAll("[data-reveal]"));if(!t.length)return;const n=new IntersectionObserver(s=>{s.forEach(r=>{r.isIntersecting&&(r.target.classList.add("reveal--visible"),n.unobserve(r.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.1});return t.forEach(s=>n.observe(s)),()=>n.disconnect()},[e?.rootMargin,e?.threshold])}const Zn=Xa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=c.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...r},i)=>{const o=s?Hr:"button";return a.jsx(o,{className:ke(Zn({variant:t,size:n,className:e})),ref:i,...r})});ve.displayName="Button";const Ge=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ge.displayName="Card";const st=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));st.displayName="CardHeader";const rt=c.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));rt.displayName="CardTitle";const ot=c.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));ot.displayName="CardDescription";const Xe=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ke("p-6 pt-0",e),...t}));Xe.displayName="CardContent";const qc=c.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",e),...t}));qc.displayName="CardFooter";function Us(e,[t,n]){return Math.min(n,Math.max(t,e))}function Gc(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Fs=["PageUp","PageDown"],Vs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$s={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ft="Slider",[Fn,Hc,Yc]=Qr(Ft),[zs]=Gn(Ft,[Yc]),[Qc,bn]=zs(Ft),Ws=c.forwardRef((e,t)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:m=0,defaultValue:d=[s],value:g,onValueChange:h=()=>{},onValueCommit:x=()=>{},inverted:u=!1,form:S,...p}=e,v=c.useRef(new Set),A=c.useRef(0),j=o==="horizontal"?Xc:Jc,[V=[],H]=Yr({prop:g,defaultProp:d,onChange:de=>{[...v.current][A.current]?.focus(),h(de)}}),te=c.useRef(V);function J(de){const Y=ad(V,de);ye(de,Y)}function ue(de){ye(de,A.current)}function be(){const de=te.current[A.current];V[A.current]!==de&&x(V)}function ye(de,Y,{commit:Ae}={commit:!1}){const ne=id(i),w=ld(Math.round((de-s)/i)*i+s,ne),f=Us(w,[s,r]);H((U=[])=>{const k=td(U,f,Y);if(od(k,m*i)){A.current=k.indexOf(f);const N=String(k)!==String(U);return N&&Ae&&x(k),N?k:U}else return U})}return a.jsx(Qc,{scope:e.__scopeSlider,name:n,disabled:l,min:s,max:r,valueIndexToChangeRef:A,thumbs:v.current,values:V,orientation:o,form:S,children:a.jsx(Fn.Provider,{scope:e.__scopeSlider,children:a.jsx(Fn.Slot,{scope:e.__scopeSlider,children:a.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Je(p.onPointerDown,()=>{l||(te.current=V)}),min:s,max:r,inverted:u,onSlideStart:l?void 0:J,onSlideMove:l?void 0:ue,onSlideEnd:l?void 0:be,onHomeKeyDown:()=>!l&&ye(s,0,{commit:!0}),onEndKeyDown:()=>!l&&ye(r,V.length-1,{commit:!0}),onStepKeyDown:({event:de,direction:Y})=>{if(!l){const w=Fs.includes(de.key)||de.shiftKey&&Vs.includes(de.key)?10:1,f=A.current,U=V[f],k=i*w*Y;ye(U+k,f,{commit:!0})}}})})})})});Ws.displayName=Ft;var[Ks,qs]=zs(Ft,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xc=c.forwardRef((e,t)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:m,onStepKeyDown:d,...g}=e,[h,x]=c.useState(null),u=ut(t,j=>x(j)),S=c.useRef(void 0),p=Xr(r),v=p==="ltr",A=v&&!i||!v&&i;function _(j){const V=S.current||h.getBoundingClientRect(),H=[0,V.width],J=ea(H,A?[n,s]:[s,n]);return S.current=V,J(j-V.left)}return a.jsx(Ks,{scope:e.__scopeSlider,startEdge:A?"left":"right",endEdge:A?"right":"left",direction:A?1:-1,size:"width",children:a.jsx(Gs,{dir:p,"data-orientation":"horizontal",...g,ref:u,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const V=_(j.clientX);o?.(V)},onSlideMove:j=>{const V=_(j.clientX);l?.(V)},onSlideEnd:()=>{S.current=void 0,m?.()},onStepKeyDown:j=>{const H=$s[A?"from-left":"from-right"].includes(j.key);d?.({event:j,direction:H?-1:1})}})})}),Jc=c.forwardRef((e,t)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:m,...d}=e,g=c.useRef(null),h=ut(t,g),x=c.useRef(void 0),u=!r;function S(p){const v=x.current||g.current.getBoundingClientRect(),A=[0,v.height],j=ea(A,u?[s,n]:[n,s]);return x.current=v,j(p-v.top)}return a.jsx(Ks,{scope:e.__scopeSlider,startEdge:u?"bottom":"top",endEdge:u?"top":"bottom",size:"height",direction:u?1:-1,children:a.jsx(Gs,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=S(p.clientY);i?.(v)},onSlideMove:p=>{const v=S(p.clientY);o?.(v)},onSlideEnd:()=>{x.current=void 0,l?.()},onStepKeyDown:p=>{const A=$s[u?"from-bottom":"from-top"].includes(p.key);m?.({event:p,direction:A?-1:1})}})})}),Gs=c.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:m,...d}=e,g=bn(Ft,n);return a.jsx(Rt.span,{...d,ref:t,onKeyDown:Je(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Fs.concat(Vs).includes(h.key)&&(m(h),h.preventDefault())}),onPointerDown:Je(e.onPointerDown,h=>{const x=h.target;x.setPointerCapture(h.pointerId),h.preventDefault(),g.thumbs.has(x)?x.focus():s(h)}),onPointerMove:Je(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&r(h)}),onPointerUp:Je(e.onPointerUp,h=>{const x=h.target;x.hasPointerCapture(h.pointerId)&&(x.releasePointerCapture(h.pointerId),i(h))})})}),Hs="SliderTrack",Ys=c.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,r=bn(Hs,n);return a.jsx(Rt.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:t})});Ys.displayName=Hs;var Vn="SliderRange",Qs=c.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,r=bn(Vn,n),i=qs(Vn,n),o=c.useRef(null),l=ut(t,o),m=r.values.length,d=r.values.map(x=>Zs(x,r.min,r.max)),g=m>1?Math.min(...d):0,h=100-Math.max(...d);return a.jsx(Rt.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:l,style:{...e.style,[i.startEdge]:g+"%",[i.endEdge]:h+"%"}})});Qs.displayName=Vn;var $n="SliderThumb",Xs=c.forwardRef((e,t)=>{const n=Hc(e.__scopeSlider),[s,r]=c.useState(null),i=ut(t,l=>r(l)),o=c.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return a.jsx(Zc,{...e,ref:i,index:o})}),Zc=c.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:r,...i}=e,o=bn($n,n),l=qs($n,n),[m,d]=c.useState(null),g=ut(t,_=>d(_)),h=m?o.form||!!m.closest("form"):!0,x=Jr(m),u=o.values[s],S=u===void 0?0:Zs(u,o.min,o.max),p=nd(s,o.values.length),v=x?.[l.size],A=v?sd(v,S,l.direction):0;return c.useEffect(()=>{if(m)return o.thumbs.add(m),()=>{o.thumbs.delete(m)}},[m,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${S}% + ${A}px)`},children:[a.jsx(Fn.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(Rt.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":u,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:g,style:u===void 0?{display:"none"}:e.style,onFocus:Je(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&a.jsx(Js,{name:r??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:u},s)]})});Xs.displayName=$n;var ed="RadioBubbleInput",Js=c.forwardRef(({__scopeSlider:e,value:t,...n},s)=>{const r=c.useRef(null),i=ut(r,s),o=Gc(t);return c.useEffect(()=>{const l=r.current;if(!l)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(o!==t&&g){const h=new Event("input",{bubbles:!0});g.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx(Rt.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});Js.displayName=ed;function td(e=[],t,n){const s=[...e];return s[n]=t,s.sort((r,i)=>r-i)}function Zs(e,t,n){const i=100/(n-t)*(e-t);return Us(i,[0,100])}function nd(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function ad(e,t){if(e.length===1)return 0;const n=e.map(r=>Math.abs(r-t)),s=Math.min(...n);return n.indexOf(s)}function sd(e,t,n){const s=e/2,i=ea([0,50],[0,s]);return(s-i(t)*n)*n}function rd(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function od(e,t){if(t>0){const n=rd(e);return Math.min(...n)>=t}return!0}function ea(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function id(e){return(String(e).split(".")[1]||"").length}function ld(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var er=Ws,cd=Ys,dd=Qs,ud=Xs;const tr=c.forwardRef(({className:e,...t},n)=>a.jsxs(er,{ref:n,className:ke("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(cd,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(dd,{className:"absolute h-full bg-primary"})}),a.jsx(ud,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));tr.displayName=er.displayName;var nr="AlertDialog",[md]=Gn(nr,[qa]),pt=qa(),ar=e=>{const{__scopeAlertDialog:t,...n}=e,s=pt(t);return a.jsx(ro,{...s,...n,modal:!0})};ar.displayName=nr;var fd="AlertDialogTrigger",hd=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=pt(n);return a.jsx(oo,{...r,...s,ref:t})});hd.displayName=fd;var gd="AlertDialogPortal",sr=e=>{const{__scopeAlertDialog:t,...n}=e,s=pt(t);return a.jsx(eo,{...s,...n})};sr.displayName=gd;var pd="AlertDialogOverlay",rr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=pt(n);return a.jsx(Zr,{...r,...s,ref:t})});rr.displayName=pd;var Dt="AlertDialogContent",[wd,xd]=md(Dt),yd=Ka("AlertDialogContent"),or=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...r}=e,i=pt(n),o=c.useRef(null),l=ut(t,o),m=c.useRef(null);return a.jsx(to,{contentName:Dt,titleName:ir,docsSlug:"alert-dialog",children:a.jsx(wd,{scope:n,cancelRef:m,children:a.jsxs(no,{role:"alertdialog",...i,...r,ref:l,onOpenAutoFocus:Je(r.onOpenAutoFocus,d=>{d.preventDefault(),m.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(yd,{children:s}),a.jsx(vd,{contentRef:o})]})})})});or.displayName=Dt;var ir="AlertDialogTitle",lr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=pt(n);return a.jsx(ao,{...r,...s,ref:t})});lr.displayName=ir;var cr="AlertDialogDescription",dr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=pt(n);return a.jsx(so,{...r,...s,ref:t})});dr.displayName=cr;var bd="AlertDialogAction",ur=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=pt(n);return a.jsx(Ga,{...r,...s,ref:t})});ur.displayName=bd;var mr="AlertDialogCancel",fr=c.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:r}=xd(mr,n),i=pt(n),o=ut(t,r);return a.jsx(Ga,{...i,...s,ref:o})});fr.displayName=mr;var vd=({contentRef:e})=>{const t=`\`${Dt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Dt}\` by passing a \`${cr}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Dt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kd=ar,Pd=sr,hr=rr,gr=or,pr=ur,wr=fr,xr=lr,yr=dr;const Sd=kd,Ad=Pd,br=c.forwardRef(({className:e,...t},n)=>a.jsx(hr,{className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));br.displayName=hr.displayName;const vr=c.forwardRef(({className:e,...t},n)=>a.jsxs(Ad,{children:[a.jsx(br,{}),a.jsx(gr,{ref:n,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vr.displayName=gr.displayName;const kr=({className:e,...t})=>a.jsx("div",{className:ke("flex flex-col space-y-2 text-center sm:text-left",e),...t});kr.displayName="AlertDialogHeader";const Pr=({className:e,...t})=>a.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pr.displayName="AlertDialogFooter";const Sr=c.forwardRef(({className:e,...t},n)=>a.jsx(xr,{ref:n,className:ke("text-lg font-semibold",e),...t}));Sr.displayName=xr.displayName;const Ar=c.forwardRef(({className:e,...t},n)=>a.jsx(yr,{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));Ar.displayName=yr.displayName;const Nr=c.forwardRef(({className:e,...t},n)=>a.jsx(pr,{ref:n,className:ke(Zn(),e),...t}));Nr.displayName=pr.displayName;const jr=c.forwardRef(({className:e,...t},n)=>a.jsx(wr,{ref:n,className:ke(Zn({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jr.displayName=wr.displayName;function Ma({words:e=["NPC"],loop:t=!0,typingSpeed:n=180,deletingSpeed:s=90,pause:r=1600,className:i=""}){const[o,l]=c.useState(0),[m,d]=c.useState(0),[g,h]=c.useState(!1),[x,u]=c.useState(!0);c.useEffect(()=>{const p=setInterval(()=>u(v=>!v),500);return()=>clearInterval(p)},[]),c.useEffect(()=>{if(!e.length)return;if(o>=e.length)if(t)l(0);else return;const p=e[o];if(!g&&m===p.length){const A=setTimeout(()=>h(!0),r);return()=>clearTimeout(A)}if(g&&m===0){h(!1),l(A=>(A+1)%e.length);return}const v=setTimeout(()=>{d(A=>A+(g?-1:1))},g?s:n);return()=>clearTimeout(v)},[m,o,g,e,n,s,r,t]);const S=e[o]?.slice(0,m)??"";return a.jsxs("span",{className:i,"aria-hidden":!0,children:[S,a.jsx("span",{className:"inline-block w-[8px] ml-1 align-middle",style:{opacity:x?1:0},children:"|"})]})}const Nd=({className:e="",width:t=28,height:n=28})=>a.jsxs("svg",{width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[a.jsx("rect",{x:"1",y:"5",width:"22",height:"14",rx:"2.5",stroke:"white",strokeOpacity:"0.95",strokeWidth:"1.2",fill:"none"}),a.jsx("rect",{x:"3",y:"7",width:"6",height:"6",rx:"1",fill:"rgba(255,255,255,0.06)"}),a.jsx("circle",{cx:"19",cy:"12",r:"1.6",fill:"white"}),a.jsx("path",{d:"M3 13h14",stroke:"rgba(255,255,255,0.08)",strokeWidth:"0.8"})]}),jd="modulepreload",Td=function(e){return"/"+e},Ra={},De=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let m=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");r=m(n.map(d=>{if(d=Td(d),d in Ra)return;Ra[d]=!0;const g=d.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":jd,g||(x.as="script"),x.crossOrigin="",x.href=d,l&&x.setAttribute("nonce",l),document.head.appendChild(x),g)return new Promise((u,S)=>{x.addEventListener("load",u),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tr={exports:{}},Ce=Tr.exports={},ct,dt;function zn(){throw new Error("setTimeout has not been defined")}function Wn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ct=setTimeout:ct=zn}catch{ct=zn}try{typeof clearTimeout=="function"?dt=clearTimeout:dt=Wn}catch{dt=Wn}})();function Er(e){if(ct===setTimeout)return setTimeout(e,0);if((ct===zn||!ct)&&setTimeout)return ct=setTimeout,setTimeout(e,0);try{return ct(e,0)}catch{try{return ct.call(null,e,0)}catch{return ct.call(this,e,0)}}}function Cd(e){if(dt===clearTimeout)return clearTimeout(e);if((dt===Wn||!dt)&&clearTimeout)return dt=clearTimeout,clearTimeout(e);try{return dt(e)}catch{try{return dt.call(null,e)}catch{return dt.call(this,e)}}}var gt=[],Bt=!1,Ct,ln=-1;function Md(){!Bt||!Ct||(Bt=!1,Ct.length?gt=Ct.concat(gt):ln=-1,gt.length&&Cr())}function Cr(){if(!Bt){var e=Er(Md);Bt=!0;for(var t=gt.length;t;){for(Ct=gt,gt=[];++ln<t;)Ct&&Ct[ln].run();ln=-1,t=gt.length}Ct=null,Bt=!1,Cd(e)}}Ce.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];gt.push(new Mr(e,t)),gt.length===1&&!Bt&&Er(Cr)};function Mr(e,t){this.fun=e,this.array=t}Mr.prototype.run=function(){this.fun.apply(null,this.array)};Ce.title="browser";Ce.browser=!0;Ce.env={};Ce.argv=[];Ce.version="";Ce.versions={};function wt(){}Ce.on=wt;Ce.addListener=wt;Ce.once=wt;Ce.off=wt;Ce.removeListener=wt;Ce.removeAllListeners=wt;Ce.emit=wt;Ce.prependListener=wt;Ce.prependOnceListener=wt;Ce.listeners=function(e){return[]};Ce.binding=function(e){throw new Error("process.binding is not supported")};Ce.cwd=function(){return"/"};Ce.chdir=function(e){throw new Error("process.chdir is not supported")};Ce.umask=function(){return 0};var Rd=Tr.exports;const Id=Ed(Rd),Ia={BASE_URL:"/",DEV:!1,MODE:"production",NEXT_PUBLIC_ADMIN_WALLET:"FWqD9UHbeKKbCeAKNTFJRYkbr8VxhqabUd3nH3uJebMJ",NEXT_PUBLIC_NETWORK:"devnet",NEXT_PUBLIC_PROGRAM_ID:"CG7e3BfRFQn1AVUdXFRUsQBiKHtSpCiH7afhpJaoE4PT",NEXT_PUBLIC_REWARD_MINT:"D2aimpDAVXNMyGpQoEQ9SXSBn85mrExhJD7DwN9aVJuA",NEXT_PUBLIC_SOLANA_RPC_URL:"https://api.devnet.solana.com",NEXT_PUBLIC_STAKING_MINT:"2VkcySsgoVMitU7wo81qqGD1QBPX1Bi3ziPVvQXwyMGY",NEXT_PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrdHNxb3R5enFjamZ3Z2NicGppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNDM2MTksImV4cCI6MjA3NDYxOTYxOX0.78sojC6_hqNolZOt6cDD7dClA_KwFwn00CWTXH2PZ9Y",NEXT_PUBLIC_SUPABASE_SERVICE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrdHNxb3R5enFjamZ3Z2NicGppIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTA0MzYxOSwiZXhwIjoyMDc0NjE5NjE5fQ.RZZVxdkH7B74HtZh724so6G5s0MAf8Tvm8pCMF87ByI",NEXT_PUBLIC_SUPABASE_URL:"https://tktsqotyzqcjfwgcbpji.supabase.co",PROD:!0,SSR:!1};var Dd={};const Bd=typeof Id<"u"?Dd??{}:{},_d=typeof import.meta<"u"&&Ia?Ia:{},Ve=(e,t="")=>{const n=Bd[e]??_d[e];return n!==void 0?n:t},Be={SOLANA_RPC_URL:Ve("NEXT_PUBLIC_SOLANA_RPC_URL","https://api.devnet.solana.com"),PROGRAM_ID:Ve("NEXT_PUBLIC_PROGRAM_ID","CG7e3BfRFQn1AVUdXFRUsQBiKHtSpCiH7afhpJaoE4PT"),ADMIN_WALLET:Ve("NEXT_PUBLIC_ADMIN_WALLET","FWqD9UHbEKKbCeAKNTFJRYkbr8VxhqabUd3nH3uJebMJ"),MEMO_PROGRAM_ID:Ve("NEXT_PUBLIC_MEMO_PROGRAM_ID","MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),NETWORK:Ve("NEXT_PUBLIC_NETWORK",""),STAKING_MINT:Ve("NEXT_PUBLIC_STAKING_MINT",""),REWARD_MINT:Ve("NEXT_PUBLIC_REWARD_MINT",""),APP_NAME:Ve("NEXT_PUBLIC_APP_NAME","NPC Stake"),APP_DESCRIPTION:Ve("NEXT_PUBLIC_APP_DESCRIPTION","Professional Solana staking dashboard for NPC token"),SUPABASE_URL:Ve("NEXT_PUBLIC_SUPABASE_URL",""),SUPABASE_ANON_KEY:Ve("NEXT_PUBLIC_SUPABASE_ANON_KEY",""),SUPABASE_SERVICE_KEY:Ve("SUPABASE_SERVICE_KEY",Ve("NEXT_PUBLIC_SUPABASE_SERVICE_KEY",""))};console.log("[ENV] Environment variables loaded:",{PROGRAM_ID:Be.PROGRAM_ID,ADMIN_WALLET:Be.ADMIN_WALLET,STAKING_MINT:Be.STAKING_MINT,REWARD_MINT:Be.REWARD_MINT,RPC_URL:Be.SOLANA_RPC_URL,fromEnv:{PROGRAM_ID:Ve("NEXT_PUBLIC_PROGRAM_ID"),ADMIN_WALLET:Ve("NEXT_PUBLIC_ADMIN_WALLET"),STAKING_MINT:Ve("NEXT_PUBLIC_STAKING_MINT"),REWARD_MINT:Ve("NEXT_PUBLIC_REWARD_MINT")}});const ta={ADMIN_WALLET:Be.ADMIN_WALLET,RPC_URL:Be.SOLANA_RPC_URL,MEMO_PROGRAM_ID:Be.MEMO_PROGRAM_ID},T=e=>{if(e instanceof we)return e;if(!e)throw new Error("PublicKey is null or undefined. Please ensure wallet is connected.");if(typeof e=="string"&&(e.trim()===""||e.includes("your_")||e.includes("_here")))throw new Error(`Invalid or placeholder PublicKey: ${e}. Please set proper environment variables.`);try{return new we(e)}catch{throw new Error(`Invalid PublicKey format: ${e}. Expected a valid base58 string.`)}};function Kn(e,t){const n=T(e),s=T(t);return we.findProgramAddressSync([Ue.from("pool"),s.toBuffer()],n)[0]}function cn(e,t){const n=T(e),s=T(t);return we.findProgramAddressSync([Ue.from("pool-signer"),s.toBuffer()],n)[0]}function jt(e,t,n){const s=T(e),r=T(t),i=T(n);return we.findProgramAddressSync([Ue.from("user"),r.toBuffer(),i.toBuffer()],s)[0]}function Ld(e){const t=s=>typeof s=="string"?(s==="publicKey"&&console.log("Keeping publicKey as primitive string"),s):s&&typeof s=="object"?"option"in s?{option:t(s.option)}:"vec"in s?{vec:t(s.vec)}:"array"in s?{array:[t(s.array[0]),s.array[1]]}:"defined"in s?{defined:s.defined}:"fields"in s?{...s,fields:s.fields.map(r=>({...r,type:t(r.type)}))}:"variants"in s?{...s,variants:s.variants.map(r=>"fields"in r?{...r,fields:r.fields.map(i=>t(i))}:r)}:Object.fromEntries(Object.entries(s).map(([r,i])=>[r,t(i)])):s,n=JSON.parse(JSON.stringify(e));return console.log("Original IDL sample:",{accounts:n.accounts?.[0]?.type?.fields?.slice(0,2),types:n.types?.[0]?.type?.fields?.slice(0,2)}),Array.isArray(n.accounts)&&n.accounts.forEach(s=>s.type=t(s.type)),Array.isArray(n.types)&&n.types.forEach(s=>s.type=t(s.type)),Array.isArray(n.instructions)&&n.instructions.forEach(s=>{s.args=s.args?.map(r=>({...r,type:t(r.type)}))??[]}),console.log("Normalized IDL sample:",{accounts:n.accounts?.[0]?.type?.fields?.slice(0,2),types:n.types?.[0]?.type?.fields?.slice(0,2)}),n}const Od="0.1.0",Ud="sol_stake",Fd=[{name:"initialize",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"stakingMint",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"configureRewards",docs:["One-shot: set reward mint + initial rate; program creates reward_vault ATA."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ratePerSec",type:"u64"}]},{name:"setRewardRate",docs:["Admin can adjust reward rate any time after configuration."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"newRate",type:"u64"}]},{name:"setPaused",docs:["Pause blocks new stakes, but allows claim / unstake."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"paused",type:"bool"}]},{name:"setAdmin",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"newAdmin",type:"publicKey"}]},{name:"fundRewards",docs:["Fund reward vault from admin ATA."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"adminRewardAta",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawRewards",docs:["Withdraw reward tokens back to admin; only when paused."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"adminRewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"ensureVaults",docs:["Safety/ops: recreate any missing ATAs (idempotent)."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingMint",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1,isOptional:!0},{name:"rewardVault",isMut:!0,isSigner:!1,isOptional:!0},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initUser",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stake",docs:["Stake (blocked when paused). No auto-claim."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"unstake",docs:["Unstake principal (allowed while paused)."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"emergencyUnstake",docs:["Emergency exit: principal only, no rewards."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"claim",docs:["Claim rewards (allowed while paused). Pays vault funds, carries unpaid remainder."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"userRewardAta",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"closeUser",docs:["Close user record (no stake, no pending, no unpaid)."],accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!1}],args:[]},{name:"closePool",docs:["Close pool once paused, all stakes withdrawn, vaults emptied."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1,isOptional:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],Vd=[{name:"Pool",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"stakingMint",type:"publicKey"},{name:"stakingVault",type:"publicKey"},{name:"rewardConfigured",type:"bool"},{name:"rewardMint",type:"publicKey"},{name:"rewardVault",type:"publicKey"},{name:"rewardRatePerSec",type:"u64"},{name:"rateCap",type:"u64"},{name:"totalStaked",type:"u64"},{name:"accScaled",type:"u128"},{name:"lastUpdateTs",type:"i64"},{name:"paused",type:"bool"},{name:"locked",type:"bool"},{name:"bump",type:"u8"},{name:"signerBump",type:"u8"},{name:"reserved",type:{array:["u8",44]}}]}},{name:"User",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"staked",type:"u64"},{name:"debt",type:"u128"},{name:"unpaidRewards",type:"u128"},{name:"bump",type:"u8"},{name:"reserved",type:{array:["u8",23]}}]}}],$d=[{name:"PoolInitialized",fields:[{name:"pool",type:"publicKey",index:!1},{name:"admin",type:"publicKey",index:!1},{name:"stakingMint",type:"publicKey",index:!1}]},{name:"RewardsConfigured",fields:[{name:"pool",type:"publicKey",index:!1},{name:"rewardMint",type:"publicKey",index:!1},{name:"ratePerSec",type:"u64",index:!1}]},{name:"RewardRateUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"newRate",type:"u64",index:!1}]},{name:"PausedUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"paused",type:"bool",index:!1}]},{name:"AdminUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"newAdmin",type:"publicKey",index:!1}]},{name:"RewardsFunded",fields:[{name:"pool",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"RewardsWithdrawn",fields:[{name:"pool",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Staked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Unstaked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"EmergencyUnstaked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"RewardsClaimed",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VaultsEnsured",fields:[{name:"pool",type:"publicKey",index:!1}]}],zd=[{code:6e3,name:"Paused",msg:"Paused"},{code:6001,name:"NotPaused",msg:"Not paused"},{code:6002,name:"AlreadyConfigured",msg:"Already configured"},{code:6003,name:"NotConfigured",msg:"Rewards not configured"},{code:6004,name:"ZeroAmount",msg:"Amount must be > 0"},{code:6005,name:"InsufficientStake",msg:"Insufficient stake"},{code:6006,name:"Overflow",msg:"Overflow"},{code:6007,name:"Underflow",msg:"Underflow"},{code:6008,name:"VaultNotEmpty",msg:"Vault must be empty to close"},{code:6009,name:"NonZeroStake",msg:"Pool still has stake"},{code:6010,name:"RateTooHigh",msg:"Emission rate too high"},{code:6011,name:"Reentrancy",msg:"Re-entrancy detected"}],Wd={address:"CG7e3BfRFQn1AVUdXFRUsQBiKHtSpCiH7afhpJaoE4PT"},Kd={version:Od,name:Ud,instructions:Fd,accounts:Vd,events:$d,errors:zd,metadata:Wd},We=T(Be.PROGRAM_ID);async function qd(e,t){try{console.log("🔍 Fetching on-chain IDL for debugging...");const n=await zt.fetchIdl(We,e);if(n){console.log("✅ On-chain IDL fetched successfully"),console.log("On-chain IDL structure:",{version:n?.version,name:n?.name,hasInstructions:!!n?.instructions,hasAccounts:!!n?.accounts,hasTypes:!!n?.types});const s=n.accounts?.find(r=>r.name.toLowerCase()==="pool");return s&&(console.log("🔍 Pool account structure from on-chain IDL:"),console.log("- Fields count:",s.type.fields?.length||0),console.log("- Fields:",s.type.fields?.map(r=>({name:r.name,type:r.type})))),n}else return console.log("❌ No on-chain IDL found"),null}catch(n){return console.error("❌ Failed to fetch on-chain IDL:",n),null}}async function ze(e){let t;try{console.log("🔍 Fetching on-chain IDL..."),console.log("Program ID:",We.toBase58()),console.log("Provider connection:",e.connection.rpcEndpoint);const n=await zt.fetchIdl(We,e);if(n){console.log("✅ On-chain IDL fetched successfully"),t=n,t.address=We.toBase58(),console.log("On-chain IDL structure:",{version:t?.version,name:t?.name,address:t?.address,hasInstructions:!!t?.instructions,hasAccounts:!!t?.accounts,hasTypes:!!t?.types});const s=t.accounts?.find(r=>r.name.toLowerCase()==="pool");s?(console.log("✅ Pool account found in on-chain IDL"),console.log("Pool account fields:",s.type.fields?.length||0)):console.warn("⚠️ Pool account not found in on-chain IDL")}else throw new Error("No on-chain IDL found")}catch(n){console.log("❌ Failed to fetch on-chain IDL:",n instanceof Error?n.message:String(n)),console.log("🔄 Trying alternative on-chain IDL fetch...");try{const s=await zt.fetchIdl(We,e);if(s)console.log("✅ Alternative on-chain IDL fetch successful"),t=s,t.address=We.toBase58();else throw new Error("Alternative fetch also failed")}catch(s){console.log("❌ Alternative on-chain IDL fetch also failed:",s),console.log("🔄 Falling back to local IDL..."),t=Kd,console.log("✅ Local IDL loaded as fallback"),console.log("Local IDL structure:",{version:t?.version,name:t?.name,address:t?.address,hasInstructions:!!t?.instructions,hasAccounts:!!t?.accounts,hasTypes:!!t?.types}),t.address=We.toBase58()}}try{console.log("Creating Program instance...");const n=new zt(t,We,e);return console.log("✅ Program created successfully"),n}catch(n){console.error("❌ Failed to create Program:",n),console.error("Error details:",n instanceof Error?n.message:String(n)),console.log("Trying with normalized IDL as final fallback...");try{const s=Ld(t),r=new zt(s,We,e);return console.log("✅ Program created with normalized IDL"),r}catch(s){throw console.error("❌ All IDL approaches failed:",s),new Error(`Failed to create Program: ${n instanceof Error?n.message:String(n)}`)}}}const Gd=Be.SOLANA_RPC_URL;let An=!1;async function Hd(e,t){if(!An){An=!0;try{const n=new Ha(Gd,"confirmed"),s={publicKey:T(t.publicKey),signTransaction:t.signTransaction,signAllTransactions:t.signAllTransactions},r=new Fe(n,s,{commitment:"confirmed"}),i=await ze(r),o=T(e),l=Kn(i.programId,o),m=cn(i.programId,l),d=await ft(o,m,!0);if(await n.getAccountInfo(l,{commitment:"processed"}))return console.warn("Pool already exists; skipping initialize."),{pool:l.toBase58(),signer:m.toBase58(),stakingVault:d.toBase58()};const{blockhash:h,lastValidBlockHeight:x}=await n.getLatestBlockhash("confirmed");let u;try{u=await i.methods.initialize().accounts({admin:r.wallet.publicKey,stakingMint:o,pool:l,poolSigner:m,stakingVault:d,systemProgram:Wt.programId,tokenProgram:ht,rent:Cn,associatedTokenProgram:Et}).rpc({commitment:"confirmed"}),await n.confirmTransaction({signature:u,blockhash:h,lastValidBlockHeight:x},"confirmed")}catch(p){if(String(p?.message??p).includes("already been processed")){u&&await n.confirmTransaction({signature:u,blockhash:h,lastValidBlockHeight:x},"confirmed");for(let _=0;_<10&&!await n.getAccountInfo(l,{commitment:"confirmed"});_++)await new Promise(V=>setTimeout(V,300));if(!await n.getAccountInfo(l,{commitment:"confirmed"}))throw p}else throw p}const S=await i.account.pool.fetch(l);return{pool:l.toBase58(),signer:m.toBase58(),stakingVault:d.toBase58(),admin:S.admin.toBase58(),stakingMint:S.stakingMint.toBase64?S.stakingMint.toBase58():S.stakingMint.toBase58?.()??String(S.stakingMint),totalStaked:S.totalStaked?.toString?.()??String(S.totalStaked),ratePerSec:S.rewardRatePerSec?.toString?.()??String(S.rewardRatePerSec)}}finally{An=!1}}}const an=new we(ta.MEMO_PROGRAM_ID),sn=(e,t)=>{const n=String(e);if(!n.includes("."))return new it(n).mul(new it(10).pow(new it(t)));const[s,r]=n.split("."),i=(r+"0".repeat(t)).slice(0,t),o=s?new it(s):new it(0),l=i?new it(i):new it(0);return o.mul(new it(10).pow(new it(t))).add(l)},Da=ta.RPC_URL,Nn=new we(ta.ADMIN_WALLET),qt=e=>{try{return e?.toBase58?.()??e?.toString?.()??String(e??"unknown")}catch{return"unknown"}},Ba=(e,t={})=>{try{console.log(`[Staking] ${e}`,{programId:qt(We),...t})}catch(n){console.log("[Staking] Failed to log program request",n)}},Rr=c.createContext(void 0);function Yd({children:e}){const[t]=c.useState(new Ha(Da,"confirmed")),[n,s]=c.useState(null),[r,i]=c.useState(!1),[o,l]=c.useState(null),[m,d]=c.useState(null),[g,h]=c.useState(!1),[x,u]=c.useState(null),S=Be.STAKING_MINT&&Be.STAKING_MINT!=="11111111111111111111111111111111"?Be.STAKING_MINT:null,[p,v]=c.useState(S),[A,_]=c.useState(6),[j,V]=c.useState(6),[H,te]=c.useState(0);c.useEffect(()=>{console.log("[Staking] Config snapshot",{programId:qt(We),rpcUrl:Da,envStakingMint:Be.STAKING_MINT,adminWallet:qt(Nn)})},[]),c.useEffect(()=>{const P=Nn.toBase58();i(!!n&&n===P)},[n]),c.useEffect(()=>{n&&!o&&ue()},[n,o]),c.useEffect(()=>{if((async()=>{if(typeof window>"u"||!window.solana?.isPhantom){s(null);return}try{if(window.solana.isConnected){const b=await window.solana.connect({onlyIfTrusted:!0});s(b?.publicKey?.toString()??null)}else s(null)}catch{s(null)}})(),typeof window<"u"&&window.solana?.isPhantom){const b=C=>s(C.toString()),O=()=>s(null);return"on"in window.solana&&(window.solana.on("connect",b),window.solana.on("disconnect",O)),()=>{try{window.solana&&"off"in window.solana&&(window.solana.off("connect",b),window.solana.off("disconnect",O))}catch{}}}},[]),c.useEffect(()=>{const P=Nn.toBase58();i(!!n&&n===P)},[n]),c.useEffect(()=>{n&&!o&&ue()},[n,o]);const J=async()=>{if(n){h(!0),u(null);try{const P={publicKey:T(n),signTransaction:async C=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(C);throw new Error("Wallet not connected")},signAllTransactions:async C=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(C);throw new Error("Wallet not connected")}};Ba("refreshData -> loadProgram",{wallet:n});const b=new Fe(t,P,{commitment:"confirmed"}),O=await ze(b);if(console.log("[Staking] refreshData -> program loaded",{programId:qt(O?.programId)}),!O.idl.accounts?.some(C=>C.name.toLowerCase()==="pool"))throw new Error("Loaded IDL missing 'pool' account in IDL");if(o?.poolAddress){const C=T(o.poolAddress);if(C.equals(T(o.stakingMint)))throw new Error("Detected stakingMint used as pool. Pool must be the Pool PDA.");const R=await O.account.pool.fetch(C);console.log("Raw pool data from blockchain:",{stakingMint:R.stakingMint?.toBase58?.()??"undefined",rewardRatePerSec:R.rewardRatePerSec?.toString?.()??"undefined",rewardRatePerSecNumber:R.rewardRatePerSec?.toNumber?.()??0,rewardMint:R.rewardMint?.toBase58?.()??"undefined",totalStaked:R.totalStaked?.toNumber?.()??0,admin:R.admin?.toBase58?.()??"undefined"}),l({poolAddress:C.toBase58(),admin:R.admin?.toBase58()??"Unknown",stakingMint:R.stakingMint?.toBase58()??"Unknown",stakingVault:R.stakingVault?.toBase58()??"Unknown",rewardConfigured:R.rewardConfigured??!1,rewardMint:R.rewardMint?.toBase58()??"Unknown",rewardVault:R.rewardVault?.toBase58()??"Unknown",rewardRatePerSec:R.rewardRatePerSec?.toNumber?.()??0,rateCap:R.rateCap?.toNumber?.()??0,totalStaked:R.totalStaked?.toNumber?.()??0,accScaled:R.accScaled?.toString?.()??"0",lastUpdateTs:R.lastUpdateTs?.toNumber?.()??0,paused:R.paused??!1,locked:R.locked??!1,bump:R.bump??0,signerBump:R.signerBump??0});const z=jt(O.programId,C,T(n));if(await t.getAccountInfo(z)){const W=await O.account.user.fetch(z);console.log("🔍 User account data:",{owner:W.owner?.toBase58(),staked:W.staked?.toNumber(),debt:W.debt?.toString(),unpaidRewards:W.unpaidRewards?.toString(),bump:W.bump}),d({owner:W.owner?.toBase58()??"Unknown",staked:W.staked?.toNumber?.()??0,debt:W.debt?.toString?.()??"0",unpaidRewards:W.unpaidRewards?.toString?.()??"0",bump:W.bump??0})}else console.log("❌ User account not found - user needs to initialize"),d(null)}else l(null),d(null)}catch(P){console.error("refreshData error:",P),u(P?.message??"Failed to refresh"),o||(l(null),d(null))}finally{h(!1)}}},ue=async()=>{if(n)try{if(console.log("🔍 Setting up staking context..."),p)try{console.log(`🔍 Trying to fetch pool for current staking mint: ${p}`),await be(p),console.log("✅ Pool found for current staking mint!");return}catch(P){console.log("❌ No pool found for current staking mint:",P instanceof Error?P.message:String(P)),console.log("💡 This is normal if the pool hasn't been created yet")}if(Be.STAKING_MINT&&Be.STAKING_MINT!=="11111111111111111111111111111111"){console.log(`🔧 Setting staking mint from environment: ${Be.STAKING_MINT}`),v(Be.STAKING_MINT);try{await be(Be.STAKING_MINT),console.log("✅ Pool found for environment staking mint!");return}catch{console.log("ℹ️ No pool found for environment staking mint (normal for new deployments)")}}else console.log("ℹ️ No staking mint configured - ready for admin to set up"),console.log("💡 Use the admin interface to set the staking mint and initialize a pool")}catch(P){console.log("❌ Auto-detection failed:",P),console.log("💡 This is normal for new deployments - use the admin interface to set up")}},be=async P=>{if(!n)throw new Error("Wallet not connected");h(!0),u(null);try{console.log("[Staking] fetchPoolByMint invoked",{stakingMint:P,wallet:n});const b={publicKey:T(n),signTransaction:async se=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(se);throw new Error("Wallet not connected")},signAllTransactions:async se=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(se);throw new Error("Wallet not connected")}};Ba("fetchPoolByMint -> loadProgram");const O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O);console.log("[Staking] fetchPoolByMint -> program loaded",{programId:qt(C?.programId)});const R=new we(P),z=Kn(C.programId,R);console.log("Debug PDA derivation:",{programId:C.programId.toBase58(),stakingMint:R.toBase58(),poolPDA:z.toBase58()});const M=await t.getAccountInfo(z);if(!M)throw new Error("Pool account does not exist");if(console.log("Pool account info:",{owner:M.owner.toBase58(),executable:M.executable,lamports:M.lamports,dataLength:M.data?.length,isProgramAccount:M.owner.equals(C.programId)}),!M.owner.equals(C.programId))throw new Error(`Pool account is not owned by our program. Owner: ${M.owner.toBase58()}, Expected: ${C.programId.toBase58()}`);if(!M.data||M.data.length===0)throw new Error("Pool account has no data");console.log("🔍 Checking account discriminator...");const W=aa.accountDiscriminator("Pool"),E=aa.accountDiscriminator("User"),ee=M.data.slice(0,8),he=Ue.compare(ee,W)===0,ie=Ue.compare(ee,E)===0;if(console.log("Discriminator check:",{isPool:he,isUser:ie,gotDiscriminator:Array.from(ee),expectedPoolDisc:Array.from(W),expectedUserDisc:Array.from(E)}),ie)throw new Error("Account at pool PDA is a User account, not a Pool account. Check your PDA derivation seeds.");if(!he)throw new Error("Account at pool PDA is not a Pool account (discriminator mismatch). This might be a different account type or corrupted data.");console.log("✅ Account discriminator matches Pool - proceeding with decode");let G;try{G=await C.account.pool.fetch(z),console.log("Pool data fetched successfully:",G)}catch(se){throw console.error("Failed to decode pool account:",se),console.log("Account data length:",M.data.length),console.log("Account data (first 32 bytes):",M.data.slice(0,32)),se instanceof Error&&se.message.includes("beyond buffer length")?(console.log("🔍 Account Analysis:"),console.log("- Account exists and discriminator matches Pool"),console.log("- But IDL layout mismatch:"),console.log(`  - On-chain data length: ${M.data.length} bytes`),console.log("  - Expected by local IDL: ~265 bytes"),console.log(`  - Difference: ${M.data.length-265} bytes`),console.log("💡 This means your local IDL does not match the deployed program"),console.log("💡 Solutions:"),console.log("  1. Use the exact IDL that was compiled with the deployed program"),console.log("  2. Rebuild and redeploy the program to match your current IDL"),console.log("  3. Check if the program was updated but IDL wasn't updated"),console.log("  4. Verify the _reserved array length in your struct"),new Error(`Pool decode failed: IDL/program layout mismatch. Account data length=${M.data.length} bytes, but your local IDL expects ~265 bytes. Update your IDL to match the deployed binary (or redeploy the program).`)):se}l({poolAddress:z.toString(),admin:G.admin?.toString()??"Unknown",stakingMint:G.stakingMint?.toString()??"Unknown",stakingVault:G.stakingVault?.toString()??"Unknown",rewardConfigured:G.rewardConfigured??!1,rewardMint:G.rewardMint?.toString()??"Unknown",rewardVault:G.rewardVault?.toString()??"Unknown",rewardRatePerSec:G.rewardRatePerSec?.toNumber?.()??0,rateCap:G.rateCap?.toNumber?.()??0,totalStaked:G.totalStaked?.toNumber?.()??0,accScaled:G.accScaled?.toString?.()??"0",lastUpdateTs:G.lastUpdateTs?.toNumber?.()??0,paused:G.paused??!1,locked:G.locked??!1,bump:G.bump??0,signerBump:G.signerBump??0});try{const{getMint:se}=await De(async()=>{const{getMint:me}=await import("./solana-CghHl2Ac.js").then(Pe=>Pe.k);return{getMint:me}},__vite__mapDeps([0,1])),ge=new we(G.stakingMint?.toString()??"Unknown"),ae=new we(G.rewardMint?.toString()??"Unknown"),le=await se(t,ge),K=await se(t,ae);_(le.decimals??6),V(K.decimals??6),console.log("Token decimals fetched:",{staking:le.decimals,reward:K.decimals})}catch(se){console.warn("Failed to fetch token decimals, using defaults:",se),_(6),V(6)}try{const se=jt(C.programId,z,new we(n)),ge=await C.account.user.fetch(se);d({owner:ge.owner?.toString()??"Unknown",staked:ge.staked?.toNumber?.()??0,debt:ge.debt?.toString?.()??"0",unpaidRewards:ge.unpaidRewards?.toString?.()??"0",bump:ge.bump??0}),console.log("User data fetched:",ge)}catch(se){console.log("User account not found yet (normal for new users):",se),d(null)}console.log("✅ Pool data loaded successfully")}catch(b){throw console.error("❌ Failed to fetch pool:",b),u(b?.message??"Failed to fetch pool data"),b}finally{h(!1)}},ye=async P=>{if(!r||!n)throw new Error("Only admin can initialize pool");h(!0),u(null);try{if(typeof window>"u"||!window.solana?.isPhantom)throw new Error("Phantom wallet not detected");window.solana.isConnected||await window.solana.connect();const b={publicKey:T(n),signTransaction:async R=>window.solana.signTransaction(R),signAllTransactions:async R=>window.solana.signAllTransactions(R)};console.log("⏳ Waiting 1 second before submitting transaction..."),await new Promise(R=>setTimeout(R,1e3)),console.log("🔄 Getting fresh blockhash...");const{blockhash:O}=await t.getLatestBlockhash("confirmed");console.log("✅ Fresh blockhash obtained:",O);const C=await Hd(P,b);if(!C)throw new Error("Pool initialization failed - no result returned");l({poolAddress:C.pool,admin:C.admin,stakingMint:C.stakingMint,stakingVault:C.stakingVault,rewardConfigured:!1,rewardMint:"11111111111111111111111111111111",rewardVault:"11111111111111111111111111111111",rewardRatePerSec:Number(C.ratePerSec),rateCap:0,totalStaked:Number(C.totalStaked),accScaled:"0",lastUpdateTs:Math.floor(Date.now()/1e3),paused:!1,locked:!1,bump:0,signerBump:0}),await J()}catch(b){if(console.error("initializePool error:",b),b?.message?.includes("already in use")||b?.logs?.some(C=>C.includes("already in use"))){console.log("Pool already exists, fetching existing pool data...");try{const C=new we(P),R=Kn(We,C);console.log("Fetching existing pool at:",R.toBase58()),await be(P),console.log("✅ Existing pool data loaded successfully");return}catch(C){throw console.error("Failed to load existing pool data:",C),u("Pool exists but could not load data. Please refresh the page."),C}}const O=b?.message??"Failed to initialize pool";throw u(O),new Error(O)}finally{h(!1)}},de=async P=>{if(!r||!n||!o)throw new Error("Only admin can update rate");h(!0),u(null);try{const b={publicKey:T(n),signTransaction:async G=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(G);throw new Error("Wallet not connected")},signAllTransactions:async G=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(G);throw new Error("Wallet not connected")}},O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O),R=T(o.poolAddress),{getMint:z}=await De(async()=>{const{getMint:G}=await import("./solana-CghHl2Ac.js").then(se=>se.k);return{getMint:G}},__vite__mapDeps([0,1])),M=T(o.rewardMint),E=(await z(t,M)).decimals??0,ee=sn(P,E);console.log("Updating reward rate:",{humanRate:P,decimals:E,baseRate:ee.toString()}),console.log("⏳ Waiting 1 second before submitting transaction..."),await new Promise(G=>setTimeout(G,1e3)),console.log("🔄 Getting fresh blockhash...");const{blockhash:he}=await t.getLatestBlockhash("confirmed");console.log("✅ Fresh blockhash obtained:",he);const ie=await C.methods.setRewardRate(ee).accounts({pool:R,admin:T(n)}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log("✅ setRewardRate tx:",ie),await new Promise(G=>setTimeout(G,1200)),await J()}catch(b){if(console.error("❌ setRewardRate failed",b),b?.message?.includes("already been processed")){console.log("🔄 Transaction already processed - treating as success"),console.log("✅ setRewardRate successful (transaction was already processed)"),await J();return}else throw b?.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):b?.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to pool configuration issues or insufficient permissions"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(u(b?.message??"Failed to update rate"),b)}finally{h(!1)}},Y=async P=>{if(!r||!n||!o)throw new Error("Only admin can pause/unpause pool");h(!0),u(null);try{const b={publicKey:T(n),signTransaction:async M=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(M);throw new Error("Wallet not connected")},signAllTransactions:async M=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(M);throw new Error("Wallet not connected")}},O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O),R=T(o.poolAddress);console.log(`🔄 ${P?"Pausing":"Unpausing"} pool...`),console.log("Pool PDA:",R.toBase58()),console.log("⏳ Waiting 1 second before submitting transaction..."),await new Promise(M=>setTimeout(M,1e3)),console.log("🔄 Getting fresh blockhash...");const{blockhash:z}=await t.getLatestBlockhash("confirmed");console.log("✅ Fresh blockhash obtained:",z);try{console.log("🔄 Building setPaused instruction manually...");const M=await C.methods.setPaused(P).accounts({pool:R,admin:T(n)}).instruction(),W=crypto.randomUUID(),E=new sa({programId:an,keys:[],data:Ue.from(`setPaused:${W}`,"utf8")});console.log("🔄 Using unique memo:",W);const ee=new ra().add(E,M),{blockhash:he,lastValidBlockHeight:ie}=await t.getLatestBlockhash("finalized");ee.recentBlockhash=he,ee.lastValidBlockHeight=ie,ee.feePayer=T(n),console.log("🔄 Using fresh blockhash:",he);const G=await b.signTransaction(ee),se=await t.sendRawTransaction(G.serialize(),{skipPreflight:!1});await t.confirmTransaction({signature:se,blockhash:he,lastValidBlockHeight:ie},"confirmed"),console.log(`✅ Pool ${P?"paused":"unpaused"} successfully:`,se)}catch(M){if(console.error("❌ Transaction failed:",M),M.message?.includes("already been processed")){console.log("🔄 Transaction already processed - treating as success..."),console.log(`✅ Pool ${P?"paused":"unpaused"} successfully (transaction was already processed)`),await J();return}else throw M.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):M.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to insufficient permissions or account issues"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):M}await new Promise(M=>setTimeout(M,1200)),await J()}catch(b){if(console.error(`❌ Failed to ${P?"pause":"unpause"} pool:`,b),b?.message?.includes("already been processed")){console.log("🔄 Transaction already processed - treating as success"),console.log(`✅ Pool ${P?"paused":"unpaused"} successfully (transaction was already processed)`),await J();return}else throw b?.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):b?.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to insufficient permissions or account issues"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(u(b?.message??`Failed to ${P?"pause":"unpause"} pool`),b)}finally{h(!1)}},Ae=async(P,b)=>{if(!r||!n||!o)throw new Error("Only admin can set reward config");h(!0),u(null);try{const O={publicKey:T(n),signTransaction:async ae=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(ae);throw new Error("Wallet not connected")},signAllTransactions:async ae=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(ae);throw new Error("Wallet not connected")}},C=new Fe(t,O,{commitment:"confirmed"}),R=await ze(C),z=T(o.poolAddress),M=cn(R.programId,z),W=T(P),{getMint:E}=await De(async()=>{const{getMint:ae}=await import("./solana-CghHl2Ac.js").then(le=>le.k);return{getMint:ae}},__vite__mapDeps([0,1])),he=(await E(t,W)).decimals??0,ie=sn(b,he);ie.isZero()&&console.warn("ratePerSec scaled to 0; APY will remain 0. Use a larger rate or fewer decimals.");const G=await ft(W,M,!0);console.log("🔍 ATA Debug Info:"),console.log("Reward Mint:",W.toBase58()),console.log("Pool Signer PDA:",M.toBase58()),console.log("Derived Reward Vault:",G.toBase58()),console.log("🔍 Account Verification:"),console.log("Pool PDA:",z.toBase58()),console.log("Admin:",n),console.log("Reward Mint:",W.toBase58()),console.log("Pool Signer:",M.toBase58()),console.log("Reward Vault:",G.toBase58());try{if(await t.getAccountInfo(G)){console.log("⚠️ ATA already exists - checking owner...");const{getAccount:le}=await De(async()=>{const{getAccount:K}=await import("./solana-CghHl2Ac.js").then(me=>me.k);return{getAccount:K}},__vite__mapDeps([0,1]));try{const K=await le(t,G);throw console.log("ATA Owner:",K.owner.toBase58()),console.log("Expected Owner (PDA):",M.toBase58()),K.owner.equals(M)?(console.log("✅ ATA has correct owner (PDA)"),console.log("🔍 Checking ATA balance..."),console.log("ATA Balance:",K.amount.toString()),K.amount>0?console.log("⚠️ ATA has existing balance - this might affect the configuration"):console.log("✅ ATA is empty - safe to proceed"),console.log("❌ BLOCKING: ATA already exists but program uses init constraint"),console.log("💡 The program expects to create the ATA, but it already exists"),console.log('🔧 This will fail with "Provided owner is not allowed"'),console.log("📝 Solutions:"),console.log("1. Use a different reward mint (recommended)"),console.log("2. Create a new pool with different staking mint"),console.log("3. Update the program to handle existing ATAs"),new Error("ATA already exists but program uses init constraint. Please use a different reward mint or create a new pool.")):(console.log("❌ ATA has wrong owner! Expected PDA but got:",K.owner.toBase58()),console.log("💡 This ATA was created with a different owner than the PDA"),console.log("🔧 The program expects to create the ATA with PDA as owner, but it already exists with a different owner"),console.log("📝 Solutions:"),console.log("1. Use a different reward mint (recommended)"),console.log("2. Create a new pool with a different staking mint"),console.log("3. The program needs to be updated to handle existing ATAs"),new Error(`ATA already exists with wrong owner. Expected ${M.toBase58()} but got ${K.owner.toBase58()}. Please use a different reward mint or create a new pool.`))}catch(K){console.log("Could not parse ATA account:",K),console.log("🔍 ATA Account Info:",{address:G.toBase58(),exists:!0,parseError:K instanceof Error?K.message:String(K)});try{const me=await t.getAccountInfo(G);console.log("Raw ATA Account Info:",{address:G.toBase58(),owner:me?.owner?.toBase58(),executable:me?.executable,lamports:me?.lamports,dataLength:me?.data?.length,data:me?.data?"Has data":"No data"})}catch(me){console.log("Could not get raw account info:",me)}console.log("⚠️ ATA exists but cannot be parsed - proceeding anyway"),console.log("💡 The program might be able to handle this invalid ATA state"),console.log("🔧 If this fails, try using a different reward mint")}}else console.log("✅ ATA does not exist yet (normal for new setup)")}catch(ae){throw console.log("ATA check failed:",ae),ae}if(console.log("SetRewardConfig accounts",{pool:z.toBase58(),admin:n,poolSigner:M.toBase58(),rewardMint:W.toBase58(),rewardVault:G.toBase58()}),console.log("Rate scaling:",{humanRate:b,decimals:he,baseRate:ie.toString(),baseRateNumber:ie.toNumber()}),o&&o.rewardMint&&o.rewardMint!=="11111111111111111111111111111111")throw console.log("❌ Pool rewards are already configured!"),console.log("Current reward mint:",o.rewardMint),console.log("Current rate per sec:",o.rewardRatePerSec),console.log("💡 Use setRewardRate to update the rate instead"),new Error("Pool rewards are already configured. Use setRewardRate to update the rate instead.");console.log("🔍 About to call configureRewards..."),console.log("⚠️ WARNING: The ATA already exists, but the program now uses init_if_needed"),console.log("💡 This should work with the updated program"),console.log("🔧 If this fails, the pool might already be configured"),console.log("⏳ Waiting 1 second before submitting transaction..."),await new Promise(ae=>setTimeout(ae,1e3)),console.log("🔄 Getting fresh blockhash...");const{blockhash:se}=await t.getLatestBlockhash("confirmed");console.log("✅ Fresh blockhash obtained:",se);const ge=await R.methods.configureRewards(ie).accounts({pool:z,admin:T(n),rewardMint:W,poolSigner:M,rewardVault:G,tokenProgram:ht,associatedTokenProgram:Et,systemProgram:Wt.programId,rent:Cn}).rpc({skipPreflight:!0,commitment:"confirmed"});console.log("✅ setRewardConfig tx:",ge),await new Promise(ae=>setTimeout(ae,1200)),await J()}catch(O){if(console.error("❌ setRewardConfig failed",O),O?.message?.includes("already been processed")){console.log("🔄 Transaction already processed - treating as success"),console.log("💡 This is normal with Phantom wallet - transaction was successful"),await J();return}else throw O?.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):O?.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to pool configuration issues or insufficient permissions"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(u(O?.message??"Failed to set reward config"),O)}finally{h(!1)}},ne=async P=>{if(console.log("🚀 STAKE FUNCTION CALLED!",{amount:P,walletAddress:n,poolData:o}),!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),u(null);try{console.log("Staking tokens:",{amount:P,walletAddress:n,poolAddress:o.poolAddress});const b=window.solana;if(!b?.publicKey)throw new Error("Wallet not connected");const O={publicKey:T(b.publicKey),signTransaction:b.signTransaction,signAllTransactions:b.signAllTransactions},C=new Fe(t,O,{commitment:"confirmed"}),R=await ze(C),z=T(o.poolAddress),[M,W]=we.findProgramAddressSync([Ue.from("signer"),z.toBuffer()],R.programId),{getAccount:E}=await De(async()=>{const{getAccount:Q}=await import("./solana-CghHl2Ac.js").then(Ie=>Ie.k);return{getAccount:Q}},__vite__mapDeps([0,1])),ee=T(o.stakingVault);console.log("🔍 Reading pool signer from vault authority...");const he=await E(t,ee),ie=new we(he.owner);console.log("✅ Pool signer (from vault authority):",ie.toBase58()),console.log("🔍 Comparing with our derivation:",M.toBase58()),console.log("🔍 Expected from error:","DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt"),console.log("🔍 Matches expected:",ie.toBase58()==="DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt");const G=ie,se=jt(R.programId,z,T(n));console.log("🔍 PDA Derivation Debug:"),console.log("Program ID:",R.programId.toBase58()),console.log("Pool PDA:",z.toBase58()),console.log("Signer PDA (our derivation):",M.toBase58()),console.log("User PDA:",se.toBase58());const[ge,ae]=we.findProgramAddressSync([Ue.from("signer"),z.toBuffer()],R.programId);console.log("Expected Signer PDA:",ge.toBase58()),console.log("Expected Bump:",ae),console.log("Signer PDA matches expected:",M.equals(ge));const[le,K]=we.findProgramAddressSync([Ue.from("pool_signer"),z.toBuffer()],R.programId);console.log("Alternative Signer PDA (pool_signer):",le.toBase58());const[me,Pe]=we.findProgramAddressSync([Ue.from("signer"),z.toBuffer()],R.programId);console.log("Alternative Signer PDA (signer):",me.toBase58());const Me="DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt";console.log("Expected from error:",Me),console.log("Our derivation matches error:",M.toBase58()===Me),console.log("Alt derivation 1 matches error:",le.toBase58()===Me),console.log("Alt derivation 2 matches error:",me.toBase58()===Me);const Ee=await ft(T(o.stakingMint),T(n)),Le=T(o.stakingVault),{getMint:$e}=await De(async()=>{const{getMint:Q}=await import("./solana-CghHl2Ac.js").then(Ie=>Ie.k);return{getMint:Q}},__vite__mapDeps([0,1])),et=(await $e(t,T(o.stakingMint))).decimals??0,Re=sn(P,et);console.log("Stake scaling:",{humanAmount:P,decimals:et,baseAmount:Re.toString()}),console.log("Stake accounts:",{owner:n,pool:z.toBase58(),signer:G.toBase58(),userStakingAta:Ee.toBase58(),stakingVault:Le.toBase58(),user:se.toBase58()});try{const Q=await E(t,Ee);if(console.log("🔍 User token balance:",Q.amount.toString()),console.log("🔍 Amount to stake:",Re.toString()),Q.amount<BigInt(Re.toString()))throw new Error(`Insufficient token balance. Available: ${Q.amount.toString()}, Required: ${Re.toString()}`)}catch(Q){console.log("⚠️ Could not check token balance:",Q),console.log("💡 Proceeding with transaction - balance will be checked by the program")}console.log("⏳ Waiting 1 second before submitting transaction..."),await new Promise(Q=>setTimeout(Q,1e3)),console.log("🔄 Getting fresh blockhash...");const{blockhash:tt}=await t.getLatestBlockhash("confirmed");console.log("✅ Fresh blockhash obtained:",tt),o.signerBump&&o.signerBump>0&&(console.log("🔍 Pool data has signerBump:",o.signerBump),console.log("🔍 This suggests the signer PDA was derived during pool initialization"),console.log("🔍 Let me check if we need to use a different derivation..."));try{const Q=await R.methods.stake(Re).accounts({owner:T(n),pool:z,poolSigner:G,userStakingAta:Ee,stakingVault:Le,user:se,systemProgram:Wt.programId,tokenProgram:ht,associatedTokenProgram:Et,rent:Cn}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log("✅ Stake transaction successful:",Q)}catch(Q){if(console.error("❌ Transaction failed:",Q),Q.message?.includes("already been processed")){console.log("🔄 Transaction already processed - treating as success"),console.log("✅ Stake successful (transaction was already processed)"),await J();return}else throw Q.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):Q.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to insufficient funds or account issues"),new Error("Transaction simulation failed. Please check your token balance and try again.")):Q}console.log("✅ Stake successful"),await J()}catch(b){throw console.error("❌ Stake failed:",b),u(b?.message??"Failed to stake"),b}finally{h(!1)}},w=async P=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),u(null);try{console.log("Unstaking tokens:",{amount:P,walletAddress:n,poolAddress:o.poolAddress}),console.log("🔄 Claiming rewards before unstaking to preserve them...");try{await f(),console.log("✅ Rewards claimed successfully before unstaking")}catch(K){console.log("⚠️ Could not claim rewards before unstaking (this is OK if no rewards to claim):",K)}const b={publicKey:T(n),signTransaction:async K=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(K);throw new Error("Wallet not connected")},signAllTransactions:async K=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(K);throw new Error("Wallet not connected")}},O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O),R=T(o.poolAddress),{getAccount:z}=await De(async()=>{const{getAccount:K}=await import("./solana-CghHl2Ac.js").then(me=>me.k);return{getAccount:K}},__vite__mapDeps([0,1])),M=T(o.stakingVault);console.log("🔍 Reading pool signer from vault authority for unstake...");const W=await z(t,M),E=new we(W.owner);console.log("✅ Pool signer (from vault authority):",E.toBase58());const ee=jt(C.programId,R,T(n)),he=await ft(T(o.stakingMint),T(n)),ie=T(o.stakingVault),{getMint:G}=await De(async()=>{const{getMint:K}=await import("./solana-CghHl2Ac.js").then(me=>me.k);return{getMint:K}},__vite__mapDeps([0,1])),ge=(await G(t,T(o.stakingMint))).decimals??0,ae=sn(P,ge);console.log("Unstake scaling:",{humanAmount:P,decimals:ge,baseAmount:ae.toString()}),console.log("Unstake accounts:",{owner:n,pool:R.toBase58(),signer:E.toBase58(),stakingVault:ie.toBase58(),userStakingAta:he.toBase58(),user:ee.toBase58()});try{const K=await z(t,he);if(console.log("🔍 User staked balance:",K.amount.toString()),console.log("🔍 Amount to unstake:",ae.toString()),K.amount<BigInt(ae.toString()))throw new Error(`Insufficient staked balance. Available: ${K.amount.toString()}, Required: ${ae.toString()}`)}catch(K){console.log("⚠️ Could not check staked balance:",K),console.log("💡 Proceeding with transaction - balance will be checked by the program")}console.log("⏳ Waiting 1 second before submitting transaction..."),await new Promise(K=>setTimeout(K,1e3)),console.log("🔄 Getting fresh blockhash...");const{blockhash:le}=await t.getLatestBlockhash("confirmed");console.log("✅ Fresh blockhash obtained:",le);try{const K=await C.methods.unstake(ae).accounts({owner:T(n),pool:R,poolSigner:E,stakingVault:ie,userStakingAta:he,user:ee,tokenProgram:ht}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log("✅ Unstake transaction successful:",K)}catch(K){if(console.error("❌ Transaction failed:",K),K.message?.includes("already been processed")){console.log("🔄 Transaction already processed - treating as success"),console.log("✅ Unstake successful (transaction was already processed)"),await J();return}else throw K.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):K.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to insufficient staked balance or account issues"),new Error("Transaction simulation failed. Please check your staked balance and try again.")):K}console.log("✅ Unstake successful"),await J()}catch(b){throw console.error("❌ Unstake failed:",b),u(b?.message??"Failed to unstake"),b}finally{h(!1)}},f=async()=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");const P=Date.now();if(P-H<5e3)throw new Error("Please wait a few seconds before submitting another transaction");h(!0),u(null),te(P);try{console.log("Claiming rewards:",{walletAddress:n,poolAddress:o.poolAddress});const b={publicKey:T(n),signTransaction:async le=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(le);throw new Error("Wallet not connected")},signAllTransactions:async le=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(le);throw new Error("Wallet not connected")}},O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O),R=T(o.poolAddress),{getAccount:z}=await De(async()=>{const{getAccount:le}=await import("./solana-CghHl2Ac.js").then(K=>K.k);return{getAccount:le}},__vite__mapDeps([0,1])),M=T(o.stakingVault);console.log("🔍 Reading pool signer from vault authority for claim...");const W=await z(t,M),E=new we(W.owner);console.log("✅ Pool signer (from vault authority):",E.toBase58());const ee=jt(C.programId,R,T(n)),he=T(o.rewardVault);console.log("🔄 Ensuring user reward ATA exists..."),console.log("🔍 Reward mint:",o.rewardMint),console.log("🔍 User wallet:",n);const ie=await t.getBalance(T(n)),G=.002*1e9;if(console.log("🔍 User SOL balance:",ie/1e9,"SOL"),console.log("🔍 Minimum required:",G/1e9,"SOL"),ie<G)throw new Error(`Insufficient SOL balance. You need at least 0.002 SOL to create token accounts. Current balance: ${(ie/1e9).toFixed(6)} SOL`);let se;const ge=await ft(T(o.rewardMint),T(n));if(console.log("🔍 Derived ATA address:",ge.toBase58()),await t.getAccountInfo(ge))console.log("✅ ATA already exists:",ge.toBase58()),se=ge;else{console.log("🔄 ATA does not exist, creating it...");try{se=(await lo(t,b,T(o.rewardMint),T(n))).address,console.log("✅ ATA created automatically:",se.toBase58())}catch(le){console.log("⚠️ Automatic creation failed, trying manual creation:",le.message);try{const{createAssociatedTokenAccountInstruction:K}=await De(async()=>{const{createAssociatedTokenAccountInstruction:$e}=await import("./solana-CghHl2Ac.js").then(Oe=>Oe.k);return{createAssociatedTokenAccountInstruction:$e}},__vite__mapDeps([0,1])),{Transaction:me}=await De(async()=>{const{Transaction:$e}=await import("./solana-CghHl2Ac.js").then(Oe=>Oe.j);return{Transaction:$e}},__vite__mapDeps([0,1])),Pe=new me;Pe.add(K(T(n),ge,T(n),T(o.rewardMint)));const{blockhash:Me}=await t.getLatestBlockhash("confirmed");Pe.recentBlockhash=Me,Pe.feePayer=T(n);const Ee=await b.signTransaction(Pe),Le=await t.sendRawTransaction(Ee.serialize());await t.confirmTransaction(Le,"confirmed"),console.log("✅ ATA created manually:",Le),se=ge}catch(K){throw new Error(`Failed to create user reward token account. Please ensure you have enough SOL (at least 0.002 SOL) for the account creation fee. Error: ${K.message}`)}}}console.log("Claim accounts:",{owner:n,pool:R.toBase58(),poolSigner:E.toBase58(),rewardVault:he.toBase58(),userRewardAta:se.toBase58(),user:ee.toBase58()}),console.log("⏳ Waiting 1 second before submitting transaction..."),await new Promise(le=>setTimeout(le,1e3));try{console.log("🔄 Building claim instruction manually...");const le=await C.methods.claim().accounts({owner:T(n),pool:R,poolSigner:E,rewardVault:he,userRewardAta:se,user:ee,tokenProgram:ht,associatedTokenProgram:Et}).instruction(),K=crypto.randomUUID(),me=new sa({programId:an,keys:[],data:Ue.from(`claim:${K}`,"utf8")});console.log("🔄 Using unique memo:",K);const Pe=new ra().add(me,le),{blockhash:Me,lastValidBlockHeight:Ee}=await t.getLatestBlockhash("finalized");Pe.recentBlockhash=Me,Pe.lastValidBlockHeight=Ee,Pe.feePayer=T(n),console.log("🔄 Using fresh blockhash:",Me);const Le=await b.signTransaction(Pe),$e=await t.sendRawTransaction(Le.serialize(),{skipPreflight:!1});await t.confirmTransaction({signature:$e,blockhash:Me,lastValidBlockHeight:Ee},"confirmed"),console.log("✅ Claim transaction successful:",$e);try{const Oe=await t.getTokenAccountBalance(se),et=Number(Oe.value.amount),Re=et/Math.pow(10,j);console.log("💰 Current reward balance after claim:",{baseUnits:et,uiAmount:Re,decimals:j})}catch(Oe){console.log("Could not check balance after claim:",Oe)}}catch(le){if(console.error("❌ Transaction failed:",le),le.message?.includes("already been processed")){console.log("🔄 Transaction already processed - treating as success..."),console.log("✅ Claim successful (transaction was already processed)"),await J();return}else throw le.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):le.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to insufficient rewards or account issues"),new Error("Transaction simulation failed. Please check your rewards and try again.")):le}console.log("✅ Claim successful"),await J()}catch(b){throw console.error("❌ Claim failed:",b),u(b?.message??"Failed to claim rewards"),b}finally{h(!1)}},U=async()=>{if(!o)return console.log("No pool data available"),0;if(o.rewardVault==="11111111111111111111111111111111")return console.log("Reward vault not configured yet"),0;try{const P=T(o.rewardVault),b=await t.getTokenAccountBalance(P);return console.log("Reward Vault Balance:",{vaultAddress:P.toBase58(),balance:b.value.uiAmount,balanceString:b.value.uiAmountString,decimals:b.value.decimals}),b.value.uiAmount||0}catch(P){return console.error("Failed to check reward vault balance:",P),0}},k=async()=>{if(!o)return null;try{if(console.log("🔍 APY Calculation Debug:",{rewardMint:o.rewardMint,ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked,rewardConfigured:o.rewardMint!=="11111111111111111111111111111111"}),o.rewardRatePerSec>0){const ge=new we(o.rewardMint),{getMint:ae}=await De(async()=>{const{getMint:Pe}=await import("./solana-CghHl2Ac.js").then(Me=>Me.k);return{getMint:Pe}},__vite__mapDeps([0,1])),K=(await ae(t,ge)).decimals??0,me=o.rewardRatePerSec/10**K;console.log("📊 Current Rate Settings:",{baseUnits:o.rewardRatePerSec,humanReadable:me,decimals:K,perSecond:`${me} tokens per second`,perDay:`${(me*86400).toFixed(6)} tokens per day`,perYear:`${(me*31536e3).toFixed(6)} tokens per year`})}if(!o.rewardMint||o.rewardMint==="11111111111111111111111111111111")return console.log("❌ Reward configuration not set"),null;if(o.rewardRatePerSec<=0)return console.log("❌ Invalid rate:",{ratePerSec:o.rewardRatePerSec,reason:"Rate is 0 or negative"}),null;if(o.totalStaked<=0){console.log("⚠️ No tokens staked yet - showing theoretical APY (assuming 1 token staked)");const ge=new we(o.stakingMint),ae=new we(o.rewardMint),{getMint:le}=await De(async()=>{const{getMint:tt}=await import("./solana-CghHl2Ac.js").then(Q=>Q.k);return{getMint:tt}},__vite__mapDeps([0,1])),K=await le(t,ge),me=await le(t,ae),Pe=K.decimals??0,Me=me.decimals??0,Ee=o.rewardRatePerSec/10**Me,Le=1,$e=31536e3,Oe=Ee*$e,Re=Oe/Le*100;return console.log("🔍 Theoretical APY (1 token staked):",{ratePerSecUI:Ee,theoreticalStaked:Le,yearlyRewards:Oe,apyPercent:`${Re.toFixed(6)}%`,formula:`(${Ee} * ${$e} / ${Le}) * 100 = ${Re.toFixed(6)}%`}),{ratePerSecUI:Ee,totalStakedUI:Le,yearlyRewards:Oe,secondsPerYear:$e,apyPercent:Re,decimals:{staking:Pe,reward:Me},baseUnits:{ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked},isTheoretical:!0}}const P=new we(o.stakingMint),b=new we(o.rewardMint),{getMint:O}=await De(async()=>{const{getMint:ge}=await import("./solana-CghHl2Ac.js").then(ae=>ae.k);return{getMint:ge}},__vite__mapDeps([0,1])),C=await O(t,P),R=await O(t,b),z=C.decimals??0,M=R.decimals??0,W=o.rewardRatePerSec/10**M,E=o.totalStaked/10**z;if(E<=0)return null;const ee=31536e3,he=W*ee,G=he/E*100,se={ratePerSecUI:W,totalStakedUI:E,yearlyRewards:he,secondsPerYear:ee,apyPercent:G,decimals:{staking:z,reward:M},baseUnits:{ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked}};return console.log("🔍 APY Debugger:",se),console.log("✅ APY Calculation successful:",{ratePerSecUI:W,totalStakedUI:E,apyPercent:`${G.toFixed(6)}%`,formula:`(${W} * ${ee} / ${E}) * 100 = ${G.toFixed(6)}%`}),se}catch(P){return console.error("Failed to compute APY:",P),null}},N=async()=>{if(!o){console.log("No pool data available");return}try{if(console.log("🔍 Checking current pool state..."),console.log("Current pool data:",{poolAddress:o.poolAddress,rewardMint:o.rewardMint,ratePerSec:o.rewardRatePerSec,totalStaked:o.totalStaked,admin:o.admin}),o.rewardMint&&o.rewardMint!=="11111111111111111111111111111111"){console.log("✅ Reward configuration is already set!"),console.log("Reward Mint:",o.rewardMint),console.log("Rate Per Second:",o.rewardRatePerSec);const P=await k();P&&console.log("Current APY:",`${P.apyPercent.toFixed(6)}%`),await U()}else console.log("❌ Reward configuration not set yet"),console.log("Reward Mint:",o.rewardMint),console.log("Rate Per Second:",o.rewardRatePerSec)}catch(P){console.error("Failed to check pool state:",P)}},y=async P=>{if(!r||!n||!o)throw new Error("Only admin can add reward tokens");const b=Date.now();if(b-H<5e3)throw new Error("Please wait a few seconds before submitting another transaction");h(!0),u(null),te(b);try{const O={publicKey:T(n),signTransaction:async Q=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(Q);throw new Error("Wallet not connected")},signAllTransactions:async Q=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(Q);throw new Error("Wallet not connected")}},C=new Fe(t,O,{commitment:"confirmed"}),R=await ze(C),z=T(o.poolAddress),M=cn(R.programId,z),W=T(o.rewardMint);if(!W)throw new Error("Reward mint not configured yet");const E=await ft(W,M,!0),ee=await ft(W,T(n));try{const Q=await t.getTokenAccountBalance(ee);if(console.log("Admin balance before transfer:",Q.value.uiAmount),Q.value.uiAmount===null||Q.value.uiAmount<P)throw console.log("❌ Insufficient reward tokens in admin wallet!"),console.log("🔍 Admin balance:",Q.value.uiAmount),console.log("🔍 Required amount:",P),console.log("💡 Solution: You need to acquire some reward tokens first"),console.log("💡 Reward mint:",W.toBase58()),new Error(`Insufficient reward tokens. Admin has ${Q.value.uiAmount||0} tokens, but needs ${P} tokens. Please acquire some reward tokens first.`)}catch(Q){if(Q instanceof Error&&Q.message?.includes("Insufficient reward tokens"))throw Q;console.log("Admin ATA does not exist for reward mint, creating it...");const{createAssociatedTokenAccountInstruction:Ie}=await De(async()=>{const{createAssociatedTokenAccountInstruction:je}=await import("./solana-CghHl2Ac.js").then(qe=>qe.k);return{createAssociatedTokenAccountInstruction:je}},__vite__mapDeps([0,1])),{Transaction:Z}=await De(async()=>{const{Transaction:je}=await import("./solana-CghHl2Ac.js").then(qe=>qe.j);return{Transaction:je}},__vite__mapDeps([0,1])),fe=new Z;fe.add(Ie(T(n),ee,T(n),W)),console.log("Creating admin ATA for reward mint...");const xe=await C.sendAndConfirm(fe);throw console.log("Admin ATA created:",xe),console.log("⚠️ Admin ATA created but has 0 balance"),console.log("💡 You need to acquire some reward tokens first"),console.log("💡 Reward mint:",W.toBase58()),new Error("Admin ATA created but has 0 balance. Please acquire some reward tokens first.")}const he=await t.getAccountInfo(E),{createAssociatedTokenAccountInstruction:ie,getMint:G,createTransferCheckedInstruction:se}=await De(async()=>{const{createAssociatedTokenAccountInstruction:Q,getMint:Ie,createTransferCheckedInstruction:Z}=await import("./solana-CghHl2Ac.js").then(fe=>fe.k);return{createAssociatedTokenAccountInstruction:Q,getMint:Ie,createTransferCheckedInstruction:Z}},__vite__mapDeps([0,1])),{Transaction:ge}=await De(async()=>{const{Transaction:Q}=await import("./solana-CghHl2Ac.js").then(Ie=>Ie.j);return{Transaction:Q}},__vite__mapDeps([0,1])),ae=new ge,{blockhash:le,lastValidBlockHeight:K}=await t.getLatestBlockhash("confirmed");ae.recentBlockhash=le,ae.lastValidBlockHeight=K,ae.feePayer=T(n),console.log("🔍 Fresh blockhash:",le),console.log("🔍 Last valid block height:",K);const me=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Pe=Ue.from(`reward-top-up-${me}`,"utf8"),Me={programId:an,keys:[{pubkey:T(n),isSigner:!0,isWritable:!1}],data:Pe};ae.add(Me),he||ae.add(ie(T(n),E,M,W));const Le=(await G(t,W)).decimals??0,$e=BigInt(10)**BigInt(Le),Oe=BigInt(Math.trunc(P))*$e;ae.add(se(ee,W,E,T(n),Oe,Le)),console.log("Sending addRewardTokens tx…",{pool:z.toBase58(),signer:M.toBase58(),rewardMint:W.toBase58(),rewardVault:E.toBase58(),adminRewardAta:ee.toBase58(),decimals:Le,amountBaseUnits:Oe.toString()});let et,Re=0;const tt=3;for(;Re<tt;)try{console.log(`🔄 Attempting transaction (attempt ${Re+1}/${tt})...`),et=await C.sendAndConfirm(ae,[],{commitment:"confirmed",skipPreflight:!1,preflightCommitment:"confirmed"}),console.log("✅ Transfer transaction successful:",et);break}catch(Q){if(Re++,console.log(`❌ Attempt ${Re} failed:`,Q.message),Q.message.includes("already been processed")){console.log("🔄 Transaction was already processed - checking if it succeeded...");try{const je=await t.getTokenAccountBalance(E);if(je.value.uiAmount&&je.value.uiAmount>0){console.log("✅ Transaction actually succeeded despite error message");break}}catch(je){console.log("Could not check vault balance:",je)}}if(Re>=tt)throw Q;await new Promise(je=>setTimeout(je,1e3*Re));const{blockhash:Ie,lastValidBlockHeight:Z}=await t.getLatestBlockhash("confirmed");ae.recentBlockhash=Ie,ae.lastValidBlockHeight=Z;const fe=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,xe=Ue.from(`reward-top-up-${fe}`,"utf8");ae.instructions[0]={programId:an,keys:[{pubkey:T(n),isSigner:!0,isWritable:!1}],data:xe}}try{const Q=await t.getTokenAccountBalance(ee),Ie=await t.getTokenAccountBalance(E);console.log("Balances after transfer:",{adminBalance:Q.value.uiAmount,vaultBalance:Ie.value.uiAmount,vaultAddress:E.toBase58()})}catch(Q){console.log("Could not check balances after transfer:",Q)}console.log("✅ Reward tokens transferred into vault");try{const Q=await t.getTokenAccountBalance(ee),Ie=await t.getTokenAccountBalance(E);console.log("🔍 Balances after transfer:",{adminBalance:Q.value.uiAmount,vaultBalance:Ie.value.uiAmount,vaultAddress:E.toBase58()}),Ie.value.uiAmount&&Ie.value.uiAmount>0?(console.log("✅ Reward vault now has tokens!"),console.log("🔍 Vault balance:",Ie.value.uiAmount),console.log("🔍 This should enable APY calculation once users stake")):console.log("⚠️ Vault balance is still 0 - check if transfer was successful")}catch(Q){console.log("Could not check balances after transfer:",Q)}await J()}catch(O){throw console.error("❌ addRewardTokens failed",O),O?.message?.includes("already been processed")?(console.log("🔄 Transaction already processed - this might be a duplicate submission"),console.log("💡 Try refreshing the page and attempting the token transfer again"),new Error("Transaction already processed. Please refresh and try again.")):O?.message?.includes("Blockhash not found")?(console.log("🔄 Blockhash not found - this is a network timing issue"),console.log("💡 This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):O?.message?.includes("simulation failed")?(console.log("🔄 Transaction simulation failed - checking for specific issues"),console.log("💡 This might be due to insufficient token balance or account issues"),new Error("Transaction simulation failed. Please check your token balance and try again.")):O?.message?.includes("Insufficient reward tokens")?(console.log("🔄 Insufficient reward tokens - admin needs more tokens"),new Error("Insufficient reward tokens. Please acquire more reward tokens first.")):(u(O?.message??"Failed to add reward tokens"),O)}finally{h(!1)}},$=P=>{console.log(`🔧 Setting staking mint to: ${P}`),v(P)},D=async(P,b,O)=>{const C=T(P);try{const{getAccount:M}=await De(async()=>{const{getAccount:ee}=await import("./solana-CghHl2Ac.js").then(he=>he.k);return{getAccount:ee}},__vite__mapDeps([0,1])),W=await M(t,T(b)),E=new we(W.owner);return console.log("[Staking] Resolved pool signer from vault authority:",E.toBase58()),E}catch(M){console.log("[Staking] Unable to read vault authority, falling back to PDA derivation",M)}const R=[Ue.from("pool-signer"),Ue.from("pool_signer"),Ue.from("signer")];for(const M of R)try{const[W,E]=we.findProgramAddressSync([M,C.toBuffer()],We);if(O===void 0||E===O)return console.log("[Staking] Using derived signer PDA",W.toBase58(),"seed",M.toString()),W}catch(W){console.log("[Staking] Failed to derive signer with seed",M.toString(),W)}const z=cn(We,C);return console.log("[Staking] Using fallback signer helper",z.toBase58()),z},Qe={connection:t,walletAddress:n,isAdmin:r,poolData:o,userData:m,isLoading:g,error:x,stakingMint:p,stakingDecimals:A,rewardDecimals:j,initializePool:ye,fetchPoolByMint:be,setStakingMint:$,diagnoseAccount:async P=>{try{const b=await t.getAccountInfo(new we(P));if(!b){console.log("❌ Account does not exist");return}return console.log("🔍 Account Diagnosis:"),console.log("- Address:",P),console.log("- Owner:",b.owner.toBase58()),console.log("- Executable:",b.executable),console.log("- Lamports:",b.lamports),console.log("- Data Length:",b.data?.length),console.log("- Is Program Account:",b.owner.equals(We)),b.data&&b.data.length>0&&(console.log("- First 32 bytes:",Array.from(b.data.slice(0,32))),console.log("- Last 32 bytes:",Array.from(b.data.slice(-32)))),b}catch(b){console.error("❌ Failed to diagnose account:",b)}},fetchOnChainIdl:async()=>{try{const P={publicKey:T(n),signTransaction:async C=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(C);throw new Error("Wallet not connected")},signAllTransactions:async C=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(C);throw new Error("Wallet not connected")}},b=new Fe(t,P,{commitment:"confirmed"}),O=await qd(b);return O?(console.log("✅ On-chain IDL fetched successfully"),O):(console.log("❌ Failed to fetch on-chain IDL"),null)}catch(P){return console.error("❌ Failed to fetch on-chain IDL:",P),null}},verifyPdaSeeds:P=>{console.log("🔍 Verifying PDA seeds match program expectations...");const b=new we(P),O=We,[C,R]=we.findProgramAddressSync([Ue.from("pool"),b.toBuffer()],O);console.log("PDA Derivation:",{programId:O.toBase58(),stakingMint:b.toBase58(),seeds:["pool",b.toBase58()],derivedPDA:C.toBase58(),bump:R});const z=[Ue.from("pool"),b.toBuffer()],[M,W]=we.findProgramAddressSync(z,O);if(!C.equals(M))throw new Error("PDA derivation mismatch - seeds do not match program expectations");return console.log("✅ PDA seeds match program expectations"),{poolPDA:C,bump:R}},setRewardConfig:Ae,setRewardRate:de,setPaused:Y,addRewardTokens:y,checkRewardVaultBalance:U,checkCurrentPoolState:N,computeApy:k,stake:ne,unstake:w,emergencyUnstake:async P=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),u(null);try{console.log("Emergency unstaking tokens:",{amount:P,walletAddress:n,poolAddress:o.poolAddress});const b={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O),R=T(o.poolAddress),z=T(o.stakingMint),M=await D(o.poolAddress,o.stakingVault,o.signerBump),W=await C.methods.emergencyUnstake(new it(P)).accounts({owner:T(n),pool:R,poolSigner:M,userStakingAta:await ft(z,T(n)),stakingVault:T(o.stakingVault),user:jt(C.programId,R,T(n)),systemProgram:Wt.programId,tokenProgram:ht,associatedTokenProgram:Et}).rpc();console.log("✅ Emergency unstake successful:",W),await J()}catch(b){throw console.error("❌ Emergency unstake failed:",b),u(b?.message??"Failed to emergency unstake"),b}finally{h(!1)}},claim:f,withdrawRewards:async P=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),u(null);try{console.log("Withdrawing rewards:",{amount:P,poolAddress:o.poolAddress});const b={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O),R=T(o.poolAddress),z=T(o.rewardMint),M=await D(o.poolAddress,o.stakingVault,o.signerBump),W=await C.methods.withdrawRewards(new it(P)).accounts({pool:R,admin:T(n),poolSigner:M,rewardVault:T(o.rewardVault),adminRewardAta:await ft(z,T(n)),tokenProgram:ht,associatedTokenProgram:Et}).rpc();console.log("✅ Rewards withdrawn successfully:",W),await J()}catch(b){throw console.error("❌ Withdraw rewards failed:",b),u(b?.message??"Failed to withdraw rewards"),b}finally{h(!1)}},setAdmin:async P=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),u(null);try{console.log("Setting new admin:",{newAdmin:P,poolAddress:o.poolAddress});const b={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},O=new Fe(t,b,{commitment:"confirmed"}),C=await ze(O),R=T(o.poolAddress),z=await C.methods.setAdmin(T(P)).accounts({pool:R,admin:T(n)}).rpc();console.log("✅ Admin updated successfully:",z),await J()}catch(b){throw console.error("❌ Set admin failed:",b),u(b?.message??"Failed to set admin"),b}finally{h(!1)}},ensureVaults:async()=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),u(null);try{console.log("Ensuring vaults exist:",{poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},b=new Fe(t,P,{commitment:"confirmed"}),O=await ze(b),C=T(o.poolAddress),R=T(o.stakingMint),z=o.rewardConfigured?T(o.rewardMint):void 0,M=await D(o.poolAddress,o.stakingVault,o.signerBump),W={pool:C,admin:T(n),poolSigner:M,stakingMint:R,stakingVault:T(o.stakingVault),associatedTokenProgram:Et,tokenProgram:ht,systemProgram:Wt.programId};z&&(W.rewardMint=z,W.rewardVault=T(o.rewardVault));const E=await O.methods.ensureVaults().accounts(W).rpc();console.log("✅ Vaults ensured successfully:",E),await J()}catch(P){throw console.error("❌ Ensure vaults failed:",P),u(P?.message??"Failed to ensure vaults"),P}finally{h(!1)}},closeUser:async()=>{if(!n||!o)throw new Error("Wallet not connected or pool not initialized");h(!0),u(null);try{console.log("Closing user account:",{walletAddress:n,poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},b=new Fe(t,P,{commitment:"confirmed"}),O=await ze(b),C=T(o.poolAddress),R=await O.methods.closeUser().accounts({owner:T(n),pool:C,user:jt(O.programId,C,T(n))}).rpc();console.log("✅ User account closed successfully:",R),await J()}catch(P){throw console.error("❌ Close user failed:",P),u(P?.message??"Failed to close user account"),P}finally{h(!1)}},closePool:async()=>{if(!r||!n||!o)throw new Error("Admin access required");h(!0),u(null);try{console.log("Closing pool:",{poolAddress:o.poolAddress});const P={publicKey:T(n),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},b=new Fe(t,P,{commitment:"confirmed"}),O=await ze(b),C=T(o.poolAddress),R=await D(o.poolAddress,o.stakingVault,o.signerBump),z={pool:C,admin:T(n),poolSigner:R,stakingVault:T(o.stakingVault),tokenProgram:ht};o.rewardConfigured&&(z.rewardVault=T(o.rewardVault));const M=await O.methods.closePool().accounts(z).rpc();console.log("✅ Pool closed successfully:",M),await J()}catch(P){throw console.error("❌ Close pool failed:",P),u(P?.message??"Failed to close pool"),P}finally{h(!1)}},refreshData:J,connectWallet:async()=>{if(typeof window>"u"||!window.solana?.isPhantom)throw new Error("Phantom wallet not detected. Please install Phantom wallet.");try{const P=await window.solana.connect();s(P?.publicKey?.toString()??null),console.log("✅ Wallet connected:",P?.publicKey?.toString())}catch(P){throw console.error("❌ Failed to connect wallet:",P),new Error("Failed to connect wallet. Please try again.")}},disconnectWallet:()=>{s(null),console.log("🔌 Wallet disconnected")}};return a.jsx(Rr.Provider,{value:Qe,children:e})}function Jt(){const e=c.useContext(Rr);if(!e)throw new Error("useStaking must be used within a StakingProvider");return e}const Ir=c.createContext(void 0);function Qd({children:e}){const[t,n]=c.useState([]),s=d=>{const g=Math.random().toString(36).substr(2,9),h={...d,id:g};n(x=>[...x,h])},r=d=>{n(g=>g.filter(h=>h.id!==d))},i=(d,g,h=5e3)=>{s({type:"success",title:d,message:g,duration:h})},o=(d,g,h=7e3)=>{s({type:"error",title:d,message:g,duration:h})},l=(d,g,h=6e3)=>{s({type:"warning",title:d,message:g,duration:h})},m=(d,g,h=5e3)=>{s({type:"info",title:d,message:g,duration:h})};return a.jsx(Ir.Provider,{value:{showSuccess:i,showError:o,showWarning:l,showInfo:m,notifications:t,removeNotification:r},children:e})}function Dr(){const e=c.useContext(Ir);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e}const _a=BigInt("1000000000000"),Xd=31536e3;function Br(e,t,n=Math.floor(Date.now()/1e3)){return c.useMemo(()=>{if(!e||!t||t.staked===0)return null;const s=BigInt(Math.max(0,n-e.lastUpdateTs)),r=BigInt(e.accScaled)+s*BigInt(e.rewardRatePerSec)*_a/BigInt(e.totalStaked),i=BigInt(t.staked)*r/_a-BigInt(t.debt)+BigInt(t.unpaidRewards),o=e.rewardDecimals??6,l=Number(i)/10**o,m=Number(BigInt(e.rewardRatePerSec)*BigInt(Xd))/10**o,d=e.totalStaked>0?m/(e.totalStaked/10**(e.stakeDecimals??6))*100:0;return{pendingUI:l,apy:d}},[e,t,n])}const qn=(e,t,n=0,s=8)=>{const i=(typeof e=="number"?e:Number(e))/Math.pow(10,t);return i===0?"0.000000":i<1e-6?i.toExponential(6):i.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:s})};function Jd(){return Os(),c.useEffect(()=>{const e=window.location.hash;if(e){const t=document.getElementById(e.substring(1));t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth"})},100)}},[]),a.jsxs("div",{id:"home",className:"relative",children:[a.jsx(Zd,{}),a.jsx(tu,{}),a.jsx(au,{}),a.jsx(su,{}),a.jsx(ru,{}),a.jsx(iu,{})]})}function na(){const e=c.useRef(null),t=c.useRef(null),n=c.useRef(0);return c.useEffect(()=>{const s=()=>{const r=window.scrollY||window.pageYOffset;if(n.current=r,!e.current)return;const i=e.current.getBoundingClientRect(),o=Math.min(Math.max((window.innerHeight-i.top)/(window.innerHeight+i.height),-1),2);Array.from(e.current.querySelectorAll("[data-orb]")).forEach((m,d)=>{const g=(d+1)*.06,h=Math.sin((r+d*100)/200)*(10+d*6),x=-o*(40+d*20)*g;m.style.transform=`translate3d(${h}px, ${x}px, 0) scale(${1+d*.01})`}),t.current=requestAnimationFrame(s)};return t.current=requestAnimationFrame(s),window.addEventListener("resize",s),window.addEventListener("scroll",s,{passive:!0}),()=>{t.current&&cancelAnimationFrame(t.current),window.removeEventListener("resize",s),window.removeEventListener("scroll",s)}},[]),a.jsxs("div",{ref:e,"aria-hidden":!0,className:"pointer-events-none absolute inset-0 overflow-hidden",children:[a.jsx("div",{"data-orb":!0,className:"absolute -top-24 -left-24 h-72 w-72 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-mint)/0.6), transparent 60%)"}}),a.jsx("div",{"data-orb":!0,className:"absolute -top-16 right-0 h-96 w-96 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-purple)/0.55), transparent 60%)"}}),a.jsx("div",{"data-orb":!0,className:"absolute bottom-0 left-1/3 h-80 w-80 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-pink)/0.5), transparent 60%)"}})]})}function Zd(){return a.jsx("div",{className:"hero-wrapper",children:a.jsxs("section",{className:"hero-content",children:[a.jsx(na,{}),a.jsxs("div",{className:"container flex flex-col items-center text-center gap-6",children:[a.jsx("div",{className:"relative",children:a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-[11px] uppercase tracking-wider text-foreground/80 reveal","data-reveal":!0,children:[a.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gradient-to-r from-solana-mint via-solana-purple to-solana-pink"}),"Built for Solana | Pump.fun origins"]})}),a.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-[1.05] reveal","data-reveal":!0,children:["Stake"," ",a.jsx("span",{className:"text-gradient",children:a.jsx(Ma,{words:["NPC","N.P.C"]})}),".",a.jsx("br",{}),"Make your bags"," ",a.jsx("span",{className:"text-gradient",children:a.jsx(Ma,{words:["work","earn","grow"]})}),"."]}),a.jsx("p",{className:"max-w-2xl text-foreground/80 text-balance reveal","data-reveal":!0,children:"A magical, interactive staking experience for the NPC token on Solana. Lock in your tokens, earn dynamic rewards, and enjoy the show."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 reveal","data-reveal":!0,children:[a.jsx(ve,{asChild:!0,size:"lg",className:"btn-gradient shadow-lg shadow-fuchsia-500/20 w-full sm:w-auto",children:a.jsxs("a",{href:"#stake",className:"inline-flex items-center justify-center",children:["Start staking ",a.jsx(ko,{className:"ml-2"})]})}),a.jsx(ve,{asChild:!0,variant:"outline",size:"lg",className:"backdrop-blur glass w-full sm:w-auto",children:a.jsxs("a",{href:"#how",className:"inline-flex items-center justify-center",children:[a.jsx(un,{className:"mr-2"}),"See how it works"]})})]}),a.jsx("div",{className:"relative mt-8 w-full reveal","data-reveal":!0,children:a.jsx("div",{className:"glass gradient-border mx-auto max-w-4xl p-4 md:p-6",children:a.jsx(eu,{})})})]})]})})}function eu(){return a.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[a.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{backgroundImage:"radial-gradient(circle at 20% 20%, hsl(var(--solana-mint)/0.2), transparent 40%), radial-gradient(circle at 80% 20%, hsl(var(--solana-purple)/0.2), transparent 40%), radial-gradient(circle at 50% 80%, hsl(var(--solana-pink)/0.2), transparent 40%)"}}),a.jsx("div",{className:"relative grid grid-cols-2 md:grid-cols-4 gap-3",children:["Instant Unstake","Auto-Compound","No Lock Penalty","Boosted Epochs"].map((e,t)=>{const s={"Instant Unstake":jo,"Auto-Compound":Mo,"No Lock Penalty":Ao,"Boosted Epochs":Lo}[e]??un;return a.jsx(Ge,{className:"group glass gradient-border reveal","data-reveal":!0,children:a.jsx(Xe,{className:"p-4 md:p-5",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-transparent grid place-items-center",children:a.jsx(s,{className:"h-8 w-8 text-gradient",style:{color:"hsl(var(--solana-mint))"}})}),a.jsx("div",{className:"font-semibold text-lg",children:e})]})})},e)})}),a.jsx("div",{className:"absolute -inset-x-10 -bottom-10 h-24 bg-gradient-to-t from-primary/20 to-transparent"})]})}function tu(){return a.jsxs("section",{className:"relative mt-20 reveal","data-reveal":!0,children:[a.jsx(na,{}),a.jsx("div",{className:"container",children:a.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/5 px-3 py-1 text-xs border border-white/10 mb-4 reveal","data-reveal":!0,children:[a.jsx(ns,{className:"h-3.5 w-3.5"})," Built for Solana | Pump.fun origins"]}),a.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold leading-tight reveal","data-reveal":!0,children:"Stake NPC tokens and unlock exclusive games"}),a.jsx("p",{className:"mt-4 text-foreground/80 reveal","data-reveal":!0,children:"The more you stake, the more games you unlock. Start with Cyber Defense and Pop Pop, then unlock higher-tier games as your staking amount grows."}),a.jsx("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[{icon:a.jsx(es,{className:"h-4 w-4"}),text:"Secure Solana staking"},{icon:a.jsx(Za,{className:"h-4 w-4"}),text:"Dynamic rewards & APR"},{icon:a.jsx(Bo,{className:"h-4 w-4"}),text:"Auto-compound rewards"},{icon:a.jsx(un,{className:"h-4 w-4"}),text:"Unlock exclusive games"}].map(e=>a.jsxs("li",{className:"glass gradient-border flex items-center gap-2 px-3 py-2 reveal","data-reveal":!0,children:[a.jsx("span",{className:"text-gradient",children:e.icon}),a.jsx("span",{children:e.text})]},e.text))})]}),a.jsx("div",{className:"relative reveal","data-reveal":!0,children:a.jsx(Ge,{className:"glass gradient-border",children:a.jsx(Xe,{className:"p-0",children:a.jsx(nu,{})})})})]})})]})}function nu(){return a.jsxs("div",{className:"relative w-full h-full aspect-[4/3] overflow-hidden rounded-xl bg-black",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(255,255,255,.02),transparent_60%)]"}),a.jsx("div",{className:"absolute inset-0 grid place-items-center",children:a.jsx("video",{src:"https://cdn.builder.io/o/assets%2Fc36ad3bb9b384c0aadf72235a9675e8a%2F9d6cad34db9b4e0d8ecb6a1123f4015d?alt=media&token=a7353fb4-daeb-47b8-a4bb-8e6e5e143291&apiKey=c36ad3bb9b384c0aadf72235a9675e8a",poster:"https://cdn.builder.io/api/v1/image/assets%2Fc36ad3bb9b384c0aadf72235a9675e8a%2F714dc485ed014bea94b2b8a48ff73b33?format=webp&width=800",className:"min-w-full min-h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,"aria-hidden":!0})}),a.jsx("div",{className:"absolute inset-x-0 bottom-0 h-28 bg-gradient-to-t from-background to-transparent"})]})}function au(){return a.jsx("section",{id:"how",className:"relative mt-24 reveal","data-reveal":!0,children:a.jsxs("div",{className:"container",children:[a.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold text-center reveal","data-reveal":!0,children:"How it works"}),a.jsx("p",{className:"text-center text-foreground/80 mt-3 max-w-2xl mx-auto reveal","data-reveal":!0,children:"Stake NPC on Solana and earn rewards auto-compounded each epoch. Unstake anytime. Boost your yield with time-weighted multipliers."}),a.jsx("div",{className:"mt-10 grid gap-6 md:grid-cols-3",children:[{title:"Connect wallet",desc:"Works with popular Solana wallets.",icon:a.jsx(es,{})},{title:"Stake NPC",desc:"Choose amount and duration.",icon:a.jsx(ns,{})},{title:"Earn rewards",desc:"Watch your NPC grow with every epoch.",icon:a.jsx(Za,{})}].map(e=>a.jsx(Ge,{className:"group glass gradient-border hover:translate-y-[-2px] transition-transform reveal","data-reveal":!0,children:a.jsxs(Xe,{className:"p-6",children:[a.jsx("div",{className:"h-12 w-12 rounded-lg bg-transparent grid place-items-center",children:a.jsx("div",{className:"text-2xl font-bold text-gradient",children:e.title==="Connect wallet"?"🔗":e.title==="Earn rewards"?"💰":"⚡"})}),a.jsx("div",{className:"mt-4 font-semibold text-lg",children:e.title}),a.jsx("p",{className:"text-sm text-foreground/80",children:e.desc})]})},e.title))})]})})}function su(){const{poolData:e,userData:t,stakingDecimals:n,rewardDecimals:s}=Jt(),r=Br(e,t),i=r?.apy??0,o=e?`${qn(e.totalStaked??0,n,0,2)} NPC`:"0 NPC";r?.pendingUI;const l=e?e.rewardRatePerSec/Math.pow(10,s):0,m=l>=1?`${l.toFixed(2)} NPC/sec`:`${l.toFixed(6)} NPC/sec`;return a.jsxs("section",{id:"rewards",className:"relative mt-24 reveal","data-reveal":!0,children:[a.jsx(na,{}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"glass gradient-border p-6 md:p-8 reveal","data-reveal":!0,children:a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-extrabold",children:"Dynamic Rewards"}),a.jsx("p",{className:"text-foreground/80 mt-2",children:"APR adapts with epochs and community staking. The visuals reflect live motion."})]}),a.jsx(jn,{label:"Current APY",value:`${i.toFixed(2)}%`,trend:i>=0?"up":"down"}),a.jsx(jn,{label:"Total Staked",value:o,trend:e&&e.totalStaked>0?"up":"down"}),a.jsx(jn,{label:"Rewards / sec",value:m,trend:l>0?"up":"down"})]})})})]})}function jn({label:e,value:t,trend:n}){return a.jsxs("div",{className:"glass gradient-border p-4 reveal","data-reveal":!0,children:[a.jsx("div",{className:"text-sm text-foreground/80",children:e}),a.jsx("div",{className:"text-3xl font-extrabold mt-1",children:a.jsx("span",{className:"bg-[linear-gradient(90deg,hsl(var(--solana-mint)),hsl(var(--solana-purple)),hsl(var(--solana-pink)))] bg-clip-text text-transparent animate-shine bg-[length:200%_100%]",children:t})}),a.jsxs("div",{className:"text-xs mt-1 opacity-80",children:["Trend: ",n==="up"?"rising":"steady"]})]})}function ru(){const{walletAddress:e,connectWallet:t,poolData:n,userData:s,isLoading:r,error:i,stake:o,unstake:l,claim:m,stakingDecimals:d}=Jt(),{showSuccess:g,showError:h,showWarning:x}=Dr(),u=Br(n,s),[S,p]=c.useState(0),[v,A]=c.useState(!1),_=s&&d>=0?s.staked/Math.pow(10,d):0,j=Math.max(1e4,Math.min(1e6,_>0?Math.ceil(_*2):0));c.useEffect(()=>{S>j&&p(j)},[S,j]);const V=u?.pendingUI??0,H=`${(u?.apy??0).toFixed(2)}%`,te=s?`${qn(s.staked??0,d,0,2)} NPC`:"0 NPC",J=`${V.toFixed(6)} NPC`,ue=Number.isFinite(S)&&S>0,be=async()=>{if(console.log("🎯 HANDLE STAKE CLICKED!",{walletAddress:e,amount:S,poolData:n}),!e){x("Wallet Required","Please connect your wallet first");return}if(!n){x("Pool Not Ready","Pool is not initialized yet.");return}if(n.paused){x("Pool Paused","Pool is paused - staking is temporarily disabled");return}if(r){console.log("Transaction already in progress, ignoring click");return}if(!ue){x("Invalid Amount","Enter an amount greater than zero");return}try{console.log("🔄 CALLING STAKE FUNCTION WITH AMOUNT:",S),await o(S),console.log("✅ STAKE FUNCTION COMPLETED SUCCESSFULLY"),g("Staking Successful",`Your ${S.toLocaleString()} NPC stake request was submitted.`),p(0)}catch(ne){h("Staking Failed",ne instanceof Error?ne.message:"Unknown error occurred")}},ye=async()=>{if(!e){x("Wallet Required","Please connect your wallet first");return}if(r){console.log("Transaction already in progress, ignoring click");return}if(!ue){x("Invalid Amount","Enter an amount greater than zero");return}if(V>0){A(!0);return}if(_>0&&S>_){const ne=qn(s?.staked??0,d,0,2);x("Insufficient Staked Balance",`You only have ${ne} NPC available to unstake.`);return}try{await l(S),g("Unstaking Successful","Your tokens have been unstaked and rewards claimed!"),p(0)}catch(ne){h("Operation Failed",ne instanceof Error?ne.message:"Unknown error occurred")}},de=async()=>{A(!1);try{await l(S),g("Unstaking Successful","Your tokens have been unstaked and rewards claimed!"),p(0)}catch(ne){h("Operation Failed",ne instanceof Error?ne.message:"Unknown error occurred")}},Y=async()=>{if(!e){x("Wallet Required","Please connect your wallet first");return}if(r){console.log("Transaction already in progress, ignoring click");return}try{await m(),g("Rewards Claimed","Your rewards have been claimed successfully!")}catch(ne){h("Operation Failed",ne instanceof Error?ne.message:"Unknown error occurred")}},Ae=async()=>{try{await t(),g("Wallet Connected","Your wallet has been connected successfully!")}catch(ne){h("Connection Failed",ne instanceof Error?ne.message:"Failed to connect wallet")}};return a.jsxs("section",{id:"stake",className:"relative mt-24 reveal","data-reveal":!0,children:[a.jsx("div",{className:"container max-w-5xl",children:a.jsxs("div",{className:"glass gradient-border p-6 md:p-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-extrabold",children:"Stake"}),a.jsx("p",{className:"text-foreground/80",children:"Stake your NPC tokens instantly. No duration lock â€” unstake anytime."})]}),e?a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-foreground/70",children:"Wallet Connected"}),a.jsxs("div",{className:"font-mono font-semibold text-green-400",children:[e.slice(0,4),"...",e.slice(-4)]})]}):a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-foreground/70",children:"Connect wallet to start"}),a.jsx("div",{className:"font-mono font-semibold text-foreground/60",children:"Staking"})]})]}),e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6 items-center",children:[a.jsxs("div",{children:[a.jsx(ou,{children:"Amount (NPC)"}),a.jsx("div",{className:"mt-2",children:a.jsx(tr,{value:[S],min:0,max:j,step:1,onValueChange:ne=>p(Math.max(0,ne[0]??0))})}),a.jsxs("div",{className:"mt-1 text-sm opacity-80",children:[S.toLocaleString()," NPC"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 justify-end",children:[a.jsx(ve,{className:"btn-gradient w-full sm:w-auto",onClick:()=>{console.log("🔘 STAKE BUTTON CLICKED!",{isLoading:r,poolPaused:n?.paused,hasValidAmount:ue,amount:S,disabled:r||n?.paused||!ue}),be()},disabled:r||n?.paused||!ue,children:r?"Processing...":n?.paused?"Pool Paused":"Stake"}),a.jsx(ve,{variant:"outline",className:"glass w-full sm:w-auto",onClick:ye,disabled:r||!s||s.staked===0||!ue,children:"Unstake"}),a.jsx(ve,{variant:"secondary",className:"w-full sm:w-auto",onClick:Y,disabled:r||!u||u.pendingUI===0,children:"Claim Rewards"})]})]}),a.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-4",children:[a.jsx(Tn,{k:"APR",v:H}),a.jsx(Tn,{k:"Staked",v:te}),a.jsx(Tn,{k:"Rewards",v:J})]}),n?.paused&&a.jsx("div",{className:"mt-4 text-sm text-yellow-400 text-center",children:"Pool is paused - staking is temporarily disabled"}),i&&a.jsx("div",{className:"mt-6 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:i})]}):a.jsxs("div",{className:"mt-8 text-center py-8",children:[a.jsx("div",{className:"text-foreground/60 mb-4",children:"Connect your wallet to start staking"}),a.jsxs(ve,{className:"btn-gradient",onClick:Ae,children:[a.jsx(Nd,{className:"mr-2"}),"Connect Wallet"]})]})]})}),a.jsx(Sd,{open:v,onOpenChange:A,children:a.jsxs(vr,{className:"glass gradient-border",children:[a.jsxs(kr,{children:[a.jsx(Sr,{className:"text-gradient",children:"Confirm Unstaking"}),a.jsxs(Ar,{className:"text-foreground/80",children:["You have ",V.toFixed(6)," pending rewards.",a.jsx("br",{}),a.jsx("br",{}),"Unstaking will automatically claim these rewards first so you keep them.",a.jsx("br",{}),a.jsx("br",{}),"Do you want to continue?"]})]}),a.jsxs(Pr,{children:[a.jsx(jr,{className:"glass",onClick:()=>A(!1),children:"Cancel"}),a.jsx(Nr,{className:"btn-gradient",onClick:de,children:"Continue Unstaking"})]})]})})]})}function ou({children:e}){return a.jsx("div",{className:"text-xs uppercase tracking-wider opacity-80",children:e})}function Tn({k:e,v:t}){return a.jsxs("div",{className:"glass gradient-border p-4 text-center reveal","data-reveal":!0,children:[a.jsx("div",{className:"text-xs opacity-80",children:e}),a.jsx("div",{className:"text-xl font-semibold text-gradient",children:t})]})}function iu(){return a.jsx("section",{id:"faq",className:"relative mt-24 mb-20 reveal","data-reveal":!0,children:a.jsxs("div",{className:"container max-w-4xl",children:[a.jsx("h3",{className:"text-2xl font-extrabold text-center reveal","data-reveal":!0,children:"FAQ"}),a.jsxs("div",{className:"mt-6 grid gap-4",children:[a.jsx(Tt,{q:"Is this the official NPC staking?",a:"This is a next-generation landing and simulation experience for the NPC token on Solana."}),a.jsx(Tt,{q:"Can I unstake anytime?",a:"Yes. There's no penalty. Longer durations may unlock boost multipliers."}),a.jsx(Tt,{q:"Where did NPC launch?",a:"NPC was deployed on pump.fun and lives on the Solana blockchain."}),a.jsx(Tt,{q:"What is the NPC token?",a:"NPC is a Solana-based token that originated on pump.fun. You can view its current price and trading data on DexScreener."}),a.jsx(Tt,{q:"How do I get NPC tokens?",a:"You can purchase NPC tokens on Solana DEXs like Raydium, Jupiter, or directly on pump.fun. Always DYOR before investing."}),a.jsx(Tt,{q:"Is staking safe?",a:"This is a simulation platform for educational purposes. Always research any staking protocol thoroughly and never invest more than you can afford to lose."}),a.jsx(Tt,{q:"What games can I play?",a:"Games are unlocked based on your staking tier. Start with Cyber Defense and Pop Pop games. More games unlock with higher staking amounts."})]})]})})}function Tt({q:e,a:t}){return a.jsx(Ge,{className:"glass gradient-border reveal","data-reveal":!0,children:a.jsxs(Xe,{className:"p-6",children:[a.jsx("div",{className:"font-semibold",children:e}),a.jsx("p",{className:"text-sm text-foreground/80",children:t})]})})}const St=c.forwardRef(({className:e,type:t,...n},s)=>a.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));St.displayName="Input";var lu="Separator",La="horizontal",cu=["horizontal","vertical"],_r=c.forwardRef((e,t)=>{const{decorative:n,orientation:s=La,...r}=e,i=du(s)?s:La,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Rt.div,{"data-orientation":i,...l,...r,ref:t})});_r.displayName=lu;function du(e){return cu.includes(e)}var Lr=_r;const Or=c.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},r)=>a.jsx(Lr,{ref:r,decorative:n,orientation:t,className:ke("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Or.displayName=Lr.displayName;const kt=new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}),uu=e=>{if(!e)return"—";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}};function mu(){const{isAdmin:e,isLoading:t,error:n,poolData:s,stakingMint:r,stakingDecimals:i,rewardDecimals:o,initializePool:l,fetchPoolByMint:m,setStakingMint:d,setRewardConfig:g,addRewardTokens:h,setRewardRate:x,setPaused:u,withdrawRewards:S,setAdmin:p,ensureVaults:v,closePool:A,refreshData:_,checkRewardVaultBalance:j}=Jt(),{showSuccess:V,showError:H,showWarning:te,showInfo:J}=Dr(),[ue,be]=c.useState(r??""),[ye,de]=c.useState(""),[Y,Ae]=c.useState(""),[ne,w]=c.useState(""),[f,U]=c.useState(""),[k,N]=c.useState(""),[y,$]=c.useState(""),[D,L]=c.useState(null),[q,oe]=c.useState(!1);c.useEffect(()=>{be(r??"")},[r]),c.useEffect(()=>{let E=!1;return(async()=>{if(!s){L(null);return}oe(!0);try{const he=await j();E||L(he)}catch(he){console.error("Failed to fetch reward vault balance:",he)}finally{E||oe(!1)}})(),()=>{E=!0}},[s]);const ce=c.useMemo(()=>s?s.paused?{label:"Paused",tone:"secondary"}:{label:"Active",tone:"default"}:{label:"Not initialised",tone:"outline"},[s]),X=c.useMemo(()=>s?kt.format(s.totalStaked/Math.pow(10,i||0)):"—",[s,i]),B=c.useMemo(()=>{if(!s)return 0;const E=o??0;return s.rewardRatePerSec/Math.pow(10,E)},[s,o]),pe=c.useMemo(()=>!s||s.totalStaked<=0?0:s.rewardRatePerSec*31536e3/s.totalStaked*100,[s]),Ne=B*86400,I=pe>0?`${kt.format(pe)}%`:"—",Te=[{label:"0.5 tokens/sec (testing)",value:.5},{label:"0.01 tokens/sec (moderate)",value:.01},{label:"0.001 tokens/sec (low)",value:.001}];if(!e)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-6",children:a.jsx(Ge,{className:"max-w-md bg-black/40 border-white/10 text-center",children:a.jsxs(st,{children:[a.jsx(rt,{className:"text-2xl text-white",children:"Access restricted"}),a.jsx(ot,{className:"text-gray-300",children:"Connect with the configured admin wallet to manage the pool."})]})})});const Ke=async()=>{if(!ue.trim()){te("Missing mint","Enter a staking mint address to fetch.");return}try{d(ue.trim()),await m(ue.trim()),V("Pool loaded","Fetched on-chain pool information.")}catch(E){H("Fetch failed",E instanceof Error?E.message:"Unable to fetch pool data.")}},Qe=()=>{if(!ue.trim()){te("Missing mint","Enter a staking mint address to set.");return}const E=ue.trim();d(E),J("Staking mint updated","Context updated. Fetch the pool to load on-chain data.")},P=async()=>{if(!ue.trim()){te("Missing staking mint","Provide the staking mint address before initialising.");return}try{await l(ue.trim()),V("Pool initialised","Pool PDA and vault were created."),await _()}catch(E){H("Initialisation failed",E instanceof Error?E.message:"Unable to initialise pool.")}},b=async()=>{if(!s){te("Pool required","Initialise or fetch a pool first.");return}if(!ye.trim()||!Y.trim()){te("Missing data","Provide both reward mint and reward rate to configure rewards.");return}const E=Number(Y);if(!Number.isFinite(E)||E<=0){te("Invalid reward rate","Reward rate must be a positive number.");return}try{await g(ye.trim(),E),V("Rewards configured","Reward mint and base rate saved on-chain."),de(""),Ae(""),await _()}catch(ee){H("Configuration failed",ee instanceof Error?ee.message:"Unable to configure rewards.")}},O=async()=>{if(!s){te("Pool required","Initialise or fetch a pool first.");return}const E=Number(ne);if(!Number.isFinite(E)||E<=0){te("Invalid amount","Enter a positive amount to deposit.");return}try{await h(E),V("Vault funded","Tokens transferred into the reward vault successfully."),w(""),await _()}catch(ee){H("Funding failed",ee instanceof Error?ee.message:"Unable to add reward tokens.")}},C=async()=>{if(!s){te("Pool required","Initialise or fetch a pool first.");return}const E=Number(f);if(!Number.isFinite(E)||E<=0){te("Invalid rate","Enter a positive reward rate.");return}try{await x(E),V("Reward rate updated","New reward emission rate is live."),U(""),await _()}catch(ee){H("Update failed",ee instanceof Error?ee.message:"Unable to update reward rate.")}},R=async()=>{if(!s){te("Pool required","Initialise or fetch a pool first.");return}try{await u(!s.paused),V(s.paused?"Pool resumed":"Pool paused",s.paused?"Stakers can interact with the pool again.":"Pool is paused; staking operations are disabled."),await _()}catch(E){H("Status change failed",E instanceof Error?E.message:"Unable to toggle pool status.")}},z=async()=>{if(!s){te("Pool required","Initialise or fetch a pool first.");return}const E=Number(k);if(!Number.isFinite(E)||E<=0){te("Invalid amount","Enter a positive amount to withdraw.");return}try{await S(E),V("Rewards withdrawn","Tokens moved from the reward vault to the admin."),N(""),await _()}catch(ee){H("Withdrawal failed",ee instanceof Error?ee.message:"Unable to withdraw rewards.")}},M=async()=>{if(!y.trim()){te("Missing address","Enter a wallet to transfer admin to.");return}try{await p(y.trim()),V("Admin updated","Ownership transferred. Reload with the new wallet to continue."),$(""),await _()}catch(E){H("Transfer failed",E instanceof Error?E.message:"Unable to set new admin.")}},W=async()=>{if(window.confirm("Closing the pool is irreversible. This requires the pool to be empty and paused. Continue?"))try{await A(),V("Pool closed","Pool, signer PDA, and vaults were closed. Recreate to continue."),await _()}catch(E){H("Close failed",E instanceof Error?E.message:"Unable to close the pool.")}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/5",children:a.jsxs("div",{className:"container py-12 space-y-10",children:[a.jsxs("header",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-blue-500/10 rounded-2xl blur-3xl"}),a.jsxs("div",{className:"relative glass gradient-border p-8 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"⚡"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Admin Dashboard"}),a.jsx("p",{className:"text-foreground/80 text-lg",children:"Manage the staking pool directly from the admin wallet"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm font-medium text-green-300",children:ce.label})]}),r&&a.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30",children:a.jsxs("span",{className:"text-sm font-mono text-blue-300",children:["Mint: ",r.slice(0,4),"…",r.slice(-4)]})}),s?.poolAddress&&a.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30",children:a.jsxs("span",{className:"text-sm font-mono text-purple-300",children:["Pool: ",s.poolAddress.slice(0,4),"…",s.poolAddress.slice(-4)]})})]})]})]}),n&&a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-xl blur-sm"}),a.jsx(Ge,{className:"relative border-red-500/40 bg-red-500/10 backdrop-blur-sm",children:a.jsxs(st,{children:[a.jsxs(rt,{className:"text-red-100 flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:"⚠️"}),"On-chain error"]}),a.jsx(ot,{className:"text-red-200",children:n})]})})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs(Ge,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"🪙"}),"Current staking mint"]}),a.jsx(ot,{children:"Update the mint tracked in the UI and perform mint-related actions."})]}),a.jsxs(Xe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Mint in context"}),a.jsx("span",{className:"font-mono",children:r?`${r.slice(0,4)}…${r.slice(-4)}`:"—"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Pool PDA"}),a.jsx("span",{className:"font-mono",children:s?.poolAddress?`${s.poolAddress.slice(0,4)}…${s.poolAddress.slice(-4)}`:"—"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(St,{value:ue,onChange:E=>be(E.target.value),placeholder:"Enter staking mint address"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(ve,{variant:"secondary",onClick:Qe,disabled:t,children:"Set mint"}),a.jsx(ve,{variant:"outline",onClick:Ke,disabled:t,children:"Fetch pool"}),a.jsx(ve,{onClick:P,disabled:t,children:"Initialise pool"})]})]})]})]}),a.jsxs(Ge,{className:"lg:col-span-2 group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"📊"}),"Pool overview"]}),a.jsx(ot,{children:"Snapshot of the active pool (values shown in UI units)."})]}),a.jsx(Xe,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Total staked"}),a.jsx("span",{className:"font-medium",children:X})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Reward rate"}),a.jsx("span",{className:"font-medium",children:s?`${kt.format(B)} tokens/sec`:"—"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Reward mint"}),a.jsx("span",{className:"font-mono",children:s?.rewardMint?`${s.rewardMint.slice(0,4)}…${s.rewardMint.slice(-4)}`:"—"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Daily pool rewards"}),a.jsx("span",{className:"font-medium",children:s?`${kt.format(Ne)} tokens/day`:"—"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Current APY"}),a.jsx("span",{className:"font-medium",children:I})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Reward vault balance"}),a.jsx("span",{className:"font-medium",children:q?"Checking…":D!==null?`${kt.format(D)}`:"—"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-foreground/70",children:"Last update"}),a.jsx("span",{className:"font-medium",children:s?uu(s.lastUpdateTs):"—"})]})]})})]})]}),a.jsx(Or,{}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs(Ge,{className:"lg:col-span-2 group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"⚙️"}),"Configure rewards"]}),a.jsx(ot,{children:"Set up the reward mint and base emission rate. This should be done once per pool."})]}),a.jsxs(Xe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-foreground/80",children:"Reward mint address"}),a.jsx(St,{value:ye,onChange:E=>de(E.target.value),placeholder:"Enter reward mint"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-foreground/80",children:"Reward rate (per second)"}),a.jsx(St,{type:"number",value:Y,onChange:E=>Ae(E.target.value),placeholder:"e.g. 1000"})]})]}),a.jsx(ve,{onClick:b,disabled:t,className:"w-full sm:w-auto",children:"Save reward configuration"})]})]}),a.jsxs(Ge,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"💰"}),"Fund rewards"]}),a.jsx(ot,{children:"Deposit reward tokens into the pool signer vault."})]}),a.jsxs(Xe,{className:"space-y-4",children:[a.jsx(St,{type:"number",value:ne,onChange:E=>w(E.target.value),placeholder:"Amount in tokens"}),a.jsx(ve,{onClick:O,disabled:t,className:"w-full",children:"Fund reward vault"})]})]})]}),a.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ge,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"📈"}),"Update reward rate"]}),a.jsx(ot,{children:"Apply a new emission rate without changing the reward mint."})]}),a.jsxs(Xe,{className:"space-y-4",children:[a.jsx(St,{type:"number",value:f,onChange:E=>U(E.target.value),placeholder:"New reward rate per second"}),a.jsxs("div",{className:"space-y-2 rounded-lg border border-white/10 bg-white/5 p-4 text-xs text-foreground/80",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Current rate:"})," ",kt.format(B)," tokens/sec (",s?s.rewardRatePerSec:0," base units/sec)"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Pool generates:"})," ",kt.format(B)," tokens each second for all stakers."]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Daily emissions:"})," ",kt.format(Ne)," tokens/day total"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Current APY:"})," ",I]}),a.jsx("div",{children:"Your effective yield still depends on your share of the pool. A higher rate increases rewards for every staker."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-foreground/70",children:"Quick rate suggestions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Te.map(E=>a.jsx(ve,{variant:"outline",size:"sm",type:"button",onClick:()=>U(E.value.toString()),children:E.label},E.value))})]}),a.jsx(ve,{variant:"secondary",onClick:C,disabled:t,children:"Update reward rate"})]})]}),a.jsxs(Ge,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"💸"}),"Withdraw rewards"]}),a.jsx(ot,{children:"Move tokens from the reward vault back to the admin wallet."})]}),a.jsxs(Xe,{className:"space-y-4",children:[a.jsx(St,{type:"number",value:k,onChange:E=>N(E.target.value),placeholder:"Amount in tokens"}),a.jsx(ve,{variant:"outline",onClick:z,disabled:t,children:"Withdraw rewards"})]})]})]}),a.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ge,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"🎛️"}),"Pool controls"]}),a.jsx(ot,{children:"Pause or resume staking operations and perform maintenance."})]}),a.jsxs(Xe,{className:"space-y-3 space-x-3",children:[a.jsx(ve,{onClick:R,disabled:t,className:s?.paused?"btn-gradient":"bg-orange-500 hover:bg-orange-600",children:s?.paused?"Resume pool":"Pause pool"}),a.jsx(ve,{variant:"destructive",onClick:W,disabled:t,className:"mt-4",children:"Close pool"})]})]}),a.jsxs(Ge,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[a.jsxs(st,{children:[a.jsxs(rt,{className:"flex items-center gap-2 text-lg",children:[a.jsx("span",{className:"text-2xl",children:"👑"}),"Transfer admin"]}),a.jsx(ot,{children:"Assign pool administration privileges to another wallet."})]}),a.jsxs(Xe,{className:"space-y-4",children:[a.jsx(St,{value:y,onChange:E=>$(E.target.value),placeholder:"Admin wallet address"}),a.jsx(ve,{variant:"secondary",onClick:M,disabled:t,children:"Set new admin"})]})]})]})]})})}function fu({isGenerating:e=!1,startTime:t=Date.now()}){const n=c.useRef(null),s=c.useRef(null),[r,i]=c.useState(0),[o,l]=c.useState({isPlaying:!1,isPaused:!1,score:0,highScore:0,gameOver:!1,wave:1,lives:3}),[m,d]=c.useState(!1),g=c.useRef({x:400,y:300,angle:0}),h=c.useRef([]),x=c.useRef([]),u=c.useRef([]),S=c.useRef([]),p=c.useRef({x:400,y:300}),v=c.useRef(!1),A=c.useRef(0),_=c.useRef(0),j=c.useRef({type:"default",duration:0,fireRate:8,damage:1}),V=c.useRef(0),H=c.useRef(0);c.useEffect(()=>{const w=()=>{d(window.innerWidth<=768||"ontouchstart"in window)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),c.useEffect(()=>{if(!e){i(0);return}const w=setInterval(()=>{i(Math.floor((Date.now()-t)/1e3))},1e3);return()=>clearInterval(w)},[e,t]);const te=()=>e?r<20?"Initializing neural network...":r<40?"Processing style parameters...":r<60?"Generating card artwork...":r<80?"Finalizing details...":"Almost there...":"Ready to generate your epic card",J=e?Math.min(r/90*100,100):0,ue=c.useCallback(()=>{const w=n.current;w&&(g.current={x:w.width/2,y:w.height/2,angle:0}),h.current=[],x.current=[],u.current=[],S.current=[],A.current=0,_.current=0,H.current=0,j.current={type:"default",duration:0,fireRate:8,damage:1},V.current=0},[]),be=c.useCallback(w=>{const f=n.current;if(!f)return;const U=Math.floor(Math.random()*4);let k=0,N=0;switch(U){case 0:k=Math.random()*f.width,N=-30;break;case 1:k=f.width+30,N=Math.random()*f.height;break;case 2:k=Math.random()*f.width,N=f.height+30;break;case 3:k=-30,N=Math.random()*f.height;break}const y=["basic","basic","fast"];w>3&&y.push("heavy");const $=y[Math.floor(Math.random()*y.length)],D={x:k,y:N,size:$==="heavy"?25:$==="fast"?12:18,speed:$==="fast"?3:$==="heavy"?.8:1.5,angle:0,health:$==="heavy"?3:1,type:$,color:$==="heavy"?"#ff00ff":$==="fast"?"#ffff00":"#ff00ff"};h.current.push(D)},[]),ye=c.useCallback(()=>{if(A.current>0)return;const w=g.current,f=j.current,U=f.hasLaser?20:12;if(f.hasTriple)for(let k=-1;k<=1;k++){const N=w.angle+k*.2,y={x:w.x,y:w.y,vx:Math.cos(N)*U,vy:Math.sin(N)*U,lifetime:f.hasLaser?80:60,damage:f.damage,pierce:f.hasLaser||void 0,color:f.hasLaser?"#ff00ff":f.hasRapid?"#ffff00":"#00ffff"};x.current.push(y)}else if(f.hasLaser){const k={x:w.x,y:w.y,vx:Math.cos(w.angle)*U,vy:Math.sin(w.angle)*U,lifetime:80,damage:f.damage,pierce:!0,color:"#ff00ff"};x.current.push(k)}else{const k={x:w.x,y:w.y,vx:Math.cos(w.angle)*U,vy:Math.sin(w.angle)*U,lifetime:60,damage:f.damage,color:f.hasRapid?"#ffff00":"#00ffff"};x.current.push(k)}A.current=f.fireRate},[]),de=c.useCallback((w,f)=>{const U=["rapid","triple","laser","shield","bomb"],k=U[Math.floor(Math.random()*U.length)],N={rapid:"#ffff00",triple:"#00ff00",laser:"#ff00ff",shield:"#00ffff",bomb:"#ff0000"};S.current.push({x:w,y:f,type:k,lifetime:600,color:N[k],pulse:0})},[]),Y=c.useCallback((w,f,U)=>{for(let k=0;k<12;k++){const N=Math.PI*2*k/12,y=2+Math.random()*3;u.current.push({x:w,y:f,vx:Math.cos(N)*y,vy:Math.sin(N)*y,life:20+Math.random()*10,color:U})}},[]),Ae=c.useCallback(()=>{const w=n.current;if(!w)return;const f=w.getContext("2d");if(!f)return;f.fillStyle="rgba(10, 10, 15, 0.9)",f.fillRect(0,0,w.width,w.height),f.strokeStyle="rgba(0, 255, 255, 0.05)",f.lineWidth=1;for(let B=0;B<w.width;B+=40)f.beginPath(),f.moveTo(B,0),f.lineTo(B,w.height),f.stroke();for(let B=0;B<w.height;B+=40)f.beginPath(),f.moveTo(0,B),f.lineTo(w.width,B),f.stroke();const U=g.current;if(o.isPlaying&&!o.isPaused&&!o.gameOver){const B=p.current.x-U.x,pe=p.current.y-U.y;U.angle=Math.atan2(pe,B),v.current&&ye(),A.current>0&&A.current--,_.current++;const Ne=Math.max(20,80-o.wave*8);if(_.current%Ne===0&&(be(o.wave),o.wave>5&&Math.random()<.3&&be(o.wave)),H.current++,H.current%300===0&&Math.random()<.5){const I=n.current;I&&de(50+Math.random()*(I.width-100),50+Math.random()*(I.height-100))}j.current.duration>0&&(j.current.duration--,j.current.duration===0&&(j.current={type:"default",duration:0,fireRate:8,damage:1,hasRapid:!1,hasTriple:!1,hasLaser:!1})),V.current>0&&V.current--,x.current=x.current.filter(I=>(I.x+=I.vx,I.y+=I.vy,I.lifetime--,I.lifetime>0&&I.x>-10&&I.x<w.width+10&&I.y>-10&&I.y<w.height+10)),h.current=h.current.filter(I=>{const Te=U.x-I.x,Ke=U.y-I.y,Qe=Math.sqrt(Te*Te+Ke*Ke);if(I.angle=Math.atan2(Ke,Te),I.x+=Math.cos(I.angle)*I.speed,I.y+=Math.sin(I.angle)*I.speed,Qe<I.size+15)return V.current>0?(Y(I.x,I.y,"#00ffff"),V.current=0):(Y(I.x,I.y,I.color),l(P=>{const b=P.lives-1;return b<=0?{...P,lives:0,gameOver:!0,highScore:Math.max(P.score,P.highScore)}:{...P,lives:b}})),!1;for(let P=x.current.length-1;P>=0;P--){const b=x.current[P];if(Math.sqrt(Math.pow(b.x-I.x,2)+Math.pow(b.y-I.y,2))<I.size&&(I.health-=b.damage||1,b.pierce||x.current.splice(P,1),I.health<=0)){if(Y(I.x,I.y,I.color),b.pierce&&!b.hasRicocheted&&h.current.length>1){let C=null,R=1/0;if(h.current.forEach(z=>{if(z!==I){const M=Math.sqrt(Math.pow(z.x-I.x,2)+Math.pow(z.y-I.y,2));M<R&&(R=M,C=z)}}),C!==null){const z=Math.atan2(C.y-I.y,C.x-I.x),M={x:I.x,y:I.y,vx:Math.cos(z)*20,vy:Math.sin(z)*20,lifetime:40,damage:b.damage,pierce:!0,color:"#ffff00",hasRicocheted:!0};x.current.push(M)}}return Math.random()<.15&&de(I.x,I.y),l(C=>{const R=C.score+(I.type==="heavy"?30:I.type==="fast"?20:10),z=Math.floor(R/200)+1;return{...C,score:R,wave:z}}),!1}}return!0}),u.current=u.current.filter(I=>(I.x+=I.vx,I.y+=I.vy,I.vx*=.98,I.vy*=.98,I.life--,I.life>0)),S.current=S.current.filter(I=>{I.lifetime--,I.pulse+=.1;for(let Te=x.current.length-1;Te>=0;Te--){const Ke=x.current[Te],Qe=Ke.x-I.x,P=Ke.y-I.y;if(Math.sqrt(Qe*Qe+P*P)<20){switch(x.current.splice(Te,1),Y(I.x,I.y,I.color),I.type){case"rapid":j.current.hasRapid?j.current.duration=Math.max(j.current.duration,600):j.current={...j.current,type:"combined",duration:Math.max(j.current.duration,600),fireRate:Math.min(j.current.fireRate,3),damage:j.current.damage,hasRapid:!0};break;case"triple":j.current.hasTriple?j.current.duration=Math.max(j.current.duration,500):j.current={...j.current,type:"combined",duration:Math.max(j.current.duration,500),fireRate:j.current.hasRapid?j.current.fireRate:Math.max(j.current.fireRate,10),damage:j.current.damage,hasTriple:!0};break;case"laser":j.current.hasLaser?j.current.duration=Math.max(j.current.duration,400):j.current={...j.current,type:"combined",duration:Math.max(j.current.duration,400),damage:Math.max(j.current.damage,2),hasLaser:!0};break;case"shield":V.current=300;break;case"bomb":h.current.forEach(O=>{Y(O.x,O.y,"#ff0000")}),l(O=>({...O,score:O.score+h.current.length*5})),h.current=[];break}return!1}}return I.lifetime>0})}u.current.forEach(B=>{f.globalAlpha=B.life/30,f.fillStyle=B.color,f.fillRect(B.x-2,B.y-2,4,4)}),f.globalAlpha=1,h.current.forEach(B=>{if(f.save(),f.translate(B.x,B.y),f.rotate(B.angle),f.fillStyle=B.color,f.shadowBlur=15,f.shadowColor=B.color,B.type==="heavy"){f.beginPath();for(let pe=0;pe<6;pe++){const Ne=Math.PI*2*pe/6,I=Math.cos(Ne)*B.size,Te=Math.sin(Ne)*B.size;pe===0?f.moveTo(I,Te):f.lineTo(I,Te)}f.closePath(),f.fill()}else B.type==="fast"?(f.beginPath(),f.moveTo(B.size,0),f.lineTo(-B.size,-B.size*.7),f.lineTo(-B.size,B.size*.7),f.closePath(),f.fill()):(f.beginPath(),f.moveTo(B.size,0),f.lineTo(0,B.size),f.lineTo(-B.size,0),f.lineTo(0,-B.size),f.closePath(),f.fill());f.restore()}),S.current.forEach(B=>{f.save();const pe=1+Math.sin(B.pulse)*.2;if(f.translate(B.x,B.y),f.scale(pe,pe),f.rotate(B.pulse*.5),f.fillStyle=B.color,f.shadowBlur=20,f.shadowColor=B.color,B.type==="shield")f.beginPath(),f.moveTo(0,-12),f.lineTo(10,-5),f.lineTo(10,8),f.lineTo(0,12),f.lineTo(-10,8),f.lineTo(-10,-5),f.closePath(),f.fill();else if(B.type==="bomb")f.beginPath(),f.arc(0,0,10,0,Math.PI*2),f.fill(),f.fillRect(-2,-15,4,8);else{f.beginPath();for(let Ne=0;Ne<5;Ne++){const I=Math.PI*2*Ne/5-Math.PI/2,Te=Math.cos(I)*12,Ke=Math.sin(I)*12;Ne===0?f.moveTo(Te,Ke):f.lineTo(Te,Ke);const Qe=I+Math.PI/5,P=Math.cos(Qe)*6,b=Math.sin(Qe)*6;f.lineTo(P,b)}f.closePath(),f.fill()}f.restore()}),x.current.forEach(B=>{f.shadowBlur=10,f.shadowColor=B.color||"#00ffff",f.fillStyle=B.color||"#00ffff",B.pierce?f.fillRect(B.x-12,B.y-8,24,16):f.fillRect(B.x-3,B.y-3,6,6),f.globalAlpha=.3,f.fillRect(B.x-B.vx-2,B.y-B.vy-2,4,4),f.globalAlpha=1}),f.save(),f.translate(U.x,U.y),V.current>0&&(f.strokeStyle=`rgba(0, 255, 255, ${.3+Math.sin(Date.now()/100)*.2})`,f.lineWidth=2,f.shadowBlur=20,f.shadowColor="#00ffff",f.beginPath(),f.arc(0,0,25,0,Math.PI*2),f.stroke()),f.rotate(U.angle);let k="#00ffff";if(j.current.type==="combined"){const B=j.current.hasRapid&&j.current.hasTriple&&j.current.hasLaser,pe=(j.current.hasRapid?1:0)+(j.current.hasTriple?1:0)+(j.current.hasLaser?1:0)==2;B?k="#ffffff":pe?j.current.hasRapid&&j.current.hasTriple?k="#88ff00":j.current.hasRapid&&j.current.hasLaser?k="#ff88ff":j.current.hasTriple&&j.current.hasLaser&&(k="#88ff88"):j.current.hasLaser?k="#ff00ff":j.current.hasTriple?k="#00ff00":j.current.hasRapid&&(k="#ffff00")}f.fillStyle=k,f.shadowBlur=20,f.shadowColor=k,f.beginPath(),f.moveTo(15,0),f.lineTo(-10,-10),f.lineTo(-5,0),f.lineTo(-10,10),f.closePath(),f.fill(),f.fillStyle="#ffffff",f.shadowBlur=10,f.shadowColor="#ffffff",f.fillRect(-2,-3,6,6),f.restore(),o.isPlaying&&!o.isPaused&&(f.strokeStyle="rgba(255, 255, 255, 0.5)",f.lineWidth=2,f.beginPath(),f.arc(p.current.x,p.current.y,15,0,Math.PI*2),f.stroke(),f.beginPath(),f.moveTo(p.current.x-20,p.current.y),f.lineTo(p.current.x-10,p.current.y),f.moveTo(p.current.x+10,p.current.y),f.lineTo(p.current.x+20,p.current.y),f.moveTo(p.current.x,p.current.y-20),f.lineTo(p.current.x,p.current.y-10),f.moveTo(p.current.x,p.current.y+10),f.lineTo(p.current.x,p.current.y+20),f.stroke());const N=window.devicePixelRatio||1,y=w.width<=400,$=y?w.width:w.width/N,D=y?w.height:w.height/N,L=8,q=D-(y?80:50),oe=$-(y?40:60),ce=y?20:30;if(f.fillStyle="rgba(0, 0, 0, 0.7)",f.fillRect(ce-2,q-2,oe+4,L+4),f.strokeStyle="rgba(0, 255, 255, 0.3)",f.lineWidth=1,f.strokeRect(ce-2,q-2,oe+4,L+4),e&&J>0){const B=oe*J/100,pe=f.createLinearGradient(ce,0,ce+B,0);pe.addColorStop(0,"#00ffff"),pe.addColorStop(.5,"#ff00ff"),pe.addColorStop(1,"#00ff00"),f.fillStyle=pe,f.fillRect(ce,q,B,L);const Ne=.3+Math.sin(Date.now()/200)*.3;f.shadowBlur=20,f.shadowColor=`rgba(0, 255, 255, ${Ne})`,f.fillRect(ce+B-2,q,2,L),f.shadowBlur=0}f.fillStyle="#00ffff",f.font=y?"14px monospace":"12px monospace",f.textAlign="center";const X=$/2;if(e){f.fillText(te(),X,q-(y?15:10)),f.fillStyle="rgba(255, 255, 255, 0.9)",f.font=y?"16px monospace":"12px monospace",f.fillText(`${Math.floor(J)}%`,X,q+L+(y?25:20)),f.fillStyle="rgba(0, 255, 255, 0.8)",f.font=y?"14px monospace":"10px monospace";const B=Math.max(0,90-r),pe=Math.floor(B/60),Ne=B%60,I=B>0?`ETA: ${pe}:${Ne.toString().padStart(2,"0")}`:"Finalizing...";f.fillText(I,X,q+L+(y?45:35))}else f.fillText("Ready to generate",X,q-(y?15:10));s.current=requestAnimationFrame(Ae)},[o,ye,be,Y,de,e,r,J,te]);c.useEffect(()=>{const w=n.current;if(!w)return;const f=()=>{const N=w.parentElement;if(N){const y=N.getBoundingClientRect(),$=m?400:800,D=m?500:600,L=Math.min(y.width*.9,$),q=Math.min(y.height*.84,D),oe=Math.max(400,Math.min(L,$)),ce=Math.max(500,Math.min(q,D));w.width=Math.floor(oe),w.height=Math.floor(ce);const X=window.devicePixelRatio||1;if(X>1&&!m){w.width*=X,w.height*=X,w.style.width=oe+"px",w.style.height=ce+"px";const B=w.getContext("2d");B&&B.scale(X,X)}g.current.x=w.width/(X>1&&!m?X:1)/2,g.current.y=w.height/(X>1&&!m?X:1)/2}};f();let U;const k=()=>{clearTimeout(U),U=setTimeout(f,100)};return window.addEventListener("resize",k),s.current=requestAnimationFrame(Ae),()=>{window.removeEventListener("resize",k),clearTimeout(U),s.current&&cancelAnimationFrame(s.current)}},[Ae]),c.useEffect(()=>{const w=n.current;if(!w)return;const f=D=>{const L=w.getBoundingClientRect(),q=window.devicePixelRatio||1,oe=w.width<=400?1:q;p.current={x:(D.clientX-L.left)*(w.width/L.width/oe),y:(D.clientY-L.top)*(w.height/L.height/oe)}},U=D=>{D.preventDefault();const L=w.getBoundingClientRect(),q=D.touches[0],oe=window.devicePixelRatio||1,ce=w.width<=400?1:oe;p.current={x:(q.clientX-L.left)*(w.width/L.width/ce),y:(q.clientY-L.top)*(w.height/L.height/ce)}},k=()=>{v.current=!0},N=()=>{v.current=!1},y=D=>{D.preventDefault();const L=w.getBoundingClientRect(),q=D.touches[0],oe=window.devicePixelRatio||1,ce=w.width<=400?1:oe;p.current={x:(q.clientX-L.left)*(w.width/L.width/ce),y:(q.clientY-L.top)*(w.height/L.height/ce)},v.current=!0},$=()=>{v.current=!1};return w.addEventListener("mousemove",f),w.addEventListener("mousedown",k),w.addEventListener("mouseup",N),w.addEventListener("mouseleave",N),w.addEventListener("touchmove",U),w.addEventListener("touchstart",y),w.addEventListener("touchend",$),()=>{w.removeEventListener("mousemove",f),w.removeEventListener("mousedown",k),w.removeEventListener("mouseup",N),w.removeEventListener("mouseleave",N),w.removeEventListener("touchmove",U),w.removeEventListener("touchstart",y),w.removeEventListener("touchend",$)}},[]);const ne=()=>{ue(),l({isPlaying:!0,isPaused:!1,score:0,highScore:o.highScore,gameOver:!1,wave:1,lives:3})};return a.jsx("div",{className:"w-full h-full max-w-7xl mx-auto",children:a.jsxs("div",{className:"h-full flex flex-col bg-cyber-dark/90 backdrop-blur-sm rounded-lg border border-cyber-cyan/20 p-2 sm:p-4 max-h-[96vh]",children:[a.jsxs("div",{className:"flex justify-center items-center mb-2 gap-2 sm:gap-4 md:gap-6",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-cyan/60 font-mono uppercase tracking-wider",children:"SCORE"}),a.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-cyan",children:o.score.toString().padStart(4,"0")})]}),a.jsx("div",{className:"text-cyber-cyan/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-purple/60 font-mono uppercase tracking-wider",children:"WAVE"}),a.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-purple",children:o.wave.toString().padStart(2,"0")})]}),a.jsx("div",{className:"text-cyber-cyan/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-pink/60 font-mono uppercase tracking-wider",children:"LIVES"}),a.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-pink",children:"❤".repeat(o.lives)})]})]}),a.jsxs("div",{className:"relative flex-1 flex items-center justify-center max-h-[72vh]",children:[a.jsx("canvas",{ref:n,className:`bg-cyber-black rounded touch-none select-none w-full h-full ${o.isPlaying&&!o.isPaused?m?"cursor-none":"cursor-crosshair":"cursor-default"}`,style:{imageRendering:"pixelated",maxWidth:"100%",maxHeight:"100%"}}),!o.isPlaying&&!o.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cyber-dark/95 rounded backdrop-blur-sm px-4",children:[a.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-cyber-cyan mb-2 font-mono uppercase tracking-wider text-center",children:e?"Your Card is Being Generated":"Cyber Defense"}),e?a.jsx("p",{className:"text-gray-400 mb-6 font-mono text-sm text-center",children:"Defend the system while you wait!"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("p",{className:"text-gray-400 mb-2 font-mono text-sm text-center",children:"Move mouse to aim"}),a.jsx("p",{className:"text-gray-400 mb-6 font-mono text-sm text-center",children:"Click to shoot"})]}),a.jsx("div",{className:"block sm:hidden mb-6",children:a.jsx("p",{className:"text-gray-400 font-mono text-sm text-center",children:"Touch to aim and shoot"})})]}),a.jsx("button",{onClick:ne,className:"min-h-[48px] px-6 sm:px-8 py-3 border-2 border-cyber-green text-cyber-green bg-transparent font-bold font-mono uppercase tracking-wider rounded-lg hover:bg-cyber-green/10 active:bg-cyber-green/20 transition-all duration-300 touch-manipulation text-sm sm:text-base",children:"Start Game"}),a.jsx("div",{className:"absolute bottom-[20px] sm:bottom-[60px] left-[20px] sm:left-[40px] right-[20px] sm:right-[40px]",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-[8px] border border-cyber-cyan/30",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:e&&J>0&&a.jsx("div",{className:"h-full",style:{width:`${J}%`,background:"linear-gradient(to right, #00ffff, #ff00ff, #00ff00)"}})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-cyber-cyan text-xs font-mono mt-[-30px] mb-1",children:e?te():"Ready to generate"}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-white/70 text-[10px] font-mono mt-[28px]",children:[Math.floor(J),"%"]}),a.jsxs("p",{className:"text-white/70 text-[10px] font-mono mt-[8px]",children:["ETA: ",Math.floor(Math.max(0,90-r)/60),":",(Math.max(0,90-r)%60).toString().padStart(2,"0")]})]})]})]})})]}),o.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cyber-dark/95 rounded backdrop-blur-sm px-4",children:[a.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-cyber-pink mb-2 font-mono uppercase tracking-wider animate-pulse text-center",children:"System Breached!"}),a.jsxs("p",{className:"text-cyber-cyan text-lg sm:text-xl mb-2 font-mono text-center",children:["Score: ",o.score]}),a.jsxs("p",{className:"text-cyber-purple mb-4 font-mono text-center",children:["Wave: ",o.wave]}),o.score===o.highScore&&o.score>0&&a.jsx("p",{className:"text-cyber-yellow mb-4 font-mono uppercase tracking-wider text-center text-sm sm:text-base",children:"New High Score!"}),a.jsx("button",{onClick:ne,className:"min-h-[48px] px-6 sm:px-8 py-3 border-2 border-cyber-green text-cyber-green bg-transparent font-bold font-mono uppercase tracking-wider rounded-lg hover:bg-cyber-green/10 active:bg-cyber-green/20 transition-all duration-300 touch-manipulation text-sm sm:text-base",children:"Restart Defense"})]}),o.isPaused&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded",children:a.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:"PAUSED"})})]}),!e&&a.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-500 mt-2 px-2",children:[a.jsx("span",{className:"hidden sm:inline",children:"Move: Mouse"}),a.jsx("span",{className:"sm:hidden",children:"Touch to play"}),a.jsx("span",{className:"hidden sm:inline",children:"Shoot: Click"}),a.jsx("span",{className:"sm:hidden",children:"Drag to aim"})]})]})})}const Pt=[{name:"Red",color:"#ff6b6b",emoji:"🔴"},{name:"Blue",color:"#4ecdc4",emoji:"🔵"},{name:"Green",color:"#96ceb4",emoji:"🟢"},{name:"Yellow",color:"#feca57",emoji:"🟡"},{name:"Purple",color:"#a55eea",emoji:"🟣"},{name:"Orange",color:"#ff6348",emoji:"🟠"},{name:"Pink",color:"#ff9ff3",emoji:"🩷"},{name:"Cyan",color:"#45b7d1",emoji:"🔷"}];function hu(){const e=c.useRef(null),t=c.useRef(null),n=c.useRef(0),s=c.useRef({x:0,y:0}),r=typeof window<"u"&&window.innerWidth<=768,[i,o]=c.useState({isPlaying:!1,isPaused:!1,score:0,highScore:0,gameOver:!1,level:1,lives:3,target:1e3,timeLeft:60,combo:0,multiplier:1,currentPrompt:"Pop only RED balloons!",promptColor:"Red",streak:0}),[l,m]=c.useState([]),[d,g]=c.useState([]),[h,x]=c.useState([]),[u,S]=c.useState(null),[p,v]=c.useState(!1),[A,_]=c.useState(0),[j,V]=c.useState(0),H=r?40:30,te=r?1500:1e3;c.useCallback((w,f)=>{const U=Pt[Math.floor(Math.random()*Pt.length)],k=1+Math.random()*2;return{id:`${w}-${f}-${Date.now()}`,x:w,y:f,vx:(Math.random()-.5)*2,vy:k,radius:H,color:U.color,colorName:U.name,emoji:U.emoji,isPopped:!1,isAnimating:!1,animationTime:0,fallSpeed:k}},[]);const J=c.useCallback((w,f,U)=>({id:`${w}-${f}-${Date.now()}`,x:w,y:f,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10,life:30,maxLife:30,color:U,size:Math.random()*4+2}),[]);c.useCallback((w,f)=>{const U=["multiplier","freeze","magnet","explosion"],k=U[Math.floor(Math.random()*U.length)];return{id:`${w}-${f}-${Date.now()}`,x:w,y:f,type:k,life:300,isActive:!1}},[]);const ue=c.useCallback(()=>{const w=Pt[Math.floor(Math.random()*Pt.length)];o(f=>({...f,currentPrompt:`Pop only ${w.name.toUpperCase()} balloons!`,promptColor:w.name}))},[]),be=c.useCallback(()=>{m([]),ue()},[ue]),ye=c.useCallback(()=>{const w=e.current;if(!w)return;const f=Math.random()*(w.width-H*2)+H,k=Math.random()<.7?Pt.find(y=>y.name===i.promptColor)??Pt[0]:Pt[Math.floor(Math.random()*Pt.length)],N={id:`${f}-${-H}-${Date.now()}`,x:f,y:-H,vx:(Math.random()-.5)*2,vy:1+Math.random()*2,radius:H,color:k.color,colorName:k.name,emoji:k.emoji,isPopped:!1,isAnimating:!1,animationTime:0,fallSpeed:1+Math.random()*2};m(y=>[...y,N])},[i.promptColor]),de=c.useCallback((w,f)=>{const U=[];for(let y=0;y<12;y++)U.push(J(w.x,w.y,w.color));g(y=>[...y,...U]),m(y=>y.filter($=>$.id!==w.id));let k=0,N=0;f?(k=10+i.streak*5,N=1,Math.random()<.3&&ue()):(k=-5,N=-i.streak,o(y=>({...y,lives:y.lives-1,streak:0}))),o(y=>{const $=Math.max(0,y.score+k),D=Math.max(0,y.streak+N);return{...y,score:$,streak:D,highScore:Math.max(y.highScore,$)}})},[i.streak,J,ue]),Y=()=>{be(),o(w=>({...w,isPlaying:!0,isPaused:!1,score:0,gameOver:!1,level:1,lives:3,target:1e3,timeLeft:60,combo:0,multiplier:1,streak:0})),V(0)},Ae=()=>{o(w=>({...w,isPaused:!w.isPaused}))},ne=c.useCallback(w=>{if(!i.isPlaying||i.isPaused){t.current=requestAnimationFrame(ne);return}const f=e.current;if(!f)return;const U=w-n.current;n.current=w,i.timeLeft>0?o(N=>({...N,timeLeft:N.timeLeft-U/1e3})):o(N=>({...N,isPlaying:!1,gameOver:!0})),i.lives<=0&&o(N=>({...N,isPlaying:!1,gameOver:!0})),V(N=>{const y=N+U;return y>=te?(ye(),0):y}),m(N=>N.map(y=>{if(y.isPopped)return y;let $=y.x+y.vx;const D=y.y+y.vy,L=e.current;if(!L)return y;if($=Math.max(H,Math.min(L.width-H,$)),D>L.height+H)return{...y,isPopped:!0};const q=(Math.random()-.5)*.5;return $=Math.max(H,Math.min(L.width-H,$+q)),{...y,x:$,y:D}}).filter(y=>!y.isPopped)),g(N=>N.map(y=>({...y,x:y.x+y.vx,y:y.y+y.vy,vy:y.vy+.1,life:y.life-1})).filter(y=>y.life>0)),x(N=>N.map(y=>({...y,life:y.life-1})).filter(y=>y.life>0));const k=f.getContext("2d");if(k){k.save(),k.beginPath(),k.rect(0,0,f.width,f.height),k.clip();const N=k.createLinearGradient(0,0,0,f.height);N.addColorStop(0,"#1a1a2e"),N.addColorStop(1,"#16213e"),k.fillStyle=N,k.fillRect(0,0,f.width,f.height),k.fillStyle="rgba(255, 255, 255, 0.1)";for(let y=0;y<50;y++){const $=y*7%f.width,D=y*11%f.height;k.fillRect($,D,1,1)}l.forEach(y=>{if(y.isPopped)return;const $=y.x,D=y.y,L=y.radius;if($<-L||$>f.width+L||D<-L||D>f.height+L)return;k.fillStyle="rgba(0, 0, 0, 0.3)",k.beginPath(),k.arc($+3,D+3,L,0,Math.PI*2),k.fill();const q=k.createRadialGradient($-L/3,D-L/3,0,$,D,L);q.addColorStop(0,"rgba(255, 255, 255, 0.9)"),q.addColorStop(.6,y.color),q.addColorStop(1,y.color+"CC"),k.fillStyle=q,k.beginPath(),k.arc($,D,L,0,Math.PI*2),k.fill(),k.fillStyle="rgba(255, 255, 255, 0.7)",k.beginPath(),k.arc($-L/3,D-L/3,L/3,0,Math.PI*2),k.fill(),k.strokeStyle="#8B4513",k.lineWidth=2,k.beginPath(),k.moveTo($,D+L),k.lineTo($+5,D+L+15),k.stroke(),k.font="20px Arial",k.textAlign="center",k.fillText(y.emoji,$,D+7)}),d.forEach(y=>{const $=y.life/y.maxLife;k.fillStyle=y.color+Math.floor($*255).toString(16).padStart(2,"0"),k.beginPath(),k.arc(y.x,y.y,y.size,0,Math.PI*2),k.fill()}),h.forEach(y=>{const $=y.x,D=y.y;k.fillStyle="#ffff00",k.beginPath(),k.arc($,D,15,0,Math.PI*2),k.fill(),k.fillStyle="#000000",k.font="12px Arial",k.textAlign="center",k.fillText("⚡",$,D+4)}),k.fillStyle="rgba(0, 0, 0, 0.7)",k.fillRect(10,10,f.width-20,60),k.fillStyle="#ffffff",k.font="bold 24px Arial",k.textAlign="center",k.fillText(i.currentPrompt,f.width/2,40),i.streak>0&&(k.fillStyle="#ffff00",k.font="bold 18px Arial",k.textAlign="left",k.fillText(`STREAK: ${i.streak}`,20,f.height-20)),k.restore()}t.current=requestAnimationFrame(ne)},[i,l,d,h,ye]);return c.useEffect(()=>{const w=e.current;if(!w)return;const f=()=>{const U=w.parentElement;if(U){const k=U.getBoundingClientRect();let N=k.width,y=k.height;const $=Math.min(k.width*.95,r?400:1200),D=Math.min(k.height*.84,r?600:720);N=Math.min(N,$),y=Math.min(y,D);const L=N<=400;L&&(N=Math.max(N,350),y=Math.max(y,500)),w.width=Math.floor(N),w.height=Math.floor(y);const q=window.devicePixelRatio||1;if(q>1&&!L){w.width*=q,w.height*=q,w.style.width=N+"px",w.style.height=y+"px";const oe=w.getContext("2d");oe&&oe.scale(q,q)}}};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),c.useEffect(()=>{const w=e.current;if(!w)return;const f=N=>{const y=w.getBoundingClientRect(),$=window.devicePixelRatio||1,D=w.width<=400?1:$;s.current={x:(N.clientX-y.left)*(w.width/y.width/D),y:(N.clientY-y.top)*(w.height/y.height/D)}},U=N=>{if(!i.isPlaying||i.isPaused)return;const y=w.getBoundingClientRect(),$=window.devicePixelRatio||1,D=w.width<=400?1:$,L=(N.clientX-y.left)*(w.width/y.width/D),q=(N.clientY-y.top)*(w.height/y.height/D);m(oe=>{for(const ce of oe){if(ce.isPopped)continue;const X=L-ce.x,B=q-ce.y;if(Math.hypot(X,B)<=ce.radius){const pe=ce.colorName===i.promptColor;de(ce,pe),ce.isPopped=!0;break}}return oe.filter(ce=>!ce.isPopped)})},k=N=>{if(!i.isPlaying||i.isPaused)return;N.preventDefault();const y=w.getBoundingClientRect(),$=window.devicePixelRatio||1,D=w.width<=400?1:$,L=N.touches[0],q=(L.clientX-y.left)*(w.width/y.width/D),oe=(L.clientY-y.top)*(w.height/y.height/D);m(ce=>{for(const X of ce){if(X.isPopped)continue;const B=q-X.x,pe=oe-X.y;if(Math.hypot(B,pe)<=X.radius){const Ne=X.colorName===i.promptColor;de(X,Ne),X.isPopped=!0;break}}return ce.filter(X=>!X.isPopped)})};return w.addEventListener("mousemove",f),w.addEventListener("click",U),w.addEventListener("touchstart",k,{passive:!1}),()=>{w.removeEventListener("mousemove",f),w.removeEventListener("click",U),w.removeEventListener("touchstart",k)}},[i.isPlaying,i.isPaused,l,J,ue]),c.useEffect(()=>(i.isPlaying&&!i.isPaused&&(t.current=requestAnimationFrame(ne)),()=>{t.current&&cancelAnimationFrame(t.current)}),[ne,i.isPlaying,i.isPaused]),a.jsx("div",{className:"w-full h-full max-w-7xl mx-auto",children:a.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900 backdrop-blur-sm rounded-lg border border-blue-500/20 p-2 sm:p-4 max-h-[96vh]",children:[a.jsxs("div",{className:`flex justify-center items-center mb-2 gap-1 sm:gap-2 md:gap-4 ${r?"flex-wrap":""}`,children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-blue-400/60 font-mono uppercase tracking-wider",children:"SCORE"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-blue-400",children:i.score.toString().padStart(6,"0")})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-purple-400/60 font-mono uppercase tracking-wider",children:"LEVEL"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-purple-400",children:i.level.toString().padStart(2,"0")})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-pink-400/60 font-mono uppercase tracking-wider",children:"LIVES"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-pink-400",children:i.lives})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-green-400/60 font-mono uppercase tracking-wider",children:"TARGET"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-green-400",children:i.target})]}),a.jsx("div",{className:"text-blue-400/30",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-yellow-400/60 font-mono uppercase tracking-wider",children:"TIME"}),a.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-yellow-400",children:Math.ceil(i.timeLeft)})]})]}),a.jsxs("div",{className:"relative flex-1 flex items-center justify-center max-h-[72vh]",children:[a.jsx("canvas",{ref:e,className:`bg-black rounded touch-none select-none w-full h-full ${i.isPlaying&&!i.isPaused?r?"cursor-none":"cursor-crosshair":"cursor-default"}`,style:{imageRendering:"pixelated",maxWidth:"100%",maxHeight:"100%",touchAction:"none",userSelect:"none"}}),!i.isPlaying&&!i.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 backdrop-blur-sm rounded",children:[a.jsx("h1",{className:`font-bold text-white mb-4 text-center ${r?"text-3xl":"text-4xl md:text-6xl"}`,children:"🫧 POP POP"}),a.jsx("p",{className:`text-gray-300 mb-2 text-center ${r?"text-base":"text-lg md:text-xl"}`,children:r?"Tap balloons to pop them!":"Click on balloons to pop them!"}),a.jsx("p",{className:`text-gray-300 mb-8 text-center ${r?"text-sm":"text-lg md:text-xl"}`,children:"Only pop the color shown in the prompt - wrong colors cost lives!"}),a.jsx("button",{onClick:Y,className:`bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-colors duration-200 border-2 border-blue-400 ${r?"px-6 py-3 text-lg":"px-8 py-4 text-xl"}`,children:"START POPPING"})]}),i.gameOver&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-900/50 backdrop-blur-sm rounded",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-red-400 mb-4 text-center",children:"💥 GAME OVER"}),a.jsxs("p",{className:"text-2xl md:text-3xl text-white mb-2",children:["Final Score: ",i.score]}),a.jsxs("p",{className:"text-lg md:text-xl text-gray-300 mb-8",children:["High Score: ",i.highScore]}),a.jsx("button",{onClick:Y,className:"px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-bold text-xl rounded-lg transition-colors duration-200 border-2 border-red-400",children:"PLAY AGAIN"})]}),i.isPaused&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-blue-900/50 backdrop-blur-sm rounded",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-blue-400 mb-8 text-center",children:"⏸️ PAUSED"}),a.jsx("button",{onClick:Ae,className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold text-xl rounded-lg transition-colors duration-200 border-2 border-blue-400",children:"RESUME GAME"})]}),i.isPlaying&&!i.isPaused&&a.jsxs("div",{className:`absolute bottom-4 left-4 right-4 flex justify-between items-center text-white ${r?"text-xs":"text-sm"}`,children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{children:r?"Tap balloons to pop":"Click balloons to pop"})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{children:"Follow the prompt!"})})]})]})]})})}const En=[{id:"cyber-defense",name:"Cyber Defence",description:"Defend your base from incoming cyber attacks in this tower defense game",icon:"🛡️",component:fu,isAvailable:!0,stakingRequirement:1e10,tier:1},{id:"pop-pop",name:"Pop Pop",description:"Click the right colored balloons as they fall! Follow the prompts and avoid wrong colors to build your streak",icon:"🫧",component:hu,isAvailable:!0,stakingRequirement:1e10,tier:1}];function gu(){const[e,t]=c.useState(null),{userData:n,stakingDecimals:s}=Jt(),r=d=>{t(d)},i=()=>{t(null)},o=n?.staked||0;console.log("🎮 Games Section Debug:",{userStakedAmount:o,stakingDecimals:s,userStakedFormatted:o/Math.pow(10,s),games:En.map(d=>({name:d.name,requirement:d.stakingRequirement,requirementFormatted:d.stakingRequirement/Math.pow(10,s),canAccess:o>=d.stakingRequirement}))});const l=d=>d.isAvailable?o>=d.stakingRequirement:!1,m=d=>s>0?(d/Math.pow(10,s)).toLocaleString():d.toLocaleString();if(e){const d=En.find(g=>g.id===e);if(d&&l(d)){const g=d.component;return a.jsxs("div",{children:[a.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"text-2xl",children:d.icon}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:d.name})]})})}),a.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-6",children:a.jsx(g,{})})]})}else if(d&&!l(d))return a.jsxs("div",{children:[a.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"text-2xl",children:d.icon}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:d.name})]})}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-6 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Restricted"}),a.jsxs("p",{className:"text-gray-300 mb-6",children:["You need to stake at least ",a.jsxs("span",{className:"font-bold text-yellow-400",children:[m(d.stakingRequirement)," tokens"]})," to access this game."]}),a.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-yellow-400 text-sm",children:["Current staked: ",a.jsxs("span",{className:"font-bold",children:[s>0?(o/Math.pow(10,s)).toLocaleString():o.toLocaleString()," tokens"]})]})})]})]})}return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"🎮 Games Hub"}),a.jsx("p",{className:"text-gray-300 text-sm md:text-base",children:"Choose your adventure and earn rewards while playing!"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-lg p-4 mb-6",children:[a.jsx("h2",{className:"text-lg font-bold text-white mb-3",children:"🎯 Game Access"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:"🔒"}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Locked"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Less than 10,000 tokens"}),a.jsx("p",{className:"text-xs text-red-400",children:"No game access"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:"🎮"}),a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Unlocked"}),a.jsx("p",{className:"text-sm text-gray-300",children:"10,000+ tokens"}),a.jsx("p",{className:"text-xs text-green-400",children:"All Games Available"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6",children:En.map(d=>{const g=l(d);return a.jsx("div",{className:`bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 md:p-6 transition-all duration-200 ${g?"hover:bg-white/5 hover:border-white/20 cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>g&&r(d.id),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl md:text-6xl mb-3 md:mb-4",children:d.icon}),a.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-2",children:d.name}),a.jsx("p",{className:"text-gray-300 text-sm mb-4",children:d.description}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Staking Required"}),a.jsxs("div",{className:"text-sm font-semibold text-yellow-400",children:[m(d.stakingRequirement)," tokens"]})]}),d.isAvailable?g?a.jsx("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:a.jsx("span",{className:"text-xs md:text-sm",children:"✅ Available"})}):a.jsx("div",{className:"flex items-center justify-center space-x-2 text-red-400",children:a.jsx("span",{className:"text-xs md:text-sm",children:"🔒 Locked"})}):a.jsx("div",{className:"flex items-center justify-center space-x-2 text-yellow-400",children:a.jsx("span",{className:"text-xs md:text-sm",children:"🚧 Coming Soon"})}),d.isAvailable&&!g&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,o/d.stakingRequirement*100)}%`}})}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Math.round(o/d.stakingRequirement*100),"% to unlock"]})]})]})},d.id)})}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 md:p-6",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4",children:"🎯 How Games Work"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:"🎮"}),a.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Play & Earn"}),a.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Complete games and earn tokens based on your performance"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:"🏆"}),a.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Leaderboards"}),a.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Compete with other players and climb the rankings"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:"🎁"}),a.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Rewards"}),a.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Unlock special rewards and achievements"})]})]})]})]})}function pu(){return Os(),c.useEffect(()=>{window.scrollTo(0,0)},[]),a.jsx("div",{id:"games",className:"relative min-h-screen",children:a.jsxs("div",{className:"container py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4",children:a.jsx("span",{className:"text-gradient",children:"Games"})}),a.jsx("p",{className:"text-foreground/80 max-w-2xl mx-auto text-lg",children:"Play interactive games and earn rewards based on your staking tier. The more you stake, the more games you unlock!"})]}),a.jsx(gu,{})]})})}const wu=()=>{const e=yn();return c.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function xu(){const[e,t]=c.useState(!1),[n,s]=c.useState(0),[r,i]=c.useState(!1),{walletAddress:o,connectWallet:l,disconnectWallet:m,isAdmin:d}=Jt(),g=Ac(),h=yn();c.useEffect(()=>{const A=()=>t(window.scrollY>24);return A(),window.addEventListener("scroll",A,{passive:!0}),()=>window.removeEventListener("scroll",A)},[]),c.useEffect(()=>{const A=()=>{const j=document.documentElement.scrollHeight-window.innerHeight,V=j>0?Math.min(1,window.scrollY/j):0;s(V);const H=document.getElementById("scroll-progress");H&&(H.style.transform=`scaleX(${V})`),document.documentElement.style.setProperty("--scroll-progress",`${V}`)};return A(),window.addEventListener("scroll",A,{passive:!0}),window.addEventListener("resize",A),()=>{window.removeEventListener("scroll",A),window.removeEventListener("resize",A)}},[]);const x=()=>{document.documentElement.classList.toggle("dark")},u=async()=>{try{await l()}catch(A){console.error("Failed to connect wallet:",A),alert(A instanceof Error?A.message:"Failed to connect wallet")}},S=()=>{m()},p=A=>{if(i(!1),h.pathname==="/"){const _=document.getElementById(A);_&&_.scrollIntoView({behavior:"smooth"})}else g(`/#${A}`)},v=()=>{i(!r)};return a.jsxs("header",{className:ke("sticky top-0 z-50 w-full transition-all",e?"backdrop-blur-md bg-background/70 border-b border-white/6":"bg-transparent"),children:[a.jsx("div",{id:"scroll-progress"}),a.jsxs("div",{className:"container relative flex h-20 items-center justify-between",children:[a.jsxs("a",{href:"#home",className:"inline-flex items-center gap-3",children:[a.jsx("span",{className:"inline-block h-6 w-6 rounded-md",style:{background:"linear-gradient(135deg, hsl(var(--solana-mint)), hsl(var(--solana-purple)))"}}),a.jsx("span",{className:"font-medium tracking-tight text-sm",children:"NPC Stake"})]}),a.jsxs("nav",{className:"hidden md:flex gap-10 items-center text-sm font-medium opacity-90",children:[a.jsx("button",{onClick:()=>p("how"),className:"nav-link",children:"How it works"}),a.jsx("button",{onClick:()=>p("rewards"),className:"nav-link",children:"Rewards"}),a.jsx("button",{onClick:()=>p("stake"),className:"nav-link",children:"Stake"}),a.jsx("a",{href:"/games",className:"nav-link",children:"Games"}),a.jsx("button",{onClick:()=>p("faq"),className:"nav-link",children:"FAQ"}),d&&a.jsx("a",{href:"/admin",className:"nav-link text-accent",children:"Admin"})]}),a.jsx("div",{className:"md:hidden absolute left-1/2 transform -translate-x-1/2",children:a.jsx(ve,{variant:"ghost",size:"sm",onClick:v,className:"p-2","aria-label":"Toggle mobile menu",children:r?a.jsx(ts,{className:"h-5 w-5"}):a.jsx(Eo,{className:"h-5 w-5"})})}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsx(ve,{variant:"ghost",size:"sm",onClick:x,"aria-label":"Toggle theme",children:a.jsx(un,{})}),o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-foreground/70",children:"Connected"}),a.jsxs("div",{className:"font-mono text-sm text-green-400",children:[o.slice(0,4),"...",o.slice(-4)]})]}),a.jsxs(ve,{size:"sm",className:"btn-gradient",onClick:()=>p("stake"),children:[a.jsx(Zt,{className:"mr-2"}),"Stake"]}),a.jsx(ve,{size:"sm",variant:"outline",className:"glass",onClick:S,children:"Disconnect"})]}):a.jsxs(ve,{size:"sm",variant:"outline",className:"glass",onClick:u,children:[a.jsx(Zt,{className:"mr-2"}),"Connect Wallet"]})]}),a.jsx("div",{className:"md:hidden",children:o?a.jsxs(ve,{size:"sm",className:"btn-gradient",onClick:()=>p("stake"),children:[a.jsx(Zt,{className:"mr-2"}),"Stake"]}):a.jsxs(ve,{size:"sm",variant:"outline",className:"glass",onClick:u,children:[a.jsx(Zt,{className:"mr-2"}),"Connect"]})})]}),r&&a.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-background/95 backdrop-blur-md border-b border-white/10",children:a.jsxs("div",{className:"container py-4 space-y-4",children:[a.jsxs("nav",{className:"flex flex-col space-y-3",children:[a.jsx("button",{onClick:()=>p("how"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"How it works"}),a.jsx("button",{onClick:()=>p("rewards"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"Rewards"}),a.jsx("button",{onClick:()=>p("stake"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"Stake"}),a.jsx("a",{href:"/games",className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",onClick:()=>i(!1),children:"Games"}),a.jsx("button",{onClick:()=>p("faq"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"FAQ"}),d&&a.jsx("a",{href:"/admin",className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors text-accent",onClick:()=>i(!1),children:"Admin"})]}),o&&a.jsxs("div",{className:"pt-4 border-t border-white/10",children:[a.jsx("div",{className:"text-xs text-foreground/70 mb-2",children:"Connected"}),a.jsxs("div",{className:"font-mono text-sm text-green-400 mb-3",children:[o.slice(0,4),"...",o.slice(-4)]}),a.jsx(ve,{size:"sm",variant:"outline",className:"glass w-full",onClick:S,children:"Disconnect"})]})]})})]})}function yu(){return a.jsxs("footer",{className:"relative mt-20 border-t border-white/10",children:[a.jsx("div",{className:"absolute inset-x-0 -top-px h-px bg-gradient-to-r from-transparent via-primary/60 to-transparent"}),a.jsxs("div",{className:"container py-10 text-sm flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"opacity-80",children:["© ",new Date().getFullYear()," NPC Stake. Built for the Solana ecosystem."]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("a",{href:"https://discord.com/invite/nickplayscrypto",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"Discord",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),a.jsx("a",{href:"https://x.com/NickPlaysCrypto",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"X (Twitter)",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),a.jsx("a",{href:"https://dexscreener.com/solana/6mpafrxmywfyojaunxdqgw9sq2mhpuh3d6daw3xipump",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"DexScreener",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})})]})]})]})}const bu=new Gl;function vu(){return a.jsx(Yl,{client:bu,children:a.jsx(Yd,{children:a.jsx(Qd,{children:a.jsxs(bl,{children:[a.jsx(ki,{}),a.jsx(nl,{}),a.jsx(Kc,{children:a.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[a.jsx(xu,{}),a.jsx("main",{className:"flex-1",children:a.jsxs($c,{children:[a.jsx(Kt,{path:"/",element:a.jsx(Jd,{})}),a.jsx(Kt,{path:"/admin",element:a.jsx(mu,{})}),a.jsx(Kt,{path:"/games",element:a.jsx(pu,{})}),a.jsx(Kt,{path:"*",element:a.jsx(wu,{})})]})}),a.jsx(yu,{})]})})]})})})})}Si.createRoot(document.getElementById("root")).render(a.jsx(vu,{}));
