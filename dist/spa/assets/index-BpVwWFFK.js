function aI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Xi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cg(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var cp={exports:{}},jl={},up={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function lI(){if(Kw)return Mt;Kw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),k=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=k&&w[k]||w["@@iterator"],typeof w=="function"?w:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function T(w,h,x){this.props=w,this.context=h,this.refs=I,this.updater=x||v}T.prototype.isReactComponent={},T.prototype.setState=function(w,h){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,h,"setState")},T.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function z(){}z.prototype=T.prototype;function K(w,h,x){this.props=w,this.context=h,this.refs=I,this.updater=x||v}var F=K.prototype=new z;F.constructor=K,C(F,T.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,te=Object.prototype.hasOwnProperty,se={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function ae(w,h,x){var j,q={},re=null,le=null;if(h!=null)for(j in h.ref!==void 0&&(le=h.ref),h.key!==void 0&&(re=""+h.key),h)te.call(h,j)&&!ne.hasOwnProperty(j)&&(q[j]=h[j]);var fe=arguments.length-2;if(fe===1)q.children=x;else if(1<fe){for(var Ie=Array(fe),Ze=0;Ze<fe;Ze++)Ie[Ze]=arguments[Ze+2];q.children=Ie}if(w&&w.defaultProps)for(j in fe=w.defaultProps,fe)q[j]===void 0&&(q[j]=fe[j]);return{$$typeof:n,type:w,key:re,ref:le,props:q,_owner:se.current}}function Q(w,h){return{$$typeof:n,type:w.type,key:h,ref:w.ref,props:w.props,_owner:w._owner}}function Z(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function ee(w){var h={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(x){return h[x]})}var V=/\/+/g;function D(w,h){return typeof w=="object"&&w!==null&&w.key!=null?ee(""+w.key):h.toString(36)}function f(w,h,x,j,q){var re=typeof w;(re==="undefined"||re==="boolean")&&(w=null);var le=!1;if(w===null)le=!0;else switch(re){case"string":case"number":le=!0;break;case"object":switch(w.$$typeof){case n:case e:le=!0}}if(le)return le=w,q=q(le),w=j===""?"."+D(le,0):j,Y(q)?(x="",w!=null&&(x=w.replace(V,"$&/")+"/"),f(q,h,x,"",function(Ze){return Ze})):q!=null&&(Z(q)&&(q=Q(q,x+(!q.key||le&&le.key===q.key?"":(""+q.key).replace(V,"$&/")+"/")+w)),h.push(q)),1;if(le=0,j=j===""?".":j+":",Y(w))for(var fe=0;fe<w.length;fe++){re=w[fe];var Ie=j+D(re,fe);le+=f(re,h,x,Ie,q)}else if(Ie=_(w),typeof Ie=="function")for(w=Ie.call(w),fe=0;!(re=w.next()).done;)re=re.value,Ie=j+D(re,fe++),le+=f(re,h,x,Ie,q);else if(re==="object")throw h=String(w),Error("Objects are not valid as a React child (found: "+(h==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":h)+"). If you meant to render a collection of children, use an array instead.");return le}function y(w,h,x){if(w==null)return w;var j=[],q=0;return f(w,j,"","",function(re){return h.call(x,re,q++)}),j}function E(w){if(w._status===-1){var h=w._result;h=h(),h.then(function(x){(w._status===0||w._status===-1)&&(w._status=1,w._result=x)},function(x){(w._status===0||w._status===-1)&&(w._status=2,w._result=x)}),w._status===-1&&(w._status=0,w._result=h)}if(w._status===1)return w._result.default;throw w._result}var U={current:null},L={transition:null},N={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:L,ReactCurrentOwner:se};function b(){throw Error("act(...) is not supported in production builds of React.")}return Mt.Children={map:y,forEach:function(w,h,x){y(w,function(){h.apply(this,arguments)},x)},count:function(w){var h=0;return y(w,function(){h++}),h},toArray:function(w){return y(w,function(h){return h})||[]},only:function(w){if(!Z(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Mt.Component=T,Mt.Fragment=t,Mt.Profiler=i,Mt.PureComponent=K,Mt.StrictMode=r,Mt.Suspense=d,Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,Mt.act=b,Mt.cloneElement=function(w,h,x){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var j=C({},w.props),q=w.key,re=w.ref,le=w._owner;if(h!=null){if(h.ref!==void 0&&(re=h.ref,le=se.current),h.key!==void 0&&(q=""+h.key),w.type&&w.type.defaultProps)var fe=w.type.defaultProps;for(Ie in h)te.call(h,Ie)&&!ne.hasOwnProperty(Ie)&&(j[Ie]=h[Ie]===void 0&&fe!==void 0?fe[Ie]:h[Ie])}var Ie=arguments.length-2;if(Ie===1)j.children=x;else if(1<Ie){fe=Array(Ie);for(var Ze=0;Ze<Ie;Ze++)fe[Ze]=arguments[Ze+2];j.children=fe}return{$$typeof:n,type:w.type,key:q,ref:re,props:j,_owner:le}},Mt.createContext=function(w){return w={$$typeof:l,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:s,_context:w},w.Consumer=w},Mt.createElement=ae,Mt.createFactory=function(w){var h=ae.bind(null,w);return h.type=w,h},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(w){return{$$typeof:c,render:w}},Mt.isValidElement=Z,Mt.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:E}},Mt.memo=function(w,h){return{$$typeof:p,type:w,compare:h===void 0?null:h}},Mt.startTransition=function(w){var h=L.transition;L.transition={};try{w()}finally{L.transition=h}},Mt.unstable_act=b,Mt.useCallback=function(w,h){return U.current.useCallback(w,h)},Mt.useContext=function(w){return U.current.useContext(w)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(w){return U.current.useDeferredValue(w)},Mt.useEffect=function(w,h){return U.current.useEffect(w,h)},Mt.useId=function(){return U.current.useId()},Mt.useImperativeHandle=function(w,h,x){return U.current.useImperativeHandle(w,h,x)},Mt.useInsertionEffect=function(w,h){return U.current.useInsertionEffect(w,h)},Mt.useLayoutEffect=function(w,h){return U.current.useLayoutEffect(w,h)},Mt.useMemo=function(w,h){return U.current.useMemo(w,h)},Mt.useReducer=function(w,h,x){return U.current.useReducer(w,h,x)},Mt.useRef=function(w){return U.current.useRef(w)},Mt.useState=function(w){return U.current.useState(w)},Mt.useSyncExternalStore=function(w,h,x){return U.current.useSyncExternalStore(w,h,x)},Mt.useTransition=function(){return U.current.useTransition()},Mt.version="18.3.1",Mt}var qw;function ug(){return qw||(qw=1,up.exports=lI()),up.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function cI(){if(Hw)return jl;Hw=1;var n=ug(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,k={},_=null,v=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(v=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(k[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)k[m]===void 0&&(k[m]=d[m]);return{$$typeof:e,type:c,key:_,ref:v,props:k,_owner:i.current}}return jl.Fragment=t,jl.jsx=l,jl.jsxs=l,jl}var Gw;function uI(){return Gw||(Gw=1,cp.exports=cI()),cp.exports}var S=uI(),$=ug();const Ve=Xi($),dg=aI({__proto__:null,default:Ve},[$]),dI=1,fI=1e6;let dp=0;function hI(){return dp=(dp+1)%Number.MAX_SAFE_INTEGER,dp.toString()}const fp=new Map,Yw=n=>{if(fp.has(n))return;const e=setTimeout(()=>{fp.delete(n),Gl({type:"REMOVE_TOAST",toastId:n})},fI);fp.set(n,e)},pI=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,dI)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Yw(t):n.toasts.forEach(r=>{Yw(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},id=[];let sd={toasts:[]};function Gl(n){sd=pI(sd,n),id.forEach(e=>{e(sd)})}function mI({...n}){const e=hI(),t=i=>Gl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Gl({type:"DISMISS_TOAST",toastId:e});return Gl({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function gI(){const[n,e]=$.useState(sd);return $.useEffect(()=>(id.push(e),()=>{const t=id.indexOf(e);t>-1&&id.splice(t,1)}),[n]),{...n,toast:mI,dismiss:t=>Gl({type:"DISMISS_TOAST",toastId:t})}}var hp={exports:{}},mr={},pp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function yI(){return Zw||(Zw=1,(function(n){function e(L,N){var b=L.length;L.push(N);e:for(;0<b;){var w=b-1>>>1,h=L[w];if(0<i(h,N))L[w]=N,L[b]=h,b=w;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var N=L[0],b=L.pop();if(b!==N){L[0]=b;e:for(var w=0,h=L.length,x=h>>>1;w<x;){var j=2*(w+1)-1,q=L[j],re=j+1,le=L[re];if(0>i(q,b))re<h&&0>i(le,q)?(L[w]=le,L[re]=b,w=re):(L[w]=q,L[j]=b,w=j);else if(re<h&&0>i(le,b))L[w]=le,L[re]=b,w=re;else break e}}return N}function i(L,N){var b=L.sortIndex-N.sortIndex;return b!==0?b:L.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,k=null,_=3,v=!1,C=!1,I=!1,T=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(L){for(var N=t(p);N!==null;){if(N.callback===null)r(p);else if(N.startTime<=L)r(p),N.sortIndex=N.expirationTime,e(d,N);else break;N=t(p)}}function Y(L){if(I=!1,F(L),!C)if(t(d)!==null)C=!0,E(te);else{var N=t(p);N!==null&&U(Y,N.startTime-L)}}function te(L,N){C=!1,I&&(I=!1,z(ae),ae=-1),v=!0;var b=_;try{for(F(N),k=t(d);k!==null&&(!(k.expirationTime>N)||L&&!ee());){var w=k.callback;if(typeof w=="function"){k.callback=null,_=k.priorityLevel;var h=w(k.expirationTime<=N);N=n.unstable_now(),typeof h=="function"?k.callback=h:k===t(d)&&r(d),F(N)}else r(d);k=t(d)}if(k!==null)var x=!0;else{var j=t(p);j!==null&&U(Y,j.startTime-N),x=!1}return x}finally{k=null,_=b,v=!1}}var se=!1,ne=null,ae=-1,Q=5,Z=-1;function ee(){return!(n.unstable_now()-Z<Q)}function V(){if(ne!==null){var L=n.unstable_now();Z=L;var N=!0;try{N=ne(!0,L)}finally{N?D():(se=!1,ne=null)}}else se=!1}var D;if(typeof K=="function")D=function(){K(V)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,y=f.port2;f.port1.onmessage=V,D=function(){y.postMessage(null)}}else D=function(){T(V,0)};function E(L){ne=L,se||(se=!0,D())}function U(L,N){ae=T(function(){L(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){C||v||(C=!0,E(te))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(L){switch(_){case 1:case 2:case 3:var N=3;break;default:N=_}var b=_;_=N;try{return L()}finally{_=b}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,N){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var b=_;_=L;try{return N()}finally{_=b}},n.unstable_scheduleCallback=function(L,N,b){var w=n.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?w+b:w):b=w,L){case 1:var h=-1;break;case 2:h=250;break;case 5:h=1073741823;break;case 4:h=1e4;break;default:h=5e3}return h=b+h,L={id:m++,callback:N,priorityLevel:L,startTime:b,expirationTime:h,sortIndex:-1},b>w?(L.sortIndex=b,e(p,L),t(d)===null&&L===t(p)&&(I?(z(ae),ae=-1):I=!0,U(Y,b-w))):(L.sortIndex=h,e(d,L),C||v||(C=!0,E(te))),L},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(L){var N=_;return function(){var b=_;_=N;try{return L.apply(this,arguments)}finally{_=b}}}})(mp)),mp}var Xw;function wI(){return Xw||(Xw=1,pp.exports=yI()),pp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function vI(){if(Qw)return mr;Qw=1;var n=ug(),e=wI();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},k={};function _(o){return d.call(k,o)?!0:d.call(m,o)?!1:p.test(o)?k[o]=!0:(m[o]=!0,!1)}function v(o,a,u,g){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function C(o,a,u,g){if(a===null||typeof a>"u"||v(o,a,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(o,a,u,g,A,M,G){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=A,this.mustUseProperty=u,this.propertyName=o,this.type=a,this.sanitizeURL=M,this.removeEmptyString=G}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];T[a]=new I(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function K(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(z,K);T[a]=new I(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(z,K);T[a]=new I(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(z,K);T[a]=new I(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function F(o,a,u,g){var A=T.hasOwnProperty(a)?T[a]:null;(A!==null?A.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,A,g)&&(u=null),g||A===null?_(a)&&(u===null?o.removeAttribute(a):o.setAttribute(a,""+u)):A.mustUseProperty?o[A.propertyName]=u===null?A.type===3?!1:"":u:(a=A.attributeName,g=A.attributeNamespace,u===null?o.removeAttribute(a):(A=A.type,u=A===3||A===4&&u===!0?"":""+u,g?o.setAttributeNS(g,a,u):o.setAttribute(a,u))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),se=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ee=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),L=Symbol.iterator;function N(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var b=Object.assign,w;function h(o){if(w===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);w=a&&a[1]||""}return`
`+w+o}var x=!1;function j(o,a){if(!o||x)return"";x=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ee){var g=Ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(Ee){g=Ee}o.call(a.prototype)}else{try{throw Error()}catch(Ee){g=Ee}o()}}catch(Ee){if(Ee&&g&&typeof Ee.stack=="string"){for(var A=Ee.stack.split(`
`),M=g.stack.split(`
`),G=A.length-1,ie=M.length-1;1<=G&&0<=ie&&A[G]!==M[ie];)ie--;for(;1<=G&&0<=ie;G--,ie--)if(A[G]!==M[ie]){if(G!==1||ie!==1)do if(G--,ie--,0>ie||A[G]!==M[ie]){var ue=`
`+A[G].replace(" at new "," at ");return o.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",o.displayName)),ue}while(1<=G&&0<=ie);break}}}finally{x=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?h(o):""}function q(o){switch(o.tag){case 5:return h(o.type);case 16:return h("Lazy");case 13:return h("Suspense");case 19:return h("SuspenseList");case 0:case 2:case 15:return o=j(o.type,!1),o;case 11:return o=j(o.type.render,!1),o;case 1:return o=j(o.type,!0),o;default:return""}}function re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ne:return"Fragment";case se:return"Portal";case Q:return"Profiler";case ae:return"StrictMode";case D:return"Suspense";case f:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ee:return(o.displayName||"Context")+".Consumer";case Z:return(o._context.displayName||"Context")+".Provider";case V:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case y:return a=o.displayName||null,a!==null?a:re(o.type)||"Memo";case E:a=o._payload,o=o._init;try{return re(o(a))}catch{}}return null}function le(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(a);case 8:return a===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ie(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ze(o){var a=Ie(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),g=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var A=u.get,M=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return A.call(this)},set:function(G){g=""+G,M.call(this,G)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(G){g=""+G},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Pe(o){o._valueTracker||(o._valueTracker=Ze(o))}function ht(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),g="";return o&&(g=Ie(o)?o.checked?"true":"false":o.value),o=g,o!==u?(a.setValue(o),!0):!1}function Ot(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Pt(o,a){var u=a.checked;return b({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function ye(o,a){var u=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;u=fe(a.value!=null?a.value:u),o._wrapperState={initialChecked:g,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function xe(o,a){a=a.checked,a!=null&&F(o,"checked",a,!1)}function Ce(o,a){xe(o,a);var u=fe(a.value),g=a.type;if(u!=null)g==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?De(o,a.type,u):a.hasOwnProperty("defaultValue")&&De(o,a.type,fe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Re(o,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,u||a===o.value||(o.value=a),o.defaultValue=a}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function De(o,a,u){(a!=="number"||Ot(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var Me=Array.isArray;function Te(o,a,u,g){if(o=o.options,a){a={};for(var A=0;A<u.length;A++)a["$"+u[A]]=!0;for(u=0;u<o.length;u++)A=a.hasOwnProperty("$"+o[u].value),o[u].selected!==A&&(o[u].selected=A),A&&g&&(o[u].defaultSelected=!0)}else{for(u=""+fe(u),a=null,A=0;A<o.length;A++){if(o[A].value===u){o[A].selected=!0,g&&(o[A].defaultSelected=!0);return}a!==null||o[A].disabled||(a=o[A])}a!==null&&(a.selected=!0)}}function Fe(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return b({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Se(o,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Me(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}o._wrapperState={initialValue:fe(u)}}function We(o,a){var u=fe(a.value),g=fe(a.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),a.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),g!=null&&(o.defaultValue=""+g)}function vt(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Qe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Qe(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var at,nt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,g,A){MSApp.execUnsafeLocalFunction(function(){return o(a,u,g,A)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=at.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function W(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var P={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R=["Webkit","ms","Moz","O"];Object.keys(P).forEach(function(o){R.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),P[a]=P[o]})});function X(o,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||P.hasOwnProperty(o)&&P[o]?(""+a).trim():a+"px"}function ce(o,a){o=o.style;for(var u in a)if(a.hasOwnProperty(u)){var g=u.indexOf("--")===0,A=X(u,a[u],g);u==="float"&&(u="cssFloat"),g?o.setProperty(u,A):o[u]=A}}var pe=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(o,a){if(a){if(pe[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function it(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function rt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _t=null,Ke=null,It=null;function He(o){if(o=Sl(o)){if(typeof _t!="function")throw Error(t(280));var a=o.stateNode;a&&(a=qc(a),_t(o.stateNode,o.type,a))}}function Rt(o){Ke?It?It.push(o):It=[o]:Ke=o}function Ge(){if(Ke){var o=Ke,a=It;if(It=Ke=null,He(o),a)for(o=0;o<a.length;o++)He(a[o])}}function kt(o,a){return o(a)}function pt(){}var H=!1;function B(o,a,u){if(H)return o(a,u);H=!0;try{return kt(o,a,u)}finally{H=!1,(Ke!==null||It!==null)&&(pt(),Ge())}}function O(o,a){var u=o.stateNode;if(u===null)return null;var g=qc(u);if(g===null)return null;u=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var J=!1;if(c)try{var de={};Object.defineProperty(de,"passive",{get:function(){J=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{J=!1}function me(o,a,u,g,A,M,G,ie,ue){var Ee=Array.prototype.slice.call(arguments,3);try{a.apply(u,Ee)}catch(Le){this.onError(Le)}}var Ae=!1,At=null,St=!1,bt=null,Ht={onError:function(o){Ae=!0,At=o}};function xt(o,a,u,g,A,M,G,ie,ue){Ae=!1,At=null,me.apply(Ht,arguments)}function gn(o,a,u,g,A,M,G,ie,ue){if(xt.apply(this,arguments),Ae){if(Ae){var Ee=At;Ae=!1,At=null}else throw Error(t(198));St||(St=!0,bt=Ee)}}function ao(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function cn(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function un(o){if(ao(o)!==o)throw Error(t(188))}function Qa(o){var a=o.alternate;if(!a){if(a=ao(o),a===null)throw Error(t(188));return a!==o?null:o}for(var u=o,g=a;;){var A=u.return;if(A===null)break;var M=A.alternate;if(M===null){if(g=A.return,g!==null){u=g;continue}break}if(A.child===M.child){for(M=A.child;M;){if(M===u)return un(A),o;if(M===g)return un(A),a;M=M.sibling}throw Error(t(188))}if(u.return!==g.return)u=A,g=M;else{for(var G=!1,ie=A.child;ie;){if(ie===u){G=!0,u=A,g=M;break}if(ie===g){G=!0,g=A,u=M;break}ie=ie.sibling}if(!G){for(ie=M.child;ie;){if(ie===u){G=!0,u=M,g=A;break}if(ie===g){G=!0,g=M,u=A;break}ie=ie.sibling}if(!G)throw Error(t(189))}}if(u.alternate!==g)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?o:a}function Fs(o){return o=Qa(o),o!==null?Us(o):null}function Us(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Us(o);if(a!==null)return a;o=o.sibling}return null}var zs=e.unstable_scheduleCallback,$s=e.unstable_cancelCallback,Ja=e.unstable_shouldYield,el=e.unstable_requestPaint,tn=e.unstable_now,tl=e.unstable_getCurrentPriorityLevel,Ji=e.unstable_ImmediatePriority,Vs=e.unstable_UserBlockingPriority,li=e.unstable_NormalPriority,nl=e.unstable_LowPriority,Ws=e.unstable_IdlePriority,ci=null,cr=null;function rl(o){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(ci,o,void 0,(o.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:AA,ol=Math.log,EA=Math.LN2;function AA(o){return o>>>=0,o===0?32:31-(ol(o)/EA|0)|0}var Pc=64,Rc=4194304;function il(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Tc(o,a){var u=o.pendingLanes;if(u===0)return 0;var g=0,A=o.suspendedLanes,M=o.pingedLanes,G=u&268435455;if(G!==0){var ie=G&~A;ie!==0?g=il(ie):(M&=G,M!==0&&(g=il(M)))}else G=u&~A,G!==0?g=il(G):M!==0&&(g=il(M));if(g===0)return 0;if(a!==0&&a!==g&&(a&A)===0&&(A=g&-g,M=a&-a,A>=M||A===16&&(M&4194240)!==0))return a;if((g&4)!==0&&(g|=u&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=g;0<a;)u=31-nr(a),A=1<<u,g|=o[u],a&=~A;return g}function _A(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IA(o,a){for(var u=o.suspendedLanes,g=o.pingedLanes,A=o.expirationTimes,M=o.pendingLanes;0<M;){var G=31-nr(M),ie=1<<G,ue=A[G];ue===-1?((ie&u)===0||(ie&g)!==0)&&(A[G]=_A(ie,a)):ue<=a&&(o.expiredLanes|=ie),M&=~ie}}function Tf(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function k0(){var o=Pc;return Pc<<=1,(Pc&4194240)===0&&(Pc=64),o}function Cf(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function sl(o,a,u){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-nr(a),o[a]=u}function PA(o,a){var u=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<u;){var A=31-nr(u),M=1<<A;a[A]=0,g[A]=-1,o[A]=-1,u&=~M}}function Nf(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var g=31-nr(u),A=1<<g;A&a|o[g]&a&&(o[g]|=a),u&=~A}}var Kt=0;function S0(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var E0,Bf,A0,_0,I0,Mf=!1,Cc=[],ui=null,di=null,fi=null,al=new Map,ll=new Map,hi=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P0(o,a){switch(o){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":al.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(a.pointerId)}}function cl(o,a,u,g,A,M){return o===null||o.nativeEvent!==M?(o={blockedOn:a,domEventName:u,eventSystemFlags:g,nativeEvent:M,targetContainers:[A]},a!==null&&(a=Sl(a),a!==null&&Bf(a)),o):(o.eventSystemFlags|=g,a=o.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),o)}function TA(o,a,u,g,A){switch(a){case"focusin":return ui=cl(ui,o,a,u,g,A),!0;case"dragenter":return di=cl(di,o,a,u,g,A),!0;case"mouseover":return fi=cl(fi,o,a,u,g,A),!0;case"pointerover":var M=A.pointerId;return al.set(M,cl(al.get(M)||null,o,a,u,g,A)),!0;case"gotpointercapture":return M=A.pointerId,ll.set(M,cl(ll.get(M)||null,o,a,u,g,A)),!0}return!1}function R0(o){var a=es(o.target);if(a!==null){var u=ao(a);if(u!==null){if(a=u.tag,a===13){if(a=cn(u),a!==null){o.blockedOn=a,I0(o.priority,function(){A0(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Nc(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=Of(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var g=new u.constructor(u.type,u);tt=g,u.target.dispatchEvent(g),tt=null}else return a=Sl(u),a!==null&&Bf(a),o.blockedOn=u,!1;a.shift()}return!0}function T0(o,a,u){Nc(o)&&u.delete(a)}function CA(){Mf=!1,ui!==null&&Nc(ui)&&(ui=null),di!==null&&Nc(di)&&(di=null),fi!==null&&Nc(fi)&&(fi=null),al.forEach(T0),ll.forEach(T0)}function ul(o,a){o.blockedOn===a&&(o.blockedOn=null,Mf||(Mf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CA)))}function dl(o){function a(A){return ul(A,o)}if(0<Cc.length){ul(Cc[0],o);for(var u=1;u<Cc.length;u++){var g=Cc[u];g.blockedOn===o&&(g.blockedOn=null)}}for(ui!==null&&ul(ui,o),di!==null&&ul(di,o),fi!==null&&ul(fi,o),al.forEach(a),ll.forEach(a),u=0;u<hi.length;u++)g=hi[u],g.blockedOn===o&&(g.blockedOn=null);for(;0<hi.length&&(u=hi[0],u.blockedOn===null);)R0(u),u.blockedOn===null&&hi.shift()}var Ks=Y.ReactCurrentBatchConfig,Bc=!0;function NA(o,a,u,g){var A=Kt,M=Ks.transition;Ks.transition=null;try{Kt=1,Lf(o,a,u,g)}finally{Kt=A,Ks.transition=M}}function BA(o,a,u,g){var A=Kt,M=Ks.transition;Ks.transition=null;try{Kt=4,Lf(o,a,u,g)}finally{Kt=A,Ks.transition=M}}function Lf(o,a,u,g){if(Bc){var A=Of(o,a,u,g);if(A===null)Jf(o,a,g,Mc,u),P0(o,g);else if(TA(A,o,a,u,g))g.stopPropagation();else if(P0(o,g),a&4&&-1<RA.indexOf(o)){for(;A!==null;){var M=Sl(A);if(M!==null&&E0(M),M=Of(o,a,u,g),M===null&&Jf(o,a,g,Mc,u),M===A)break;A=M}A!==null&&g.stopPropagation()}else Jf(o,a,g,null,u)}}var Mc=null;function Of(o,a,u,g){if(Mc=null,o=rt(g),o=es(o),o!==null)if(a=ao(o),a===null)o=null;else if(u=a.tag,u===13){if(o=cn(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Mc=o,null}function C0(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tl()){case Ji:return 1;case Vs:return 4;case li:case nl:return 16;case Ws:return 536870912;default:return 16}default:return 16}}var pi=null,Df=null,Lc=null;function N0(){if(Lc)return Lc;var o,a=Df,u=a.length,g,A="value"in pi?pi.value:pi.textContent,M=A.length;for(o=0;o<u&&a[o]===A[o];o++);var G=u-o;for(g=1;g<=G&&a[u-g]===A[M-g];g++);return Lc=A.slice(o,1<g?1-g:void 0)}function Oc(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Dc(){return!0}function B0(){return!1}function kr(o){function a(u,g,A,M,G){this._reactName=u,this._targetInst=A,this.type=g,this.nativeEvent=M,this.target=G,this.currentTarget=null;for(var ie in o)o.hasOwnProperty(ie)&&(u=o[ie],this[ie]=u?u(M):M[ie]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Dc:B0,this.isPropagationStopped=B0,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),a}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=kr(qs),fl=b({},qs,{view:0,detail:0}),MA=kr(fl),Ff,Uf,hl,jc=b({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==hl&&(hl&&o.type==="mousemove"?(Ff=o.screenX-hl.screenX,Uf=o.screenY-hl.screenY):Uf=Ff=0,hl=o),Ff)},movementY:function(o){return"movementY"in o?o.movementY:Uf}}),M0=kr(jc),LA=b({},jc,{dataTransfer:0}),OA=kr(LA),DA=b({},fl,{relatedTarget:0}),zf=kr(DA),jA=b({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),FA=kr(jA),UA=b({},qs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),zA=kr(UA),$A=b({},qs,{data:0}),L0=kr($A),VA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qA(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=KA[o])?!!a[o]:!1}function $f(){return qA}var HA=b({},fl,{key:function(o){if(o.key){var a=VA[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Oc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?WA[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(o){return o.type==="keypress"?Oc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Oc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),GA=kr(HA),YA=b({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O0=kr(YA),ZA=b({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),XA=kr(ZA),QA=b({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),JA=kr(QA),e_=b({},jc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),t_=kr(e_),n_=[9,13,27,32],Vf=c&&"CompositionEvent"in window,pl=null;c&&"documentMode"in document&&(pl=document.documentMode);var r_=c&&"TextEvent"in window&&!pl,D0=c&&(!Vf||pl&&8<pl&&11>=pl),j0=" ",F0=!1;function U0(o,a){switch(o){case"keyup":return n_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Hs=!1;function o_(o,a){switch(o){case"compositionend":return z0(a);case"keypress":return a.which!==32?null:(F0=!0,j0);case"textInput":return o=a.data,o===j0&&F0?null:o;default:return null}}function i_(o,a){if(Hs)return o==="compositionend"||!Vf&&U0(o,a)?(o=N0(),Lc=Df=pi=null,Hs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return D0&&a.locale!=="ko"?null:a.data;default:return null}}var s_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!s_[o.type]:a==="textarea"}function V0(o,a,u,g){Rt(g),a=Vc(a,"onChange"),0<a.length&&(u=new jf("onChange","change",null,u,g),o.push({event:u,listeners:a}))}var ml=null,gl=null;function a_(o){ay(o,0)}function Fc(o){var a=Qs(o);if(ht(a))return o}function l_(o,a){if(o==="change")return a}var W0=!1;if(c){var Wf;if(c){var Kf="oninput"in document;if(!Kf){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),Kf=typeof K0.oninput=="function"}Wf=Kf}else Wf=!1;W0=Wf&&(!document.documentMode||9<document.documentMode)}function q0(){ml&&(ml.detachEvent("onpropertychange",H0),gl=ml=null)}function H0(o){if(o.propertyName==="value"&&Fc(gl)){var a=[];V0(a,gl,o,rt(o)),B(a_,a)}}function c_(o,a,u){o==="focusin"?(q0(),ml=a,gl=u,ml.attachEvent("onpropertychange",H0)):o==="focusout"&&q0()}function u_(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Fc(gl)}function d_(o,a){if(o==="click")return Fc(a)}function f_(o,a){if(o==="input"||o==="change")return Fc(a)}function h_(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Vr=typeof Object.is=="function"?Object.is:h_;function yl(o,a){if(Vr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),g=Object.keys(a);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var A=u[g];if(!d.call(a,A)||!Vr(o[A],a[A]))return!1}return!0}function G0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Y0(o,a){var u=G0(o);o=0;for(var g;u;){if(u.nodeType===3){if(g=o+u.textContent.length,o<=a&&g>=a)return{node:u,offset:a-o};o=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=G0(u)}}function Z0(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Z0(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function X0(){for(var o=window,a=Ot();a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=Ot(o.document)}return a}function qf(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function p_(o){var a=X0(),u=o.focusedElem,g=o.selectionRange;if(a!==u&&u&&u.ownerDocument&&Z0(u.ownerDocument.documentElement,u)){if(g!==null&&qf(u)){if(a=g.start,o=g.end,o===void 0&&(o=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(o,u.value.length);else if(o=(a=u.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var A=u.textContent.length,M=Math.min(g.start,A);g=g.end===void 0?M:Math.min(g.end,A),!o.extend&&M>g&&(A=g,g=M,M=A),A=Y0(u,M);var G=Y0(u,g);A&&G&&(o.rangeCount!==1||o.anchorNode!==A.node||o.anchorOffset!==A.offset||o.focusNode!==G.node||o.focusOffset!==G.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),o.removeAllRanges(),M>g?(o.addRange(a),o.extend(G.node,G.offset)):(a.setEnd(G.node,G.offset),o.addRange(a)))}}for(a=[],o=u;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)o=a[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var m_=c&&"documentMode"in document&&11>=document.documentMode,Gs=null,Hf=null,wl=null,Gf=!1;function Q0(o,a,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gf||Gs==null||Gs!==Ot(g)||(g=Gs,"selectionStart"in g&&qf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),wl&&yl(wl,g)||(wl=g,g=Vc(Hf,"onSelect"),0<g.length&&(a=new jf("onSelect","select",null,a,u),o.push({event:a,listeners:g}),a.target=Gs)))}function Uc(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var Ys={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},Yf={},J0={};c&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function zc(o){if(Yf[o])return Yf[o];if(!Ys[o])return o;var a=Ys[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in J0)return Yf[o]=a[u];return o}var ey=zc("animationend"),ty=zc("animationiteration"),ny=zc("animationstart"),ry=zc("transitionend"),oy=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(o,a){oy.set(o,a),s(a,[o])}for(var Zf=0;Zf<iy.length;Zf++){var Xf=iy[Zf],g_=Xf.toLowerCase(),y_=Xf[0].toUpperCase()+Xf.slice(1);mi(g_,"on"+y_)}mi(ey,"onAnimationEnd"),mi(ty,"onAnimationIteration"),mi(ny,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(ry,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w_=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function sy(o,a,u){var g=o.type||"unknown-event";o.currentTarget=u,gn(g,a,void 0,o),o.currentTarget=null}function ay(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var g=o[u],A=g.event;g=g.listeners;e:{var M=void 0;if(a)for(var G=g.length-1;0<=G;G--){var ie=g[G],ue=ie.instance,Ee=ie.currentTarget;if(ie=ie.listener,ue!==M&&A.isPropagationStopped())break e;sy(A,ie,Ee),M=ue}else for(G=0;G<g.length;G++){if(ie=g[G],ue=ie.instance,Ee=ie.currentTarget,ie=ie.listener,ue!==M&&A.isPropagationStopped())break e;sy(A,ie,Ee),M=ue}}}if(St)throw o=bt,St=!1,bt=null,o}function nn(o,a){var u=a[ih];u===void 0&&(u=a[ih]=new Set);var g=o+"__bubble";u.has(g)||(ly(a,o,2,!1),u.add(g))}function Qf(o,a,u){var g=0;a&&(g|=4),ly(u,o,g,a)}var $c="_reactListening"+Math.random().toString(36).slice(2);function xl(o){if(!o[$c]){o[$c]=!0,r.forEach(function(u){u!=="selectionchange"&&(w_.has(u)||Qf(u,!1,o),Qf(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[$c]||(a[$c]=!0,Qf("selectionchange",!1,a))}}function ly(o,a,u,g){switch(C0(a)){case 1:var A=NA;break;case 4:A=BA;break;default:A=Lf}u=A.bind(null,a,u,o),A=void 0,!J||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),g?A!==void 0?o.addEventListener(a,u,{capture:!0,passive:A}):o.addEventListener(a,u,!0):A!==void 0?o.addEventListener(a,u,{passive:A}):o.addEventListener(a,u,!1)}function Jf(o,a,u,g,A){var M=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var G=g.tag;if(G===3||G===4){var ie=g.stateNode.containerInfo;if(ie===A||ie.nodeType===8&&ie.parentNode===A)break;if(G===4)for(G=g.return;G!==null;){var ue=G.tag;if((ue===3||ue===4)&&(ue=G.stateNode.containerInfo,ue===A||ue.nodeType===8&&ue.parentNode===A))return;G=G.return}for(;ie!==null;){if(G=es(ie),G===null)return;if(ue=G.tag,ue===5||ue===6){g=M=G;continue e}ie=ie.parentNode}}g=g.return}B(function(){var Ee=M,Le=rt(u),je=[];e:{var Be=oy.get(o);if(Be!==void 0){var Je=jf,st=o;switch(o){case"keypress":if(Oc(u)===0)break e;case"keydown":case"keyup":Je=GA;break;case"focusin":st="focus",Je=zf;break;case"focusout":st="blur",Je=zf;break;case"beforeblur":case"afterblur":Je=zf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=OA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=XA;break;case ey:case ty:case ny:Je=FA;break;case ry:Je=JA;break;case"scroll":Je=MA;break;case"wheel":Je=t_;break;case"copy":case"cut":case"paste":Je=zA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=O0}var lt=(a&4)!==0,bn=!lt&&o==="scroll",ge=lt?Be!==null?Be+"Capture":null:Be;lt=[];for(var he=Ee,be;he!==null;){be=he;var ze=be.stateNode;if(be.tag===5&&ze!==null&&(be=ze,ge!==null&&(ze=O(he,ge),ze!=null&&lt.push(bl(he,ze,be)))),bn)break;he=he.return}0<lt.length&&(Be=new Je(Be,st,null,u,Le),je.push({event:Be,listeners:lt}))}}if((a&7)===0){e:{if(Be=o==="mouseover"||o==="pointerover",Je=o==="mouseout"||o==="pointerout",Be&&u!==tt&&(st=u.relatedTarget||u.fromElement)&&(es(st)||st[Mo]))break e;if((Je||Be)&&(Be=Le.window===Le?Le:(Be=Le.ownerDocument)?Be.defaultView||Be.parentWindow:window,Je?(st=u.relatedTarget||u.toElement,Je=Ee,st=st?es(st):null,st!==null&&(bn=ao(st),st!==bn||st.tag!==5&&st.tag!==6)&&(st=null)):(Je=null,st=Ee),Je!==st)){if(lt=M0,ze="onMouseLeave",ge="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(lt=O0,ze="onPointerLeave",ge="onPointerEnter",he="pointer"),bn=Je==null?Be:Qs(Je),be=st==null?Be:Qs(st),Be=new lt(ze,he+"leave",Je,u,Le),Be.target=bn,Be.relatedTarget=be,ze=null,es(Le)===Ee&&(lt=new lt(ge,he+"enter",st,u,Le),lt.target=be,lt.relatedTarget=bn,ze=lt),bn=ze,Je&&st)t:{for(lt=Je,ge=st,he=0,be=lt;be;be=Zs(be))he++;for(be=0,ze=ge;ze;ze=Zs(ze))be++;for(;0<he-be;)lt=Zs(lt),he--;for(;0<be-he;)ge=Zs(ge),be--;for(;he--;){if(lt===ge||ge!==null&&lt===ge.alternate)break t;lt=Zs(lt),ge=Zs(ge)}lt=null}else lt=null;Je!==null&&cy(je,Be,Je,lt,!1),st!==null&&bn!==null&&cy(je,bn,st,lt,!0)}}e:{if(Be=Ee?Qs(Ee):window,Je=Be.nodeName&&Be.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Be.type==="file")var dt=l_;else if($0(Be))if(W0)dt=f_;else{dt=u_;var yt=c_}else(Je=Be.nodeName)&&Je.toLowerCase()==="input"&&(Be.type==="checkbox"||Be.type==="radio")&&(dt=d_);if(dt&&(dt=dt(o,Ee))){V0(je,dt,u,Le);break e}yt&&yt(o,Be,Ee),o==="focusout"&&(yt=Be._wrapperState)&&yt.controlled&&Be.type==="number"&&De(Be,"number",Be.value)}switch(yt=Ee?Qs(Ee):window,o){case"focusin":($0(yt)||yt.contentEditable==="true")&&(Gs=yt,Hf=Ee,wl=null);break;case"focusout":wl=Hf=Gs=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,Q0(je,u,Le);break;case"selectionchange":if(m_)break;case"keydown":case"keyup":Q0(je,u,Le)}var wt;if(Vf)e:{switch(o){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Hs?U0(o,u)&&(Et="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Et="onCompositionStart");Et&&(D0&&u.locale!=="ko"&&(Hs||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Hs&&(wt=N0()):(pi=Le,Df="value"in pi?pi.value:pi.textContent,Hs=!0)),yt=Vc(Ee,Et),0<yt.length&&(Et=new L0(Et,o,null,u,Le),je.push({event:Et,listeners:yt}),wt?Et.data=wt:(wt=z0(u),wt!==null&&(Et.data=wt)))),(wt=r_?o_(o,u):i_(o,u))&&(Ee=Vc(Ee,"onBeforeInput"),0<Ee.length&&(Le=new L0("onBeforeInput","beforeinput",null,u,Le),je.push({event:Le,listeners:Ee}),Le.data=wt))}ay(je,a)})}function bl(o,a,u){return{instance:o,listener:a,currentTarget:u}}function Vc(o,a){for(var u=a+"Capture",g=[];o!==null;){var A=o,M=A.stateNode;A.tag===5&&M!==null&&(A=M,M=O(o,u),M!=null&&g.unshift(bl(o,M,A)),M=O(o,a),M!=null&&g.push(bl(o,M,A))),o=o.return}return g}function Zs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function cy(o,a,u,g,A){for(var M=a._reactName,G=[];u!==null&&u!==g;){var ie=u,ue=ie.alternate,Ee=ie.stateNode;if(ue!==null&&ue===g)break;ie.tag===5&&Ee!==null&&(ie=Ee,A?(ue=O(u,M),ue!=null&&G.unshift(bl(u,ue,ie))):A||(ue=O(u,M),ue!=null&&G.push(bl(u,ue,ie)))),u=u.return}G.length!==0&&o.push({event:a,listeners:G})}var v_=/\r\n?/g,x_=/\u0000|\uFFFD/g;function uy(o){return(typeof o=="string"?o:""+o).replace(v_,`
`).replace(x_,"")}function Wc(o,a,u){if(a=uy(a),uy(o)!==a&&u)throw Error(t(425))}function Kc(){}var eh=null,th=null;function nh(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rh=typeof setTimeout=="function"?setTimeout:void 0,b_=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,k_=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(o){return dy.resolve(null).then(o).catch(S_)}:rh;function S_(o){setTimeout(function(){throw o})}function oh(o,a){var u=a,g=0;do{var A=u.nextSibling;if(o.removeChild(u),A&&A.nodeType===8)if(u=A.data,u==="/$"){if(g===0){o.removeChild(A),dl(a);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=A}while(u);dl(a)}function gi(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function fy(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),lo="__reactFiber$"+Xs,kl="__reactProps$"+Xs,Mo="__reactContainer$"+Xs,ih="__reactEvents$"+Xs,E_="__reactListeners$"+Xs,A_="__reactHandles$"+Xs;function es(o){var a=o[lo];if(a)return a;for(var u=o.parentNode;u;){if(a=u[Mo]||u[lo]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=fy(o);o!==null;){if(u=o[lo])return u;o=fy(o)}return a}o=u,u=o.parentNode}return null}function Sl(o){return o=o[lo]||o[Mo],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Qs(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function qc(o){return o[kl]||null}var sh=[],Js=-1;function yi(o){return{current:o}}function rn(o){0>Js||(o.current=sh[Js],sh[Js]=null,Js--)}function Gt(o,a){Js++,sh[Js]=o.current,o.current=a}var wi={},Kn=yi(wi),ur=yi(!1),ts=wi;function ea(o,a){var u=o.type.contextTypes;if(!u)return wi;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var A={},M;for(M in u)A[M]=a[M];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=A),A}function dr(o){return o=o.childContextTypes,o!=null}function Hc(){rn(ur),rn(Kn)}function hy(o,a,u){if(Kn.current!==wi)throw Error(t(168));Gt(Kn,a),Gt(ur,u)}function py(o,a,u){var g=o.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var A in g)if(!(A in a))throw Error(t(108,le(o)||"Unknown",A));return b({},u,g)}function Gc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wi,ts=Kn.current,Gt(Kn,o),Gt(ur,ur.current),!0}function my(o,a,u){var g=o.stateNode;if(!g)throw Error(t(169));u?(o=py(o,a,ts),g.__reactInternalMemoizedMergedChildContext=o,rn(ur),rn(Kn),Gt(Kn,o)):rn(ur),Gt(ur,u)}var Lo=null,Yc=!1,ah=!1;function gy(o){Lo===null?Lo=[o]:Lo.push(o)}function __(o){Yc=!0,gy(o)}function vi(){if(!ah&&Lo!==null){ah=!0;var o=0,a=Kt;try{var u=Lo;for(Kt=1;o<u.length;o++){var g=u[o];do g=g(!0);while(g!==null)}Lo=null,Yc=!1}catch(A){throw Lo!==null&&(Lo=Lo.slice(o+1)),zs(Ji,vi),A}finally{Kt=a,ah=!1}}return null}var ta=[],na=0,Zc=null,Xc=0,Nr=[],Br=0,ns=null,Oo=1,Do="";function rs(o,a){ta[na++]=Xc,ta[na++]=Zc,Zc=o,Xc=a}function yy(o,a,u){Nr[Br++]=Oo,Nr[Br++]=Do,Nr[Br++]=ns,ns=o;var g=Oo;o=Do;var A=32-nr(g)-1;g&=~(1<<A),u+=1;var M=32-nr(a)+A;if(30<M){var G=A-A%5;M=(g&(1<<G)-1).toString(32),g>>=G,A-=G,Oo=1<<32-nr(a)+A|u<<A|g,Do=M+o}else Oo=1<<M|u<<A|g,Do=o}function lh(o){o.return!==null&&(rs(o,1),yy(o,1,0))}function ch(o){for(;o===Zc;)Zc=ta[--na],ta[na]=null,Xc=ta[--na],ta[na]=null;for(;o===ns;)ns=Nr[--Br],Nr[Br]=null,Do=Nr[--Br],Nr[Br]=null,Oo=Nr[--Br],Nr[Br]=null}var Sr=null,Er=null,sn=!1,Wr=null;function wy(o,a){var u=Dr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=o,a=o.deletions,a===null?(o.deletions=[u],o.flags|=16):a.push(u)}function vy(o,a){switch(o.tag){case 5:var u=o.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Sr=o,Er=gi(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Sr=o,Er=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ns!==null?{id:Oo,overflow:Do}:null,o.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Dr(18,null,null,0),u.stateNode=a,u.return=o,o.child=u,Sr=o,Er=null,!0):!1;default:return!1}}function uh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function dh(o){if(sn){var a=Er;if(a){var u=a;if(!vy(o,a)){if(uh(o))throw Error(t(418));a=gi(u.nextSibling);var g=Sr;a&&vy(o,a)?wy(g,u):(o.flags=o.flags&-4097|2,sn=!1,Sr=o)}}else{if(uh(o))throw Error(t(418));o.flags=o.flags&-4097|2,sn=!1,Sr=o}}}function xy(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Sr=o}function Qc(o){if(o!==Sr)return!1;if(!sn)return xy(o),sn=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!nh(o.type,o.memoizedProps)),a&&(a=Er)){if(uh(o))throw by(),Error(t(418));for(;a;)wy(o,a),a=gi(a.nextSibling)}if(xy(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(a===0){Er=gi(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}o=o.nextSibling}Er=null}}else Er=Sr?gi(o.stateNode.nextSibling):null;return!0}function by(){for(var o=Er;o;)o=gi(o.nextSibling)}function ra(){Er=Sr=null,sn=!1}function fh(o){Wr===null?Wr=[o]:Wr.push(o)}var I_=Y.ReactCurrentBatchConfig;function El(o,a,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var g=u.stateNode}if(!g)throw Error(t(147,o));var A=g,M=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===M?a.ref:(a=function(G){var ie=A.refs;G===null?delete ie[M]:ie[M]=G},a._stringRef=M,a)}if(typeof o!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,o))}return o}function Jc(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function ky(o){var a=o._init;return a(o._payload)}function Sy(o){function a(ge,he){if(o){var be=ge.deletions;be===null?(ge.deletions=[he],ge.flags|=16):be.push(he)}}function u(ge,he){if(!o)return null;for(;he!==null;)a(ge,he),he=he.sibling;return null}function g(ge,he){for(ge=new Map;he!==null;)he.key!==null?ge.set(he.key,he):ge.set(he.index,he),he=he.sibling;return ge}function A(ge,he){return ge=Ii(ge,he),ge.index=0,ge.sibling=null,ge}function M(ge,he,be){return ge.index=be,o?(be=ge.alternate,be!==null?(be=be.index,be<he?(ge.flags|=2,he):be):(ge.flags|=2,he)):(ge.flags|=1048576,he)}function G(ge){return o&&ge.alternate===null&&(ge.flags|=2),ge}function ie(ge,he,be,ze){return he===null||he.tag!==6?(he=rp(be,ge.mode,ze),he.return=ge,he):(he=A(he,be),he.return=ge,he)}function ue(ge,he,be,ze){var dt=be.type;return dt===ne?Le(ge,he,be.props.children,ze,be.key):he!==null&&(he.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===E&&ky(dt)===he.type)?(ze=A(he,be.props),ze.ref=El(ge,he,be),ze.return=ge,ze):(ze=Su(be.type,be.key,be.props,null,ge.mode,ze),ze.ref=El(ge,he,be),ze.return=ge,ze)}function Ee(ge,he,be,ze){return he===null||he.tag!==4||he.stateNode.containerInfo!==be.containerInfo||he.stateNode.implementation!==be.implementation?(he=op(be,ge.mode,ze),he.return=ge,he):(he=A(he,be.children||[]),he.return=ge,he)}function Le(ge,he,be,ze,dt){return he===null||he.tag!==7?(he=ds(be,ge.mode,ze,dt),he.return=ge,he):(he=A(he,be),he.return=ge,he)}function je(ge,he,be){if(typeof he=="string"&&he!==""||typeof he=="number")return he=rp(""+he,ge.mode,be),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case te:return be=Su(he.type,he.key,he.props,null,ge.mode,be),be.ref=El(ge,null,he),be.return=ge,be;case se:return he=op(he,ge.mode,be),he.return=ge,he;case E:var ze=he._init;return je(ge,ze(he._payload),be)}if(Me(he)||N(he))return he=ds(he,ge.mode,be,null),he.return=ge,he;Jc(ge,he)}return null}function Be(ge,he,be,ze){var dt=he!==null?he.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return dt!==null?null:ie(ge,he,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case te:return be.key===dt?ue(ge,he,be,ze):null;case se:return be.key===dt?Ee(ge,he,be,ze):null;case E:return dt=be._init,Be(ge,he,dt(be._payload),ze)}if(Me(be)||N(be))return dt!==null?null:Le(ge,he,be,ze,null);Jc(ge,be)}return null}function Je(ge,he,be,ze,dt){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return ge=ge.get(be)||null,ie(he,ge,""+ze,dt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case te:return ge=ge.get(ze.key===null?be:ze.key)||null,ue(he,ge,ze,dt);case se:return ge=ge.get(ze.key===null?be:ze.key)||null,Ee(he,ge,ze,dt);case E:var yt=ze._init;return Je(ge,he,be,yt(ze._payload),dt)}if(Me(ze)||N(ze))return ge=ge.get(be)||null,Le(he,ge,ze,dt,null);Jc(he,ze)}return null}function st(ge,he,be,ze){for(var dt=null,yt=null,wt=he,Et=he=0,Mn=null;wt!==null&&Et<be.length;Et++){wt.index>Et?(Mn=wt,wt=null):Mn=wt.sibling;var Ut=Be(ge,wt,be[Et],ze);if(Ut===null){wt===null&&(wt=Mn);break}o&&wt&&Ut.alternate===null&&a(ge,wt),he=M(Ut,he,Et),yt===null?dt=Ut:yt.sibling=Ut,yt=Ut,wt=Mn}if(Et===be.length)return u(ge,wt),sn&&rs(ge,Et),dt;if(wt===null){for(;Et<be.length;Et++)wt=je(ge,be[Et],ze),wt!==null&&(he=M(wt,he,Et),yt===null?dt=wt:yt.sibling=wt,yt=wt);return sn&&rs(ge,Et),dt}for(wt=g(ge,wt);Et<be.length;Et++)Mn=Je(wt,ge,Et,be[Et],ze),Mn!==null&&(o&&Mn.alternate!==null&&wt.delete(Mn.key===null?Et:Mn.key),he=M(Mn,he,Et),yt===null?dt=Mn:yt.sibling=Mn,yt=Mn);return o&&wt.forEach(function(Pi){return a(ge,Pi)}),sn&&rs(ge,Et),dt}function lt(ge,he,be,ze){var dt=N(be);if(typeof dt!="function")throw Error(t(150));if(be=dt.call(be),be==null)throw Error(t(151));for(var yt=dt=null,wt=he,Et=he=0,Mn=null,Ut=be.next();wt!==null&&!Ut.done;Et++,Ut=be.next()){wt.index>Et?(Mn=wt,wt=null):Mn=wt.sibling;var Pi=Be(ge,wt,Ut.value,ze);if(Pi===null){wt===null&&(wt=Mn);break}o&&wt&&Pi.alternate===null&&a(ge,wt),he=M(Pi,he,Et),yt===null?dt=Pi:yt.sibling=Pi,yt=Pi,wt=Mn}if(Ut.done)return u(ge,wt),sn&&rs(ge,Et),dt;if(wt===null){for(;!Ut.done;Et++,Ut=be.next())Ut=je(ge,Ut.value,ze),Ut!==null&&(he=M(Ut,he,Et),yt===null?dt=Ut:yt.sibling=Ut,yt=Ut);return sn&&rs(ge,Et),dt}for(wt=g(ge,wt);!Ut.done;Et++,Ut=be.next())Ut=Je(wt,ge,Et,Ut.value,ze),Ut!==null&&(o&&Ut.alternate!==null&&wt.delete(Ut.key===null?Et:Ut.key),he=M(Ut,he,Et),yt===null?dt=Ut:yt.sibling=Ut,yt=Ut);return o&&wt.forEach(function(sI){return a(ge,sI)}),sn&&rs(ge,Et),dt}function bn(ge,he,be,ze){if(typeof be=="object"&&be!==null&&be.type===ne&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case te:e:{for(var dt=be.key,yt=he;yt!==null;){if(yt.key===dt){if(dt=be.type,dt===ne){if(yt.tag===7){u(ge,yt.sibling),he=A(yt,be.props.children),he.return=ge,ge=he;break e}}else if(yt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===E&&ky(dt)===yt.type){u(ge,yt.sibling),he=A(yt,be.props),he.ref=El(ge,yt,be),he.return=ge,ge=he;break e}u(ge,yt);break}else a(ge,yt);yt=yt.sibling}be.type===ne?(he=ds(be.props.children,ge.mode,ze,be.key),he.return=ge,ge=he):(ze=Su(be.type,be.key,be.props,null,ge.mode,ze),ze.ref=El(ge,he,be),ze.return=ge,ge=ze)}return G(ge);case se:e:{for(yt=be.key;he!==null;){if(he.key===yt)if(he.tag===4&&he.stateNode.containerInfo===be.containerInfo&&he.stateNode.implementation===be.implementation){u(ge,he.sibling),he=A(he,be.children||[]),he.return=ge,ge=he;break e}else{u(ge,he);break}else a(ge,he);he=he.sibling}he=op(be,ge.mode,ze),he.return=ge,ge=he}return G(ge);case E:return yt=be._init,bn(ge,he,yt(be._payload),ze)}if(Me(be))return st(ge,he,be,ze);if(N(be))return lt(ge,he,be,ze);Jc(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,he!==null&&he.tag===6?(u(ge,he.sibling),he=A(he,be),he.return=ge,ge=he):(u(ge,he),he=rp(be,ge.mode,ze),he.return=ge,ge=he),G(ge)):u(ge,he)}return bn}var oa=Sy(!0),Ey=Sy(!1),eu=yi(null),tu=null,ia=null,hh=null;function ph(){hh=ia=tu=null}function mh(o){var a=eu.current;rn(eu),o._currentValue=a}function gh(o,a,u){for(;o!==null;){var g=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),o===u)break;o=o.return}}function sa(o,a){tu=o,hh=ia=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(fr=!0),o.firstContext=null)}function Mr(o){var a=o._currentValue;if(hh!==o)if(o={context:o,memoizedValue:a,next:null},ia===null){if(tu===null)throw Error(t(308));ia=o,tu.dependencies={lanes:0,firstContext:o}}else ia=ia.next=o;return a}var os=null;function yh(o){os===null?os=[o]:os.push(o)}function Ay(o,a,u,g){var A=a.interleaved;return A===null?(u.next=u,yh(a)):(u.next=A.next,A.next=u),a.interleaved=u,jo(o,g)}function jo(o,a){o.lanes|=a;var u=o.alternate;for(u!==null&&(u.lanes|=a),u=o,o=o.return;o!==null;)o.childLanes|=a,u=o.alternate,u!==null&&(u.childLanes|=a),u=o,o=o.return;return u.tag===3?u.stateNode:null}var xi=!1;function wh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _y(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Fo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function bi(o,a,u){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Ft&2)!==0){var A=g.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),g.pending=a,jo(o,u)}return A=g.interleaved,A===null?(a.next=a,yh(g)):(a.next=A.next,A.next=a),g.interleaved=a,jo(o,u)}function nu(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var g=a.lanes;g&=o.pendingLanes,u|=g,a.lanes=u,Nf(o,u)}}function Iy(o,a){var u=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var A=null,M=null;if(u=u.firstBaseUpdate,u!==null){do{var G={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};M===null?A=M=G:M=M.next=G,u=u.next}while(u!==null);M===null?A=M=a:M=M.next=a}else A=M=a;u={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:M,shared:g.shared,effects:g.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}function ru(o,a,u,g){var A=o.updateQueue;xi=!1;var M=A.firstBaseUpdate,G=A.lastBaseUpdate,ie=A.shared.pending;if(ie!==null){A.shared.pending=null;var ue=ie,Ee=ue.next;ue.next=null,G===null?M=Ee:G.next=Ee,G=ue;var Le=o.alternate;Le!==null&&(Le=Le.updateQueue,ie=Le.lastBaseUpdate,ie!==G&&(ie===null?Le.firstBaseUpdate=Ee:ie.next=Ee,Le.lastBaseUpdate=ue))}if(M!==null){var je=A.baseState;G=0,Le=Ee=ue=null,ie=M;do{var Be=ie.lane,Je=ie.eventTime;if((g&Be)===Be){Le!==null&&(Le=Le.next={eventTime:Je,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var st=o,lt=ie;switch(Be=a,Je=u,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){je=st.call(Je,je,Be);break e}je=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,Be=typeof st=="function"?st.call(Je,je,Be):st,Be==null)break e;je=b({},je,Be);break e;case 2:xi=!0}}ie.callback!==null&&ie.lane!==0&&(o.flags|=64,Be=A.effects,Be===null?A.effects=[ie]:Be.push(ie))}else Je={eventTime:Je,lane:Be,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Le===null?(Ee=Le=Je,ue=je):Le=Le.next=Je,G|=Be;if(ie=ie.next,ie===null){if(ie=A.shared.pending,ie===null)break;Be=ie,ie=Be.next,Be.next=null,A.lastBaseUpdate=Be,A.shared.pending=null}}while(!0);if(Le===null&&(ue=je),A.baseState=ue,A.firstBaseUpdate=Ee,A.lastBaseUpdate=Le,a=A.shared.interleaved,a!==null){A=a;do G|=A.lane,A=A.next;while(A!==a)}else M===null&&(A.shared.lanes=0);as|=G,o.lanes=G,o.memoizedState=je}}function Py(o,a,u){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var g=o[a],A=g.callback;if(A!==null){if(g.callback=null,g=u,typeof A!="function")throw Error(t(191,A));A.call(g)}}}var Al={},co=yi(Al),_l=yi(Al),Il=yi(Al);function is(o){if(o===Al)throw Error(t(174));return o}function vh(o,a){switch(Gt(Il,a),Gt(_l,o),Gt(co,Al),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ue(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Ue(a,o)}rn(co),Gt(co,a)}function aa(){rn(co),rn(_l),rn(Il)}function Ry(o){is(Il.current);var a=is(co.current),u=Ue(a,o.type);a!==u&&(Gt(_l,o),Gt(co,u))}function xh(o){_l.current===o&&(rn(co),rn(_l))}var dn=yi(0);function ou(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bh=[];function kh(){for(var o=0;o<bh.length;o++)bh[o]._workInProgressVersionPrimary=null;bh.length=0}var iu=Y.ReactCurrentDispatcher,Sh=Y.ReactCurrentBatchConfig,ss=0,fn=null,_n=null,Nn=null,su=!1,Pl=!1,Rl=0,P_=0;function qn(){throw Error(t(321))}function Eh(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!Vr(o[u],a[u]))return!1;return!0}function Ah(o,a,u,g,A,M){if(ss=M,fn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,iu.current=o===null||o.memoizedState===null?N_:B_,o=u(g,A),Pl){M=0;do{if(Pl=!1,Rl=0,25<=M)throw Error(t(301));M+=1,Nn=_n=null,a.updateQueue=null,iu.current=M_,o=u(g,A)}while(Pl)}if(iu.current=cu,a=_n!==null&&_n.next!==null,ss=0,Nn=_n=fn=null,su=!1,a)throw Error(t(300));return o}function _h(){var o=Rl!==0;return Rl=0,o}function uo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?fn.memoizedState=Nn=o:Nn=Nn.next=o,Nn}function Lr(){if(_n===null){var o=fn.alternate;o=o!==null?o.memoizedState:null}else o=_n.next;var a=Nn===null?fn.memoizedState:Nn.next;if(a!==null)Nn=a,_n=o;else{if(o===null)throw Error(t(310));_n=o,o={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Nn===null?fn.memoizedState=Nn=o:Nn=Nn.next=o}return Nn}function Tl(o,a){return typeof a=="function"?a(o):a}function Ih(o){var a=Lr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=o;var g=_n,A=g.baseQueue,M=u.pending;if(M!==null){if(A!==null){var G=A.next;A.next=M.next,M.next=G}g.baseQueue=A=M,u.pending=null}if(A!==null){M=A.next,g=g.baseState;var ie=G=null,ue=null,Ee=M;do{var Le=Ee.lane;if((ss&Le)===Le)ue!==null&&(ue=ue.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),g=Ee.hasEagerState?Ee.eagerState:o(g,Ee.action);else{var je={lane:Le,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ue===null?(ie=ue=je,G=g):ue=ue.next=je,fn.lanes|=Le,as|=Le}Ee=Ee.next}while(Ee!==null&&Ee!==M);ue===null?G=g:ue.next=ie,Vr(g,a.memoizedState)||(fr=!0),a.memoizedState=g,a.baseState=G,a.baseQueue=ue,u.lastRenderedState=g}if(o=u.interleaved,o!==null){A=o;do M=A.lane,fn.lanes|=M,as|=M,A=A.next;while(A!==o)}else A===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Ph(o){var a=Lr(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=o;var g=u.dispatch,A=u.pending,M=a.memoizedState;if(A!==null){u.pending=null;var G=A=A.next;do M=o(M,G.action),G=G.next;while(G!==A);Vr(M,a.memoizedState)||(fr=!0),a.memoizedState=M,a.baseQueue===null&&(a.baseState=M),u.lastRenderedState=M}return[M,g]}function Ty(){}function Cy(o,a){var u=fn,g=Lr(),A=a(),M=!Vr(g.memoizedState,A);if(M&&(g.memoizedState=A,fr=!0),g=g.queue,Rh(My.bind(null,u,g,o),[o]),g.getSnapshot!==a||M||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,Cl(9,By.bind(null,u,g,A,a),void 0,null),Bn===null)throw Error(t(349));(ss&30)!==0||Ny(u,a,A)}return A}function Ny(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=fn.updateQueue,a===null?(a={lastEffect:null,stores:null},fn.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function By(o,a,u,g){a.value=u,a.getSnapshot=g,Ly(a)&&Oy(o)}function My(o,a,u){return u(function(){Ly(a)&&Oy(o)})}function Ly(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!Vr(o,u)}catch{return!0}}function Oy(o){var a=jo(o,1);a!==null&&Gr(a,o,1,-1)}function Dy(o){var a=uo();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:o},a.queue=o,o=o.dispatch=C_.bind(null,fn,o),[a.memoizedState,o]}function Cl(o,a,u,g){return o={tag:o,create:a,destroy:u,deps:g,next:null},a=fn.updateQueue,a===null?(a={lastEffect:null,stores:null},fn.updateQueue=a,a.lastEffect=o.next=o):(u=a.lastEffect,u===null?a.lastEffect=o.next=o:(g=u.next,u.next=o,o.next=g,a.lastEffect=o)),o}function jy(){return Lr().memoizedState}function au(o,a,u,g){var A=uo();fn.flags|=o,A.memoizedState=Cl(1|a,u,void 0,g===void 0?null:g)}function lu(o,a,u,g){var A=Lr();g=g===void 0?null:g;var M=void 0;if(_n!==null){var G=_n.memoizedState;if(M=G.destroy,g!==null&&Eh(g,G.deps)){A.memoizedState=Cl(a,u,M,g);return}}fn.flags|=o,A.memoizedState=Cl(1|a,u,M,g)}function Fy(o,a){return au(8390656,8,o,a)}function Rh(o,a){return lu(2048,8,o,a)}function Uy(o,a){return lu(4,2,o,a)}function zy(o,a){return lu(4,4,o,a)}function $y(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Vy(o,a,u){return u=u!=null?u.concat([o]):null,lu(4,4,$y.bind(null,a,o),u)}function Th(){}function Wy(o,a){var u=Lr();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&Eh(a,g[1])?g[0]:(u.memoizedState=[o,a],o)}function Ky(o,a){var u=Lr();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&Eh(a,g[1])?g[0]:(o=o(),u.memoizedState=[o,a],o)}function qy(o,a,u){return(ss&21)===0?(o.baseState&&(o.baseState=!1,fr=!0),o.memoizedState=u):(Vr(u,a)||(u=k0(),fn.lanes|=u,as|=u,o.baseState=!0),a)}function R_(o,a){var u=Kt;Kt=u!==0&&4>u?u:4,o(!0);var g=Sh.transition;Sh.transition={};try{o(!1),a()}finally{Kt=u,Sh.transition=g}}function Hy(){return Lr().memoizedState}function T_(o,a,u){var g=Ai(o);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},Gy(o))Yy(a,u);else if(u=Ay(o,a,u,g),u!==null){var A=or();Gr(u,o,g,A),Zy(u,a,g)}}function C_(o,a,u){var g=Ai(o),A={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gy(o))Yy(a,A);else{var M=o.alternate;if(o.lanes===0&&(M===null||M.lanes===0)&&(M=a.lastRenderedReducer,M!==null))try{var G=a.lastRenderedState,ie=M(G,u);if(A.hasEagerState=!0,A.eagerState=ie,Vr(ie,G)){var ue=a.interleaved;ue===null?(A.next=A,yh(a)):(A.next=ue.next,ue.next=A),a.interleaved=A;return}}catch{}finally{}u=Ay(o,a,A,g),u!==null&&(A=or(),Gr(u,o,g,A),Zy(u,a,g))}}function Gy(o){var a=o.alternate;return o===fn||a!==null&&a===fn}function Yy(o,a){Pl=su=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function Zy(o,a,u){if((u&4194240)!==0){var g=a.lanes;g&=o.pendingLanes,u|=g,a.lanes=u,Nf(o,u)}}var cu={readContext:Mr,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},N_={readContext:Mr,useCallback:function(o,a){return uo().memoizedState=[o,a===void 0?null:a],o},useContext:Mr,useEffect:Fy,useImperativeHandle:function(o,a,u){return u=u!=null?u.concat([o]):null,au(4194308,4,$y.bind(null,a,o),u)},useLayoutEffect:function(o,a){return au(4194308,4,o,a)},useInsertionEffect:function(o,a){return au(4,2,o,a)},useMemo:function(o,a){var u=uo();return a=a===void 0?null:a,o=o(),u.memoizedState=[o,a],o},useReducer:function(o,a,u){var g=uo();return a=u!==void 0?u(a):a,g.memoizedState=g.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},g.queue=o,o=o.dispatch=T_.bind(null,fn,o),[g.memoizedState,o]},useRef:function(o){var a=uo();return o={current:o},a.memoizedState=o},useState:Dy,useDebugValue:Th,useDeferredValue:function(o){return uo().memoizedState=o},useTransition:function(){var o=Dy(!1),a=o[0];return o=R_.bind(null,o[1]),uo().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,u){var g=fn,A=uo();if(sn){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Bn===null)throw Error(t(349));(ss&30)!==0||Ny(g,a,u)}A.memoizedState=u;var M={value:u,getSnapshot:a};return A.queue=M,Fy(My.bind(null,g,M,o),[o]),g.flags|=2048,Cl(9,By.bind(null,g,M,u,a),void 0,null),u},useId:function(){var o=uo(),a=Bn.identifierPrefix;if(sn){var u=Do,g=Oo;u=(g&~(1<<32-nr(g)-1)).toString(32)+u,a=":"+a+"R"+u,u=Rl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=P_++,a=":"+a+"r"+u.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},B_={readContext:Mr,useCallback:Wy,useContext:Mr,useEffect:Rh,useImperativeHandle:Vy,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Ky,useReducer:Ih,useRef:jy,useState:function(){return Ih(Tl)},useDebugValue:Th,useDeferredValue:function(o){var a=Lr();return qy(a,_n.memoizedState,o)},useTransition:function(){var o=Ih(Tl)[0],a=Lr().memoizedState;return[o,a]},useMutableSource:Ty,useSyncExternalStore:Cy,useId:Hy,unstable_isNewReconciler:!1},M_={readContext:Mr,useCallback:Wy,useContext:Mr,useEffect:Rh,useImperativeHandle:Vy,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Ky,useReducer:Ph,useRef:jy,useState:function(){return Ph(Tl)},useDebugValue:Th,useDeferredValue:function(o){var a=Lr();return _n===null?a.memoizedState=o:qy(a,_n.memoizedState,o)},useTransition:function(){var o=Ph(Tl)[0],a=Lr().memoizedState;return[o,a]},useMutableSource:Ty,useSyncExternalStore:Cy,useId:Hy,unstable_isNewReconciler:!1};function Kr(o,a){if(o&&o.defaultProps){a=b({},a),o=o.defaultProps;for(var u in o)a[u]===void 0&&(a[u]=o[u]);return a}return a}function Ch(o,a,u,g){a=o.memoizedState,u=u(g,a),u=u==null?a:b({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var uu={isMounted:function(o){return(o=o._reactInternals)?ao(o)===o:!1},enqueueSetState:function(o,a,u){o=o._reactInternals;var g=or(),A=Ai(o),M=Fo(g,A);M.payload=a,u!=null&&(M.callback=u),a=bi(o,M,A),a!==null&&(Gr(a,o,A,g),nu(a,o,A))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var g=or(),A=Ai(o),M=Fo(g,A);M.tag=1,M.payload=a,u!=null&&(M.callback=u),a=bi(o,M,A),a!==null&&(Gr(a,o,A,g),nu(a,o,A))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=or(),g=Ai(o),A=Fo(u,g);A.tag=2,a!=null&&(A.callback=a),a=bi(o,A,g),a!==null&&(Gr(a,o,g,u),nu(a,o,g))}};function Xy(o,a,u,g,A,M,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,M,G):a.prototype&&a.prototype.isPureReactComponent?!yl(u,g)||!yl(A,M):!0}function Qy(o,a,u){var g=!1,A=wi,M=a.contextType;return typeof M=="object"&&M!==null?M=Mr(M):(A=dr(a)?ts:Kn.current,g=a.contextTypes,M=(g=g!=null)?ea(o,A):wi),a=new a(u,M),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=uu,o.stateNode=a,a._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=A,o.__reactInternalMemoizedMaskedChildContext=M),a}function Jy(o,a,u,g){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,g),a.state!==o&&uu.enqueueReplaceState(a,a.state,null)}function Nh(o,a,u,g){var A=o.stateNode;A.props=u,A.state=o.memoizedState,A.refs={},wh(o);var M=a.contextType;typeof M=="object"&&M!==null?A.context=Mr(M):(M=dr(a)?ts:Kn.current,A.context=ea(o,M)),A.state=o.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(Ch(o,a,M,u),A.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(a=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),a!==A.state&&uu.enqueueReplaceState(A,A.state,null),ru(o,u,A,g),A.state=o.memoizedState),typeof A.componentDidMount=="function"&&(o.flags|=4194308)}function la(o,a){try{var u="",g=a;do u+=q(g),g=g.return;while(g);var A=u}catch(M){A=`
Error generating stack: `+M.message+`
`+M.stack}return{value:o,source:a,stack:A,digest:null}}function Bh(o,a,u){return{value:o,source:null,stack:u??null,digest:a??null}}function Mh(o,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var L_=typeof WeakMap=="function"?WeakMap:Map;function ew(o,a,u){u=Fo(-1,u),u.tag=3,u.payload={element:null};var g=a.value;return u.callback=function(){yu||(yu=!0,Yh=g),Mh(o,a)},u}function tw(o,a,u){u=Fo(-1,u),u.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var A=a.value;u.payload=function(){return g(A)},u.callback=function(){Mh(o,a)}}var M=o.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(u.callback=function(){Mh(o,a),typeof g!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var G=a.stack;this.componentDidCatch(a.value,{componentStack:G!==null?G:""})}),u}function nw(o,a,u){var g=o.pingCache;if(g===null){g=o.pingCache=new L_;var A=new Set;g.set(a,A)}else A=g.get(a),A===void 0&&(A=new Set,g.set(a,A));A.has(u)||(A.add(u),o=Y_.bind(null,o,a,u),a.then(o,o))}function rw(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function ow(o,a,u,g,A){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Fo(-1,1),a.tag=2,bi(u,a,1))),u.lanes|=1),o):(o.flags|=65536,o.lanes=A,o)}var O_=Y.ReactCurrentOwner,fr=!1;function rr(o,a,u,g){a.child=o===null?Ey(a,null,u,g):oa(a,o.child,u,g)}function iw(o,a,u,g,A){u=u.render;var M=a.ref;return sa(a,A),g=Ah(o,a,u,g,M,A),u=_h(),o!==null&&!fr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~A,Uo(o,a,A)):(sn&&u&&lh(a),a.flags|=1,rr(o,a,g,A),a.child)}function sw(o,a,u,g,A){if(o===null){var M=u.type;return typeof M=="function"&&!np(M)&&M.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=M,aw(o,a,M,g,A)):(o=Su(u.type,null,g,a,a.mode,A),o.ref=a.ref,o.return=a,a.child=o)}if(M=o.child,(o.lanes&A)===0){var G=M.memoizedProps;if(u=u.compare,u=u!==null?u:yl,u(G,g)&&o.ref===a.ref)return Uo(o,a,A)}return a.flags|=1,o=Ii(M,g),o.ref=a.ref,o.return=a,a.child=o}function aw(o,a,u,g,A){if(o!==null){var M=o.memoizedProps;if(yl(M,g)&&o.ref===a.ref)if(fr=!1,a.pendingProps=g=M,(o.lanes&A)!==0)(o.flags&131072)!==0&&(fr=!0);else return a.lanes=o.lanes,Uo(o,a,A)}return Lh(o,a,u,g,A)}function lw(o,a,u){var g=a.pendingProps,A=g.children,M=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(ua,Ar),Ar|=u;else{if((u&1073741824)===0)return o=M!==null?M.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Gt(ua,Ar),Ar|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=M!==null?M.baseLanes:u,Gt(ua,Ar),Ar|=g}else M!==null?(g=M.baseLanes|u,a.memoizedState=null):g=u,Gt(ua,Ar),Ar|=g;return rr(o,a,A,u),a.child}function cw(o,a){var u=a.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Lh(o,a,u,g,A){var M=dr(u)?ts:Kn.current;return M=ea(a,M),sa(a,A),u=Ah(o,a,u,g,M,A),g=_h(),o!==null&&!fr?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~A,Uo(o,a,A)):(sn&&g&&lh(a),a.flags|=1,rr(o,a,u,A),a.child)}function uw(o,a,u,g,A){if(dr(u)){var M=!0;Gc(a)}else M=!1;if(sa(a,A),a.stateNode===null)fu(o,a),Qy(a,u,g),Nh(a,u,g,A),g=!0;else if(o===null){var G=a.stateNode,ie=a.memoizedProps;G.props=ie;var ue=G.context,Ee=u.contextType;typeof Ee=="object"&&Ee!==null?Ee=Mr(Ee):(Ee=dr(u)?ts:Kn.current,Ee=ea(a,Ee));var Le=u.getDerivedStateFromProps,je=typeof Le=="function"||typeof G.getSnapshotBeforeUpdate=="function";je||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ie!==g||ue!==Ee)&&Jy(a,G,g,Ee),xi=!1;var Be=a.memoizedState;G.state=Be,ru(a,g,G,A),ue=a.memoizedState,ie!==g||Be!==ue||ur.current||xi?(typeof Le=="function"&&(Ch(a,u,Le,g),ue=a.memoizedState),(ie=xi||Xy(a,u,ie,g,Be,ue,Ee))?(je||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(a.flags|=4194308)):(typeof G.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=ue),G.props=g,G.state=ue,G.context=Ee,g=ie):(typeof G.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{G=a.stateNode,_y(o,a),ie=a.memoizedProps,Ee=a.type===a.elementType?ie:Kr(a.type,ie),G.props=Ee,je=a.pendingProps,Be=G.context,ue=u.contextType,typeof ue=="object"&&ue!==null?ue=Mr(ue):(ue=dr(u)?ts:Kn.current,ue=ea(a,ue));var Je=u.getDerivedStateFromProps;(Le=typeof Je=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ie!==je||Be!==ue)&&Jy(a,G,g,ue),xi=!1,Be=a.memoizedState,G.state=Be,ru(a,g,G,A);var st=a.memoizedState;ie!==je||Be!==st||ur.current||xi?(typeof Je=="function"&&(Ch(a,u,Je,g),st=a.memoizedState),(Ee=xi||Xy(a,u,Ee,g,Be,st,ue)||!1)?(Le||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(g,st,ue),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(g,st,ue)),typeof G.componentDidUpdate=="function"&&(a.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof G.componentDidUpdate!="function"||ie===o.memoizedProps&&Be===o.memoizedState||(a.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&Be===o.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=st),G.props=g,G.state=st,G.context=ue,g=Ee):(typeof G.componentDidUpdate!="function"||ie===o.memoizedProps&&Be===o.memoizedState||(a.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&Be===o.memoizedState||(a.flags|=1024),g=!1)}return Oh(o,a,u,g,M,A)}function Oh(o,a,u,g,A,M){cw(o,a);var G=(a.flags&128)!==0;if(!g&&!G)return A&&my(a,u,!1),Uo(o,a,M);g=a.stateNode,O_.current=a;var ie=G&&typeof u.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,o!==null&&G?(a.child=oa(a,o.child,null,M),a.child=oa(a,null,ie,M)):rr(o,a,ie,M),a.memoizedState=g.state,A&&my(a,u,!0),a.child}function dw(o){var a=o.stateNode;a.pendingContext?hy(o,a.pendingContext,a.pendingContext!==a.context):a.context&&hy(o,a.context,!1),vh(o,a.containerInfo)}function fw(o,a,u,g,A){return ra(),fh(A),a.flags|=256,rr(o,a,u,g),a.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function jh(o){return{baseLanes:o,cachePool:null,transitions:null}}function hw(o,a,u){var g=a.pendingProps,A=dn.current,M=!1,G=(a.flags&128)!==0,ie;if((ie=G)||(ie=o!==null&&o.memoizedState===null?!1:(A&2)!==0),ie?(M=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(A|=1),Gt(dn,A&1),o===null)return dh(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(G=g.children,o=g.fallback,M?(g=a.mode,M=a.child,G={mode:"hidden",children:G},(g&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=G):M=Eu(G,g,0,null),o=ds(o,g,u,null),M.return=a,o.return=a,M.sibling=o,a.child=M,a.child.memoizedState=jh(u),a.memoizedState=Dh,o):Fh(a,G));if(A=o.memoizedState,A!==null&&(ie=A.dehydrated,ie!==null))return D_(o,a,G,g,ie,A,u);if(M){M=g.fallback,G=a.mode,A=o.child,ie=A.sibling;var ue={mode:"hidden",children:g.children};return(G&1)===0&&a.child!==A?(g=a.child,g.childLanes=0,g.pendingProps=ue,a.deletions=null):(g=Ii(A,ue),g.subtreeFlags=A.subtreeFlags&14680064),ie!==null?M=Ii(ie,M):(M=ds(M,G,u,null),M.flags|=2),M.return=a,g.return=a,g.sibling=M,a.child=g,g=M,M=a.child,G=o.child.memoizedState,G=G===null?jh(u):{baseLanes:G.baseLanes|u,cachePool:null,transitions:G.transitions},M.memoizedState=G,M.childLanes=o.childLanes&~u,a.memoizedState=Dh,g}return M=o.child,o=M.sibling,g=Ii(M,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=u),g.return=a,g.sibling=null,o!==null&&(u=a.deletions,u===null?(a.deletions=[o],a.flags|=16):u.push(o)),a.child=g,a.memoizedState=null,g}function Fh(o,a){return a=Eu({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function du(o,a,u,g){return g!==null&&fh(g),oa(a,o.child,null,u),o=Fh(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function D_(o,a,u,g,A,M,G){if(u)return a.flags&256?(a.flags&=-257,g=Bh(Error(t(422))),du(o,a,G,g)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(M=g.fallback,A=a.mode,g=Eu({mode:"visible",children:g.children},A,0,null),M=ds(M,A,G,null),M.flags|=2,g.return=a,M.return=a,g.sibling=M,a.child=g,(a.mode&1)!==0&&oa(a,o.child,null,G),a.child.memoizedState=jh(G),a.memoizedState=Dh,M);if((a.mode&1)===0)return du(o,a,G,null);if(A.data==="$!"){if(g=A.nextSibling&&A.nextSibling.dataset,g)var ie=g.dgst;return g=ie,M=Error(t(419)),g=Bh(M,g,void 0),du(o,a,G,g)}if(ie=(G&o.childLanes)!==0,fr||ie){if(g=Bn,g!==null){switch(G&-G){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(g.suspendedLanes|G))!==0?0:A,A!==0&&A!==M.retryLane&&(M.retryLane=A,jo(o,A),Gr(g,o,A,-1))}return tp(),g=Bh(Error(t(421))),du(o,a,G,g)}return A.data==="$?"?(a.flags|=128,a.child=o.child,a=Z_.bind(null,o),A._reactRetry=a,null):(o=M.treeContext,Er=gi(A.nextSibling),Sr=a,sn=!0,Wr=null,o!==null&&(Nr[Br++]=Oo,Nr[Br++]=Do,Nr[Br++]=ns,Oo=o.id,Do=o.overflow,ns=a),a=Fh(a,g.children),a.flags|=4096,a)}function pw(o,a,u){o.lanes|=a;var g=o.alternate;g!==null&&(g.lanes|=a),gh(o.return,a,u)}function Uh(o,a,u,g,A){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:A}:(M.isBackwards=a,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=u,M.tailMode=A)}function mw(o,a,u){var g=a.pendingProps,A=g.revealOrder,M=g.tail;if(rr(o,a,g.children,u),g=dn.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&pw(o,u,a);else if(o.tag===19)pw(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Gt(dn,g),(a.mode&1)===0)a.memoizedState=null;else switch(A){case"forwards":for(u=a.child,A=null;u!==null;)o=u.alternate,o!==null&&ou(o)===null&&(A=u),u=u.sibling;u=A,u===null?(A=a.child,a.child=null):(A=u.sibling,u.sibling=null),Uh(a,!1,A,u,M);break;case"backwards":for(u=null,A=a.child,a.child=null;A!==null;){if(o=A.alternate,o!==null&&ou(o)===null){a.child=A;break}o=A.sibling,A.sibling=u,u=A,A=o}Uh(a,!0,u,null,M);break;case"together":Uh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fu(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Uo(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),as|=a.lanes,(u&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,u=Ii(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=Ii(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function j_(o,a,u){switch(a.tag){case 3:dw(a),ra();break;case 5:Ry(a);break;case 1:dr(a.type)&&Gc(a);break;case 4:vh(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,A=a.memoizedProps.value;Gt(eu,g._currentValue),g._currentValue=A;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Gt(dn,dn.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?hw(o,a,u):(Gt(dn,dn.current&1),o=Uo(o,a,u),o!==null?o.sibling:null);Gt(dn,dn.current&1);break;case 19:if(g=(u&a.childLanes)!==0,(o.flags&128)!==0){if(g)return mw(o,a,u);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Gt(dn,dn.current),g)break;return null;case 22:case 23:return a.lanes=0,lw(o,a,u)}return Uo(o,a,u)}var gw,zh,yw,ww;gw=function(o,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},zh=function(){},yw=function(o,a,u,g){var A=o.memoizedProps;if(A!==g){o=a.stateNode,is(co.current);var M=null;switch(u){case"input":A=Pt(o,A),g=Pt(o,g),M=[];break;case"select":A=b({},A,{value:void 0}),g=b({},g,{value:void 0}),M=[];break;case"textarea":A=Fe(o,A),g=Fe(o,g),M=[];break;default:typeof A.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Kc)}we(u,g);var G;u=null;for(Ee in A)if(!g.hasOwnProperty(Ee)&&A.hasOwnProperty(Ee)&&A[Ee]!=null)if(Ee==="style"){var ie=A[Ee];for(G in ie)ie.hasOwnProperty(G)&&(u||(u={}),u[G]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?M||(M=[]):(M=M||[]).push(Ee,null));for(Ee in g){var ue=g[Ee];if(ie=A?.[Ee],g.hasOwnProperty(Ee)&&ue!==ie&&(ue!=null||ie!=null))if(Ee==="style")if(ie){for(G in ie)!ie.hasOwnProperty(G)||ue&&ue.hasOwnProperty(G)||(u||(u={}),u[G]="");for(G in ue)ue.hasOwnProperty(G)&&ie[G]!==ue[G]&&(u||(u={}),u[G]=ue[G])}else u||(M||(M=[]),M.push(Ee,u)),u=ue;else Ee==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ie=ie?ie.__html:void 0,ue!=null&&ie!==ue&&(M=M||[]).push(Ee,ue)):Ee==="children"?typeof ue!="string"&&typeof ue!="number"||(M=M||[]).push(Ee,""+ue):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(ue!=null&&Ee==="onScroll"&&nn("scroll",o),M||ie===ue||(M=[])):(M=M||[]).push(Ee,ue))}u&&(M=M||[]).push("style",u);var Ee=M;(a.updateQueue=Ee)&&(a.flags|=4)}},ww=function(o,a,u,g){u!==g&&(a.flags|=4)};function Nl(o,a){if(!sn)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Hn(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,g=0;if(a)for(var A=o.child;A!==null;)u|=A.lanes|A.childLanes,g|=A.subtreeFlags&14680064,g|=A.flags&14680064,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)u|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=g,o.childLanes=u,a}function F_(o,a,u){var g=a.pendingProps;switch(ch(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(a),null;case 1:return dr(a.type)&&Hc(),Hn(a),null;case 3:return g=a.stateNode,aa(),rn(ur),rn(Kn),kh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Qc(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Wr!==null&&(Qh(Wr),Wr=null))),zh(o,a),Hn(a),null;case 5:xh(a);var A=is(Il.current);if(u=a.type,o!==null&&a.stateNode!=null)yw(o,a,u,g,A),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return Hn(a),null}if(o=is(co.current),Qc(a)){g=a.stateNode,u=a.type;var M=a.memoizedProps;switch(g[lo]=a,g[kl]=M,o=(a.mode&1)!==0,u){case"dialog":nn("cancel",g),nn("close",g);break;case"iframe":case"object":case"embed":nn("load",g);break;case"video":case"audio":for(A=0;A<vl.length;A++)nn(vl[A],g);break;case"source":nn("error",g);break;case"img":case"image":case"link":nn("error",g),nn("load",g);break;case"details":nn("toggle",g);break;case"input":ye(g,M),nn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!M.multiple},nn("invalid",g);break;case"textarea":Se(g,M),nn("invalid",g)}we(u,M),A=null;for(var G in M)if(M.hasOwnProperty(G)){var ie=M[G];G==="children"?typeof ie=="string"?g.textContent!==ie&&(M.suppressHydrationWarning!==!0&&Wc(g.textContent,ie,o),A=["children",ie]):typeof ie=="number"&&g.textContent!==""+ie&&(M.suppressHydrationWarning!==!0&&Wc(g.textContent,ie,o),A=["children",""+ie]):i.hasOwnProperty(G)&&ie!=null&&G==="onScroll"&&nn("scroll",g)}switch(u){case"input":Pe(g),Re(g,M,!0);break;case"textarea":Pe(g),vt(g);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(g.onclick=Kc)}g=A,a.updateQueue=g,g!==null&&(a.flags|=4)}else{G=A.nodeType===9?A:A.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Qe(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=G.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=G.createElement(u,{is:g.is}):(o=G.createElement(u),u==="select"&&(G=o,g.multiple?G.multiple=!0:g.size&&(G.size=g.size))):o=G.createElementNS(o,u),o[lo]=a,o[kl]=g,gw(o,a,!1,!1),a.stateNode=o;e:{switch(G=it(u,g),u){case"dialog":nn("cancel",o),nn("close",o),A=g;break;case"iframe":case"object":case"embed":nn("load",o),A=g;break;case"video":case"audio":for(A=0;A<vl.length;A++)nn(vl[A],o);A=g;break;case"source":nn("error",o),A=g;break;case"img":case"image":case"link":nn("error",o),nn("load",o),A=g;break;case"details":nn("toggle",o),A=g;break;case"input":ye(o,g),A=Pt(o,g),nn("invalid",o);break;case"option":A=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},A=b({},g,{value:void 0}),nn("invalid",o);break;case"textarea":Se(o,g),A=Fe(o,g),nn("invalid",o);break;default:A=g}we(u,A),ie=A;for(M in ie)if(ie.hasOwnProperty(M)){var ue=ie[M];M==="style"?ce(o,ue):M==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&nt(o,ue)):M==="children"?typeof ue=="string"?(u!=="textarea"||ue!=="")&&W(o,ue):typeof ue=="number"&&W(o,""+ue):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ue!=null&&M==="onScroll"&&nn("scroll",o):ue!=null&&F(o,M,ue,G))}switch(u){case"input":Pe(o),Re(o,g,!1);break;case"textarea":Pe(o),vt(o);break;case"option":g.value!=null&&o.setAttribute("value",""+fe(g.value));break;case"select":o.multiple=!!g.multiple,M=g.value,M!=null?Te(o,!!g.multiple,M,!1):g.defaultValue!=null&&Te(o,!!g.multiple,g.defaultValue,!0);break;default:typeof A.onClick=="function"&&(o.onclick=Kc)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Hn(a),null;case 6:if(o&&a.stateNode!=null)ww(o,a,o.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(u=is(Il.current),is(co.current),Qc(a)){if(g=a.stateNode,u=a.memoizedProps,g[lo]=a,(M=g.nodeValue!==u)&&(o=Sr,o!==null))switch(o.tag){case 3:Wc(g.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Wc(g.nodeValue,u,(o.mode&1)!==0)}M&&(a.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[lo]=a,a.stateNode=g}return Hn(a),null;case 13:if(rn(dn),g=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(sn&&Er!==null&&(a.mode&1)!==0&&(a.flags&128)===0)by(),ra(),a.flags|=98560,M=!1;else if(M=Qc(a),g!==null&&g.dehydrated!==null){if(o===null){if(!M)throw Error(t(318));if(M=a.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(t(317));M[lo]=a}else ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Hn(a),M=!1}else Wr!==null&&(Qh(Wr),Wr=null),M=!0;if(!M)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(dn.current&1)!==0?In===0&&(In=3):tp())),a.updateQueue!==null&&(a.flags|=4),Hn(a),null);case 4:return aa(),zh(o,a),o===null&&xl(a.stateNode.containerInfo),Hn(a),null;case 10:return mh(a.type._context),Hn(a),null;case 17:return dr(a.type)&&Hc(),Hn(a),null;case 19:if(rn(dn),M=a.memoizedState,M===null)return Hn(a),null;if(g=(a.flags&128)!==0,G=M.rendering,G===null)if(g)Nl(M,!1);else{if(In!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(G=ou(o),G!==null){for(a.flags|=128,Nl(M,!1),g=G.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=u,u=a.child;u!==null;)M=u,o=g,M.flags&=14680066,G=M.alternate,G===null?(M.childLanes=0,M.lanes=o,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=G.childLanes,M.lanes=G.lanes,M.child=G.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=G.memoizedProps,M.memoizedState=G.memoizedState,M.updateQueue=G.updateQueue,M.type=G.type,o=G.dependencies,M.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return Gt(dn,dn.current&1|2),a.child}o=o.sibling}M.tail!==null&&tn()>da&&(a.flags|=128,g=!0,Nl(M,!1),a.lanes=4194304)}else{if(!g)if(o=ou(G),o!==null){if(a.flags|=128,g=!0,u=o.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Nl(M,!0),M.tail===null&&M.tailMode==="hidden"&&!G.alternate&&!sn)return Hn(a),null}else 2*tn()-M.renderingStartTime>da&&u!==1073741824&&(a.flags|=128,g=!0,Nl(M,!1),a.lanes=4194304);M.isBackwards?(G.sibling=a.child,a.child=G):(u=M.last,u!==null?u.sibling=G:a.child=G,M.last=G)}return M.tail!==null?(a=M.tail,M.rendering=a,M.tail=a.sibling,M.renderingStartTime=tn(),a.sibling=null,u=dn.current,Gt(dn,g?u&1|2:u&1),a):(Hn(a),null);case 22:case 23:return ep(),g=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Ar&1073741824)!==0&&(Hn(a),a.subtreeFlags&6&&(a.flags|=8192)):Hn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function U_(o,a){switch(ch(a),a.tag){case 1:return dr(a.type)&&Hc(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return aa(),rn(ur),rn(Kn),kh(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return xh(a),null;case 13:if(rn(dn),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ra()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return rn(dn),null;case 4:return aa(),null;case 10:return mh(a.type._context),null;case 22:case 23:return ep(),null;case 24:return null;default:return null}}var hu=!1,Gn=!1,z_=typeof WeakSet=="function"?WeakSet:Set,ot=null;function ca(o,a){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){yn(o,a,g)}else u.current=null}function $h(o,a,u){try{u()}catch(g){yn(o,a,g)}}var vw=!1;function $_(o,a){if(eh=Bc,o=X0(),qf(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var A=g.anchorOffset,M=g.focusNode;g=g.focusOffset;try{u.nodeType,M.nodeType}catch{u=null;break e}var G=0,ie=-1,ue=-1,Ee=0,Le=0,je=o,Be=null;t:for(;;){for(var Je;je!==u||A!==0&&je.nodeType!==3||(ie=G+A),je!==M||g!==0&&je.nodeType!==3||(ue=G+g),je.nodeType===3&&(G+=je.nodeValue.length),(Je=je.firstChild)!==null;)Be=je,je=Je;for(;;){if(je===o)break t;if(Be===u&&++Ee===A&&(ie=G),Be===M&&++Le===g&&(ue=G),(Je=je.nextSibling)!==null)break;je=Be,Be=je.parentNode}je=Je}u=ie===-1||ue===-1?null:{start:ie,end:ue}}else u=null}u=u||{start:0,end:0}}else u=null;for(th={focusedElem:o,selectionRange:u},Bc=!1,ot=a;ot!==null;)if(a=ot,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ot=o;else for(;ot!==null;){a=ot;try{var st=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,bn=st.memoizedState,ge=a.stateNode,he=ge.getSnapshotBeforeUpdate(a.elementType===a.type?lt:Kr(a.type,lt),bn);ge.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var be=a.stateNode.containerInfo;be.nodeType===1?be.textContent="":be.nodeType===9&&be.documentElement&&be.removeChild(be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ze){yn(a,a.return,ze)}if(o=a.sibling,o!==null){o.return=a.return,ot=o;break}ot=a.return}return st=vw,vw=!1,st}function Bl(o,a,u){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var A=g=g.next;do{if((A.tag&o)===o){var M=A.destroy;A.destroy=void 0,M!==void 0&&$h(a,u,M)}A=A.next}while(A!==g)}}function pu(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&o)===o){var g=u.create;u.destroy=g()}u=u.next}while(u!==a)}}function Vh(o){var a=o.ref;if(a!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof a=="function"?a(o):a.current=o}}function xw(o){var a=o.alternate;a!==null&&(o.alternate=null,xw(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[lo],delete a[kl],delete a[ih],delete a[E_],delete a[A_])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function bw(o){return o.tag===5||o.tag===3||o.tag===4}function kw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||bw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wh(o,a,u){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(o,a):u.insertBefore(o,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(o,u)):(a=u,a.appendChild(o)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Kc));else if(g!==4&&(o=o.child,o!==null))for(Wh(o,a,u),o=o.sibling;o!==null;)Wh(o,a,u),o=o.sibling}function Kh(o,a,u){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Kh(o,a,u),o=o.sibling;o!==null;)Kh(o,a,u),o=o.sibling}var Fn=null,qr=!1;function ki(o,a,u){for(u=u.child;u!==null;)Sw(o,a,u),u=u.sibling}function Sw(o,a,u){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(ci,u)}catch{}switch(u.tag){case 5:Gn||ca(u,a);case 6:var g=Fn,A=qr;Fn=null,ki(o,a,u),Fn=g,qr=A,Fn!==null&&(qr?(o=Fn,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):Fn.removeChild(u.stateNode));break;case 18:Fn!==null&&(qr?(o=Fn,u=u.stateNode,o.nodeType===8?oh(o.parentNode,u):o.nodeType===1&&oh(o,u),dl(o)):oh(Fn,u.stateNode));break;case 4:g=Fn,A=qr,Fn=u.stateNode.containerInfo,qr=!0,ki(o,a,u),Fn=g,qr=A;break;case 0:case 11:case 14:case 15:if(!Gn&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){A=g=g.next;do{var M=A,G=M.destroy;M=M.tag,G!==void 0&&((M&2)!==0||(M&4)!==0)&&$h(u,a,G),A=A.next}while(A!==g)}ki(o,a,u);break;case 1:if(!Gn&&(ca(u,a),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(ie){yn(u,a,ie)}ki(o,a,u);break;case 21:ki(o,a,u);break;case 22:u.mode&1?(Gn=(g=Gn)||u.memoizedState!==null,ki(o,a,u),Gn=g):ki(o,a,u);break;default:ki(o,a,u)}}function Ew(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new z_),a.forEach(function(g){var A=X_.bind(null,o,g);u.has(g)||(u.add(g),g.then(A,A))})}}function Hr(o,a){var u=a.deletions;if(u!==null)for(var g=0;g<u.length;g++){var A=u[g];try{var M=o,G=a,ie=G;e:for(;ie!==null;){switch(ie.tag){case 5:Fn=ie.stateNode,qr=!1;break e;case 3:Fn=ie.stateNode.containerInfo,qr=!0;break e;case 4:Fn=ie.stateNode.containerInfo,qr=!0;break e}ie=ie.return}if(Fn===null)throw Error(t(160));Sw(M,G,A),Fn=null,qr=!1;var ue=A.alternate;ue!==null&&(ue.return=null),A.return=null}catch(Ee){yn(A,a,Ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Aw(a,o),a=a.sibling}function Aw(o,a){var u=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Hr(a,o),fo(o),g&4){try{Bl(3,o,o.return),pu(3,o)}catch(lt){yn(o,o.return,lt)}try{Bl(5,o,o.return)}catch(lt){yn(o,o.return,lt)}}break;case 1:Hr(a,o),fo(o),g&512&&u!==null&&ca(u,u.return);break;case 5:if(Hr(a,o),fo(o),g&512&&u!==null&&ca(u,u.return),o.flags&32){var A=o.stateNode;try{W(A,"")}catch(lt){yn(o,o.return,lt)}}if(g&4&&(A=o.stateNode,A!=null)){var M=o.memoizedProps,G=u!==null?u.memoizedProps:M,ie=o.type,ue=o.updateQueue;if(o.updateQueue=null,ue!==null)try{ie==="input"&&M.type==="radio"&&M.name!=null&&xe(A,M),it(ie,G);var Ee=it(ie,M);for(G=0;G<ue.length;G+=2){var Le=ue[G],je=ue[G+1];Le==="style"?ce(A,je):Le==="dangerouslySetInnerHTML"?nt(A,je):Le==="children"?W(A,je):F(A,Le,je,Ee)}switch(ie){case"input":Ce(A,M);break;case"textarea":We(A,M);break;case"select":var Be=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!M.multiple;var Je=M.value;Je!=null?Te(A,!!M.multiple,Je,!1):Be!==!!M.multiple&&(M.defaultValue!=null?Te(A,!!M.multiple,M.defaultValue,!0):Te(A,!!M.multiple,M.multiple?[]:"",!1))}A[kl]=M}catch(lt){yn(o,o.return,lt)}}break;case 6:if(Hr(a,o),fo(o),g&4){if(o.stateNode===null)throw Error(t(162));A=o.stateNode,M=o.memoizedProps;try{A.nodeValue=M}catch(lt){yn(o,o.return,lt)}}break;case 3:if(Hr(a,o),fo(o),g&4&&u!==null&&u.memoizedState.isDehydrated)try{dl(a.containerInfo)}catch(lt){yn(o,o.return,lt)}break;case 4:Hr(a,o),fo(o);break;case 13:Hr(a,o),fo(o),A=o.child,A.flags&8192&&(M=A.memoizedState!==null,A.stateNode.isHidden=M,!M||A.alternate!==null&&A.alternate.memoizedState!==null||(Gh=tn())),g&4&&Ew(o);break;case 22:if(Le=u!==null&&u.memoizedState!==null,o.mode&1?(Gn=(Ee=Gn)||Le,Hr(a,o),Gn=Ee):Hr(a,o),fo(o),g&8192){if(Ee=o.memoizedState!==null,(o.stateNode.isHidden=Ee)&&!Le&&(o.mode&1)!==0)for(ot=o,Le=o.child;Le!==null;){for(je=ot=Le;ot!==null;){switch(Be=ot,Je=Be.child,Be.tag){case 0:case 11:case 14:case 15:Bl(4,Be,Be.return);break;case 1:ca(Be,Be.return);var st=Be.stateNode;if(typeof st.componentWillUnmount=="function"){g=Be,u=Be.return;try{a=g,st.props=a.memoizedProps,st.state=a.memoizedState,st.componentWillUnmount()}catch(lt){yn(g,u,lt)}}break;case 5:ca(Be,Be.return);break;case 22:if(Be.memoizedState!==null){Pw(je);continue}}Je!==null?(Je.return=Be,ot=Je):Pw(je)}Le=Le.sibling}e:for(Le=null,je=o;;){if(je.tag===5){if(Le===null){Le=je;try{A=je.stateNode,Ee?(M=A.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ie=je.stateNode,ue=je.memoizedProps.style,G=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ie.style.display=X("display",G))}catch(lt){yn(o,o.return,lt)}}}else if(je.tag===6){if(Le===null)try{je.stateNode.nodeValue=Ee?"":je.memoizedProps}catch(lt){yn(o,o.return,lt)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===o)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===o)break e;for(;je.sibling===null;){if(je.return===null||je.return===o)break e;Le===je&&(Le=null),je=je.return}Le===je&&(Le=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Hr(a,o),fo(o),g&4&&Ew(o);break;case 21:break;default:Hr(a,o),fo(o)}}function fo(o){var a=o.flags;if(a&2){try{e:{for(var u=o.return;u!==null;){if(bw(u)){var g=u;break e}u=u.return}throw Error(t(160))}switch(g.tag){case 5:var A=g.stateNode;g.flags&32&&(W(A,""),g.flags&=-33);var M=kw(o);Kh(o,M,A);break;case 3:case 4:var G=g.stateNode.containerInfo,ie=kw(o);Wh(o,ie,G);break;default:throw Error(t(161))}}catch(ue){yn(o,o.return,ue)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function V_(o,a,u){ot=o,_w(o)}function _w(o,a,u){for(var g=(o.mode&1)!==0;ot!==null;){var A=ot,M=A.child;if(A.tag===22&&g){var G=A.memoizedState!==null||hu;if(!G){var ie=A.alternate,ue=ie!==null&&ie.memoizedState!==null||Gn;ie=hu;var Ee=Gn;if(hu=G,(Gn=ue)&&!Ee)for(ot=A;ot!==null;)G=ot,ue=G.child,G.tag===22&&G.memoizedState!==null?Rw(A):ue!==null?(ue.return=G,ot=ue):Rw(A);for(;M!==null;)ot=M,_w(M),M=M.sibling;ot=A,hu=ie,Gn=Ee}Iw(o)}else(A.subtreeFlags&8772)!==0&&M!==null?(M.return=A,ot=M):Iw(o)}}function Iw(o){for(;ot!==null;){var a=ot;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Gn||pu(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Gn)if(u===null)g.componentDidMount();else{var A=a.elementType===a.type?u.memoizedProps:Kr(a.type,u.memoizedProps);g.componentDidUpdate(A,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var M=a.updateQueue;M!==null&&Py(a,M,g);break;case 3:var G=a.updateQueue;if(G!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Py(a,G,u)}break;case 5:var ie=a.stateNode;if(u===null&&a.flags&4){u=ie;var ue=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&u.focus();break;case"img":ue.src&&(u.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ee=a.alternate;if(Ee!==null){var Le=Ee.memoizedState;if(Le!==null){var je=Le.dehydrated;je!==null&&dl(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gn||a.flags&512&&Vh(a)}catch(Be){yn(a,a.return,Be)}}if(a===o){ot=null;break}if(u=a.sibling,u!==null){u.return=a.return,ot=u;break}ot=a.return}}function Pw(o){for(;ot!==null;){var a=ot;if(a===o){ot=null;break}var u=a.sibling;if(u!==null){u.return=a.return,ot=u;break}ot=a.return}}function Rw(o){for(;ot!==null;){var a=ot;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{pu(4,a)}catch(ue){yn(a,u,ue)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var A=a.return;try{g.componentDidMount()}catch(ue){yn(a,A,ue)}}var M=a.return;try{Vh(a)}catch(ue){yn(a,M,ue)}break;case 5:var G=a.return;try{Vh(a)}catch(ue){yn(a,G,ue)}}}catch(ue){yn(a,a.return,ue)}if(a===o){ot=null;break}var ie=a.sibling;if(ie!==null){ie.return=a.return,ot=ie;break}ot=a.return}}var W_=Math.ceil,mu=Y.ReactCurrentDispatcher,qh=Y.ReactCurrentOwner,Or=Y.ReactCurrentBatchConfig,Ft=0,Bn=null,En=null,Un=0,Ar=0,ua=yi(0),In=0,Ml=null,as=0,gu=0,Hh=0,Ll=null,hr=null,Gh=0,da=1/0,zo=null,yu=!1,Yh=null,Si=null,wu=!1,Ei=null,vu=0,Ol=0,Zh=null,xu=-1,bu=0;function or(){return(Ft&6)!==0?tn():xu!==-1?xu:xu=tn()}function Ai(o){return(o.mode&1)===0?1:(Ft&2)!==0&&Un!==0?Un&-Un:I_.transition!==null?(bu===0&&(bu=k0()),bu):(o=Kt,o!==0||(o=window.event,o=o===void 0?16:C0(o.type)),o)}function Gr(o,a,u,g){if(50<Ol)throw Ol=0,Zh=null,Error(t(185));sl(o,u,g),((Ft&2)===0||o!==Bn)&&(o===Bn&&((Ft&2)===0&&(gu|=u),In===4&&_i(o,Un)),pr(o,g),u===1&&Ft===0&&(a.mode&1)===0&&(da=tn()+500,Yc&&vi()))}function pr(o,a){var u=o.callbackNode;IA(o,a);var g=Tc(o,o===Bn?Un:0);if(g===0)u!==null&&$s(u),o.callbackNode=null,o.callbackPriority=0;else if(a=g&-g,o.callbackPriority!==a){if(u!=null&&$s(u),a===1)o.tag===0?__(Cw.bind(null,o)):gy(Cw.bind(null,o)),k_(function(){(Ft&6)===0&&vi()}),u=null;else{switch(S0(g)){case 1:u=Ji;break;case 4:u=Vs;break;case 16:u=li;break;case 536870912:u=Ws;break;default:u=li}u=Fw(u,Tw.bind(null,o))}o.callbackPriority=a,o.callbackNode=u}}function Tw(o,a){if(xu=-1,bu=0,(Ft&6)!==0)throw Error(t(327));var u=o.callbackNode;if(fa()&&o.callbackNode!==u)return null;var g=Tc(o,o===Bn?Un:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||a)a=ku(o,g);else{a=g;var A=Ft;Ft|=2;var M=Bw();(Bn!==o||Un!==a)&&(zo=null,da=tn()+500,cs(o,a));do try{H_();break}catch(ie){Nw(o,ie)}while(!0);ph(),mu.current=M,Ft=A,En!==null?a=0:(Bn=null,Un=0,a=In)}if(a!==0){if(a===2&&(A=Tf(o),A!==0&&(g=A,a=Xh(o,A))),a===1)throw u=Ml,cs(o,0),_i(o,g),pr(o,tn()),u;if(a===6)_i(o,g);else{if(A=o.current.alternate,(g&30)===0&&!K_(A)&&(a=ku(o,g),a===2&&(M=Tf(o),M!==0&&(g=M,a=Xh(o,M))),a===1))throw u=Ml,cs(o,0),_i(o,g),pr(o,tn()),u;switch(o.finishedWork=A,o.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:us(o,hr,zo);break;case 3:if(_i(o,g),(g&130023424)===g&&(a=Gh+500-tn(),10<a)){if(Tc(o,0)!==0)break;if(A=o.suspendedLanes,(A&g)!==g){or(),o.pingedLanes|=o.suspendedLanes&A;break}o.timeoutHandle=rh(us.bind(null,o,hr,zo),a);break}us(o,hr,zo);break;case 4:if(_i(o,g),(g&4194240)===g)break;for(a=o.eventTimes,A=-1;0<g;){var G=31-nr(g);M=1<<G,G=a[G],G>A&&(A=G),g&=~M}if(g=A,g=tn()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*W_(g/1960))-g,10<g){o.timeoutHandle=rh(us.bind(null,o,hr,zo),g);break}us(o,hr,zo);break;case 5:us(o,hr,zo);break;default:throw Error(t(329))}}}return pr(o,tn()),o.callbackNode===u?Tw.bind(null,o):null}function Xh(o,a){var u=Ll;return o.current.memoizedState.isDehydrated&&(cs(o,a).flags|=256),o=ku(o,a),o!==2&&(a=hr,hr=u,a!==null&&Qh(a)),o}function Qh(o){hr===null?hr=o:hr.push.apply(hr,o)}function K_(o){for(var a=o;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var A=u[g],M=A.getSnapshot;A=A.value;try{if(!Vr(M(),A))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _i(o,a){for(a&=~Hh,a&=~gu,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var u=31-nr(a),g=1<<u;o[u]=-1,a&=~g}}function Cw(o){if((Ft&6)!==0)throw Error(t(327));fa();var a=Tc(o,0);if((a&1)===0)return pr(o,tn()),null;var u=ku(o,a);if(o.tag!==0&&u===2){var g=Tf(o);g!==0&&(a=g,u=Xh(o,g))}if(u===1)throw u=Ml,cs(o,0),_i(o,a),pr(o,tn()),u;if(u===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,us(o,hr,zo),pr(o,tn()),null}function Jh(o,a){var u=Ft;Ft|=1;try{return o(a)}finally{Ft=u,Ft===0&&(da=tn()+500,Yc&&vi())}}function ls(o){Ei!==null&&Ei.tag===0&&(Ft&6)===0&&fa();var a=Ft;Ft|=1;var u=Or.transition,g=Kt;try{if(Or.transition=null,Kt=1,o)return o()}finally{Kt=g,Or.transition=u,Ft=a,(Ft&6)===0&&vi()}}function ep(){Ar=ua.current,rn(ua)}function cs(o,a){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,b_(u)),En!==null)for(u=En.return;u!==null;){var g=u;switch(ch(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Hc();break;case 3:aa(),rn(ur),rn(Kn),kh();break;case 5:xh(g);break;case 4:aa();break;case 13:rn(dn);break;case 19:rn(dn);break;case 10:mh(g.type._context);break;case 22:case 23:ep()}u=u.return}if(Bn=o,En=o=Ii(o.current,null),Un=Ar=a,In=0,Ml=null,Hh=gu=as=0,hr=Ll=null,os!==null){for(a=0;a<os.length;a++)if(u=os[a],g=u.interleaved,g!==null){u.interleaved=null;var A=g.next,M=u.pending;if(M!==null){var G=M.next;M.next=A,g.next=G}u.pending=g}os=null}return o}function Nw(o,a){do{var u=En;try{if(ph(),iu.current=cu,su){for(var g=fn.memoizedState;g!==null;){var A=g.queue;A!==null&&(A.pending=null),g=g.next}su=!1}if(ss=0,Nn=_n=fn=null,Pl=!1,Rl=0,qh.current=null,u===null||u.return===null){In=1,Ml=a,En=null;break}e:{var M=o,G=u.return,ie=u,ue=a;if(a=Un,ie.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ee=ue,Le=ie,je=Le.tag;if((Le.mode&1)===0&&(je===0||je===11||je===15)){var Be=Le.alternate;Be?(Le.updateQueue=Be.updateQueue,Le.memoizedState=Be.memoizedState,Le.lanes=Be.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Je=rw(G);if(Je!==null){Je.flags&=-257,ow(Je,G,ie,M,a),Je.mode&1&&nw(M,Ee,a),a=Je,ue=Ee;var st=a.updateQueue;if(st===null){var lt=new Set;lt.add(ue),a.updateQueue=lt}else st.add(ue);break e}else{if((a&1)===0){nw(M,Ee,a),tp();break e}ue=Error(t(426))}}else if(sn&&ie.mode&1){var bn=rw(G);if(bn!==null){(bn.flags&65536)===0&&(bn.flags|=256),ow(bn,G,ie,M,a),fh(la(ue,ie));break e}}M=ue=la(ue,ie),In!==4&&(In=2),Ll===null?Ll=[M]:Ll.push(M),M=G;do{switch(M.tag){case 3:M.flags|=65536,a&=-a,M.lanes|=a;var ge=ew(M,ue,a);Iy(M,ge);break e;case 1:ie=ue;var he=M.type,be=M.stateNode;if((M.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(Si===null||!Si.has(be)))){M.flags|=65536,a&=-a,M.lanes|=a;var ze=tw(M,ie,a);Iy(M,ze);break e}}M=M.return}while(M!==null)}Lw(u)}catch(dt){a=dt,En===u&&u!==null&&(En=u=u.return);continue}break}while(!0)}function Bw(){var o=mu.current;return mu.current=cu,o===null?cu:o}function tp(){(In===0||In===3||In===2)&&(In=4),Bn===null||(as&268435455)===0&&(gu&268435455)===0||_i(Bn,Un)}function ku(o,a){var u=Ft;Ft|=2;var g=Bw();(Bn!==o||Un!==a)&&(zo=null,cs(o,a));do try{q_();break}catch(A){Nw(o,A)}while(!0);if(ph(),Ft=u,mu.current=g,En!==null)throw Error(t(261));return Bn=null,Un=0,In}function q_(){for(;En!==null;)Mw(En)}function H_(){for(;En!==null&&!Ja();)Mw(En)}function Mw(o){var a=jw(o.alternate,o,Ar);o.memoizedProps=o.pendingProps,a===null?Lw(o):En=a,qh.current=null}function Lw(o){var a=o;do{var u=a.alternate;if(o=a.return,(a.flags&32768)===0){if(u=F_(u,a,Ar),u!==null){En=u;return}}else{if(u=U_(u,a),u!==null){u.flags&=32767,En=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{In=6,En=null;return}}if(a=a.sibling,a!==null){En=a;return}En=a=o}while(a!==null);In===0&&(In=5)}function us(o,a,u){var g=Kt,A=Or.transition;try{Or.transition=null,Kt=1,G_(o,a,u,g)}finally{Or.transition=A,Kt=g}return null}function G_(o,a,u,g){do fa();while(Ei!==null);if((Ft&6)!==0)throw Error(t(327));u=o.finishedWork;var A=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var M=u.lanes|u.childLanes;if(PA(o,M),o===Bn&&(En=Bn=null,Un=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||wu||(wu=!0,Fw(li,function(){return fa(),null})),M=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||M){M=Or.transition,Or.transition=null;var G=Kt;Kt=1;var ie=Ft;Ft|=4,qh.current=null,$_(o,u),Aw(u,o),p_(th),Bc=!!eh,th=eh=null,o.current=u,V_(u),el(),Ft=ie,Kt=G,Or.transition=M}else o.current=u;if(wu&&(wu=!1,Ei=o,vu=A),M=o.pendingLanes,M===0&&(Si=null),rl(u.stateNode),pr(o,tn()),a!==null)for(g=o.onRecoverableError,u=0;u<a.length;u++)A=a[u],g(A.value,{componentStack:A.stack,digest:A.digest});if(yu)throw yu=!1,o=Yh,Yh=null,o;return(vu&1)!==0&&o.tag!==0&&fa(),M=o.pendingLanes,(M&1)!==0?o===Zh?Ol++:(Ol=0,Zh=o):Ol=0,vi(),null}function fa(){if(Ei!==null){var o=S0(vu),a=Or.transition,u=Kt;try{if(Or.transition=null,Kt=16>o?16:o,Ei===null)var g=!1;else{if(o=Ei,Ei=null,vu=0,(Ft&6)!==0)throw Error(t(331));var A=Ft;for(Ft|=4,ot=o.current;ot!==null;){var M=ot,G=M.child;if((ot.flags&16)!==0){var ie=M.deletions;if(ie!==null){for(var ue=0;ue<ie.length;ue++){var Ee=ie[ue];for(ot=Ee;ot!==null;){var Le=ot;switch(Le.tag){case 0:case 11:case 15:Bl(8,Le,M)}var je=Le.child;if(je!==null)je.return=Le,ot=je;else for(;ot!==null;){Le=ot;var Be=Le.sibling,Je=Le.return;if(xw(Le),Le===Ee){ot=null;break}if(Be!==null){Be.return=Je,ot=Be;break}ot=Je}}}var st=M.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var bn=lt.sibling;lt.sibling=null,lt=bn}while(lt!==null)}}ot=M}}if((M.subtreeFlags&2064)!==0&&G!==null)G.return=M,ot=G;else e:for(;ot!==null;){if(M=ot,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Bl(9,M,M.return)}var ge=M.sibling;if(ge!==null){ge.return=M.return,ot=ge;break e}ot=M.return}}var he=o.current;for(ot=he;ot!==null;){G=ot;var be=G.child;if((G.subtreeFlags&2064)!==0&&be!==null)be.return=G,ot=be;else e:for(G=he;ot!==null;){if(ie=ot,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:pu(9,ie)}}catch(dt){yn(ie,ie.return,dt)}if(ie===G){ot=null;break e}var ze=ie.sibling;if(ze!==null){ze.return=ie.return,ot=ze;break e}ot=ie.return}}if(Ft=A,vi(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(ci,o)}catch{}g=!0}return g}finally{Kt=u,Or.transition=a}}return!1}function Ow(o,a,u){a=la(u,a),a=ew(o,a,1),o=bi(o,a,1),a=or(),o!==null&&(sl(o,1,a),pr(o,a))}function yn(o,a,u){if(o.tag===3)Ow(o,o,u);else for(;a!==null;){if(a.tag===3){Ow(a,o,u);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Si===null||!Si.has(g))){o=la(u,o),o=tw(a,o,1),a=bi(a,o,1),o=or(),a!==null&&(sl(a,1,o),pr(a,o));break}}a=a.return}}function Y_(o,a,u){var g=o.pingCache;g!==null&&g.delete(a),a=or(),o.pingedLanes|=o.suspendedLanes&u,Bn===o&&(Un&u)===u&&(In===4||In===3&&(Un&130023424)===Un&&500>tn()-Gh?cs(o,0):Hh|=u),pr(o,a)}function Dw(o,a){a===0&&((o.mode&1)===0?a=1:(a=Rc,Rc<<=1,(Rc&130023424)===0&&(Rc=4194304)));var u=or();o=jo(o,a),o!==null&&(sl(o,a,u),pr(o,u))}function Z_(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),Dw(o,u)}function X_(o,a){var u=0;switch(o.tag){case 13:var g=o.stateNode,A=o.memoizedState;A!==null&&(u=A.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),Dw(o,u)}var jw;jw=function(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps||ur.current)fr=!0;else{if((o.lanes&u)===0&&(a.flags&128)===0)return fr=!1,j_(o,a,u);fr=(o.flags&131072)!==0}else fr=!1,sn&&(a.flags&1048576)!==0&&yy(a,Xc,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;fu(o,a),o=a.pendingProps;var A=ea(a,Kn.current);sa(a,u),A=Ah(null,a,g,o,A,u);var M=_h();return a.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,dr(g)?(M=!0,Gc(a)):M=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,wh(a),A.updater=uu,a.stateNode=A,A._reactInternals=a,Nh(a,g,o,u),a=Oh(null,a,g,!0,M,u)):(a.tag=0,sn&&M&&lh(a),rr(null,a,A,u),a=a.child),a;case 16:g=a.elementType;e:{switch(fu(o,a),o=a.pendingProps,A=g._init,g=A(g._payload),a.type=g,A=a.tag=J_(g),o=Kr(g,o),A){case 0:a=Lh(null,a,g,o,u);break e;case 1:a=uw(null,a,g,o,u);break e;case 11:a=iw(null,a,g,o,u);break e;case 14:a=sw(null,a,g,Kr(g.type,o),u);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,A=a.pendingProps,A=a.elementType===g?A:Kr(g,A),Lh(o,a,g,A,u);case 1:return g=a.type,A=a.pendingProps,A=a.elementType===g?A:Kr(g,A),uw(o,a,g,A,u);case 3:e:{if(dw(a),o===null)throw Error(t(387));g=a.pendingProps,M=a.memoizedState,A=M.element,_y(o,a),ru(a,g,null,u);var G=a.memoizedState;if(g=G.element,M.isDehydrated)if(M={element:g,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},a.updateQueue.baseState=M,a.memoizedState=M,a.flags&256){A=la(Error(t(423)),a),a=fw(o,a,g,u,A);break e}else if(g!==A){A=la(Error(t(424)),a),a=fw(o,a,g,u,A);break e}else for(Er=gi(a.stateNode.containerInfo.firstChild),Sr=a,sn=!0,Wr=null,u=Ey(a,null,g,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ra(),g===A){a=Uo(o,a,u);break e}rr(o,a,g,u)}a=a.child}return a;case 5:return Ry(a),o===null&&dh(a),g=a.type,A=a.pendingProps,M=o!==null?o.memoizedProps:null,G=A.children,nh(g,A)?G=null:M!==null&&nh(g,M)&&(a.flags|=32),cw(o,a),rr(o,a,G,u),a.child;case 6:return o===null&&dh(a),null;case 13:return hw(o,a,u);case 4:return vh(a,a.stateNode.containerInfo),g=a.pendingProps,o===null?a.child=oa(a,null,g,u):rr(o,a,g,u),a.child;case 11:return g=a.type,A=a.pendingProps,A=a.elementType===g?A:Kr(g,A),iw(o,a,g,A,u);case 7:return rr(o,a,a.pendingProps,u),a.child;case 8:return rr(o,a,a.pendingProps.children,u),a.child;case 12:return rr(o,a,a.pendingProps.children,u),a.child;case 10:e:{if(g=a.type._context,A=a.pendingProps,M=a.memoizedProps,G=A.value,Gt(eu,g._currentValue),g._currentValue=G,M!==null)if(Vr(M.value,G)){if(M.children===A.children&&!ur.current){a=Uo(o,a,u);break e}}else for(M=a.child,M!==null&&(M.return=a);M!==null;){var ie=M.dependencies;if(ie!==null){G=M.child;for(var ue=ie.firstContext;ue!==null;){if(ue.context===g){if(M.tag===1){ue=Fo(-1,u&-u),ue.tag=2;var Ee=M.updateQueue;if(Ee!==null){Ee=Ee.shared;var Le=Ee.pending;Le===null?ue.next=ue:(ue.next=Le.next,Le.next=ue),Ee.pending=ue}}M.lanes|=u,ue=M.alternate,ue!==null&&(ue.lanes|=u),gh(M.return,u,a),ie.lanes|=u;break}ue=ue.next}}else if(M.tag===10)G=M.type===a.type?null:M.child;else if(M.tag===18){if(G=M.return,G===null)throw Error(t(341));G.lanes|=u,ie=G.alternate,ie!==null&&(ie.lanes|=u),gh(G,u,a),G=M.sibling}else G=M.child;if(G!==null)G.return=M;else for(G=M;G!==null;){if(G===a){G=null;break}if(M=G.sibling,M!==null){M.return=G.return,G=M;break}G=G.return}M=G}rr(o,a,A.children,u),a=a.child}return a;case 9:return A=a.type,g=a.pendingProps.children,sa(a,u),A=Mr(A),g=g(A),a.flags|=1,rr(o,a,g,u),a.child;case 14:return g=a.type,A=Kr(g,a.pendingProps),A=Kr(g.type,A),sw(o,a,g,A,u);case 15:return aw(o,a,a.type,a.pendingProps,u);case 17:return g=a.type,A=a.pendingProps,A=a.elementType===g?A:Kr(g,A),fu(o,a),a.tag=1,dr(g)?(o=!0,Gc(a)):o=!1,sa(a,u),Qy(a,g,A),Nh(a,g,A,u),Oh(null,a,g,!0,o,u);case 19:return mw(o,a,u);case 22:return lw(o,a,u)}throw Error(t(156,a.tag))};function Fw(o,a){return zs(o,a)}function Q_(o,a,u,g){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(o,a,u,g){return new Q_(o,a,u,g)}function np(o){return o=o.prototype,!(!o||!o.isReactComponent)}function J_(o){if(typeof o=="function")return np(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===y)return 14}return 2}function Ii(o,a){var u=o.alternate;return u===null?(u=Dr(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function Su(o,a,u,g,A,M){var G=2;if(g=o,typeof o=="function")np(o)&&(G=1);else if(typeof o=="string")G=5;else e:switch(o){case ne:return ds(u.children,A,M,a);case ae:G=8,A|=8;break;case Q:return o=Dr(12,u,a,A|2),o.elementType=Q,o.lanes=M,o;case D:return o=Dr(13,u,a,A),o.elementType=D,o.lanes=M,o;case f:return o=Dr(19,u,a,A),o.elementType=f,o.lanes=M,o;case U:return Eu(u,A,M,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Z:G=10;break e;case ee:G=9;break e;case V:G=11;break e;case y:G=14;break e;case E:G=16,g=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Dr(G,u,a,A),a.elementType=o,a.type=g,a.lanes=M,a}function ds(o,a,u,g){return o=Dr(7,o,g,a),o.lanes=u,o}function Eu(o,a,u,g){return o=Dr(22,o,g,a),o.elementType=U,o.lanes=u,o.stateNode={isHidden:!1},o}function rp(o,a,u){return o=Dr(6,o,null,a),o.lanes=u,o}function op(o,a,u){return a=Dr(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function eI(o,a,u,g,A){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=g,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function ip(o,a,u,g,A,M,G,ie,ue){return o=new eI(o,a,u,ie,ue),a===1?(a=1,M===!0&&(a|=8)):a=0,M=Dr(3,null,null,a),o.current=M,M.stateNode=o,M.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},wh(M),o}function tI(o,a,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:g==null?null:""+g,children:o,containerInfo:a,implementation:u}}function Uw(o){if(!o)return wi;o=o._reactInternals;e:{if(ao(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(dr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var u=o.type;if(dr(u))return py(o,u,a)}return a}function zw(o,a,u,g,A,M,G,ie,ue){return o=ip(u,g,!0,o,A,M,G,ie,ue),o.context=Uw(null),u=o.current,g=or(),A=Ai(u),M=Fo(g,A),M.callback=a??null,bi(u,M,A),o.current.lanes=A,sl(o,A,g),pr(o,g),o}function Au(o,a,u,g){var A=a.current,M=or(),G=Ai(A);return u=Uw(u),a.context===null?a.context=u:a.pendingContext=u,a=Fo(M,G),a.payload={element:o},g=g===void 0?null:g,g!==null&&(a.callback=g),o=bi(A,a,G),o!==null&&(Gr(o,A,G,M),nu(o,A,G)),G}function _u(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function $w(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function sp(o,a){$w(o,a),(o=o.alternate)&&$w(o,a)}function nI(){return null}var Vw=typeof reportError=="function"?reportError:function(o){console.error(o)};function ap(o){this._internalRoot=o}Iu.prototype.render=ap.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Au(o,a,null,null)},Iu.prototype.unmount=ap.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;ls(function(){Au(null,o,null,null)}),a[Mo]=null}};function Iu(o){this._internalRoot=o}Iu.prototype.unstable_scheduleHydration=function(o){if(o){var a=_0();o={blockedOn:null,target:o,priority:a};for(var u=0;u<hi.length&&a!==0&&a<hi[u].priority;u++);hi.splice(u,0,o),u===0&&R0(o)}};function lp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Pu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function rI(o,a,u,g,A){if(A){if(typeof g=="function"){var M=g;g=function(){var Ee=_u(G);M.call(Ee)}}var G=zw(a,g,o,0,null,!1,!1,"",Ww);return o._reactRootContainer=G,o[Mo]=G.current,xl(o.nodeType===8?o.parentNode:o),ls(),G}for(;A=o.lastChild;)o.removeChild(A);if(typeof g=="function"){var ie=g;g=function(){var Ee=_u(ue);ie.call(Ee)}}var ue=ip(o,0,!1,null,null,!1,!1,"",Ww);return o._reactRootContainer=ue,o[Mo]=ue.current,xl(o.nodeType===8?o.parentNode:o),ls(function(){Au(a,ue,u,g)}),ue}function Ru(o,a,u,g,A){var M=u._reactRootContainer;if(M){var G=M;if(typeof A=="function"){var ie=A;A=function(){var ue=_u(G);ie.call(ue)}}Au(a,G,o,A)}else G=rI(u,a,o,A,g);return _u(G)}E0=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var u=il(a.pendingLanes);u!==0&&(Nf(a,u|1),pr(a,tn()),(Ft&6)===0&&(da=tn()+500,vi()))}break;case 13:ls(function(){var g=jo(o,1);if(g!==null){var A=or();Gr(g,o,1,A)}}),sp(o,1)}},Bf=function(o){if(o.tag===13){var a=jo(o,134217728);if(a!==null){var u=or();Gr(a,o,134217728,u)}sp(o,134217728)}},A0=function(o){if(o.tag===13){var a=Ai(o),u=jo(o,a);if(u!==null){var g=or();Gr(u,o,a,g)}sp(o,a)}},_0=function(){return Kt},I0=function(o,a){var u=Kt;try{return Kt=o,a()}finally{Kt=u}},_t=function(o,a,u){switch(a){case"input":if(Ce(o,u),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var g=u[a];if(g!==o&&g.form===o.form){var A=qc(g);if(!A)throw Error(t(90));ht(g),Ce(g,A)}}}break;case"textarea":We(o,u);break;case"select":a=u.value,a!=null&&Te(o,!!u.multiple,a,!1)}},kt=Jh,pt=ls;var oI={usingClientEntryPoint:!1,Events:[Sl,Qs,qc,Rt,Ge,Jh]},Dl={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iI={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Fs(o),o===null?null:o.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||nI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{ci=Tu.inject(iI),cr=Tu}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI,mr.createPortal=function(o,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(a))throw Error(t(200));return tI(o,a,null,u)},mr.createRoot=function(o,a){if(!lp(o))throw Error(t(299));var u=!1,g="",A=Vw;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=ip(o,1,!1,null,null,u,!1,g,A),o[Mo]=a.current,xl(o.nodeType===8?o.parentNode:o),new ap(a)},mr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Fs(a),o=o===null?null:o.stateNode,o},mr.flushSync=function(o){return ls(o)},mr.hydrate=function(o,a,u){if(!Pu(a))throw Error(t(200));return Ru(null,o,a,!0,u)},mr.hydrateRoot=function(o,a,u){if(!lp(o))throw Error(t(405));var g=u!=null&&u.hydratedSources||null,A=!1,M="",G=Vw;if(u!=null&&(u.unstable_strictMode===!0&&(A=!0),u.identifierPrefix!==void 0&&(M=u.identifierPrefix),u.onRecoverableError!==void 0&&(G=u.onRecoverableError)),a=zw(a,null,o,1,u??null,A,!1,M,G),o[Mo]=a.current,xl(o),g)for(o=0;o<g.length;o++)u=g[o],A=u._getVersion,A=A(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,A]:a.mutableSourceEagerHydrationData.push(u,A);return new Iu(a)},mr.render=function(o,a,u){if(!Pu(a))throw Error(t(200));return Ru(null,o,a,!1,u)},mr.unmountComponentAtNode=function(o){if(!Pu(o))throw Error(t(40));return o._reactRootContainer?(ls(function(){Ru(null,null,o,!1,function(){o._reactRootContainer=null,o[Mo]=null})}),!0):!1},mr.unstable_batchedUpdates=Jh,mr.unstable_renderSubtreeIntoContainer=function(o,a,u,g){if(!Pu(u))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Ru(o,a,u,!1,g)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var Jw;function Gx(){if(Jw)return hp.exports;Jw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hp.exports=vI(),hp.exports}var Vd=Gx();const Yx=Xi(Vd);function Vt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function ev(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Zx(...n){return e=>{let t=!1;const r=n.map(i=>{const s=ev(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ev(n[i],null)}}}}function pn(...n){return $.useCallback(Zx(...n),n)}function xI(n,e){const t=$.createContext(e),r=s=>{const{children:l,...c}=s,d=$.useMemo(()=>c,Object.values(c));return S.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function i(s){const l=$.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function Ns(n,e=[]){let t=[];function r(s,l){const c=$.createContext(l),d=t.length;t=[...t,l];const p=k=>{const{scope:_,children:v,...C}=k,I=_?.[n]?.[d]||c,T=$.useMemo(()=>C,Object.values(C));return S.jsx(I.Provider,{value:T,children:v})};p.displayName=s+"Provider";function m(k,_){const v=_?.[n]?.[d]||c,C=$.useContext(v);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${k}\` must be used within \`${s}\``)}return[p,m]}const i=()=>{const s=t.map(l=>$.createContext(l));return function(c){const d=c?.[n]||s;return $.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return i.scopeName=n,[r,bI(i,...e)]}function bI(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((c,{useScope:d,scopeName:p})=>{const k=d(s)[`__scope${p}`];return{...c,...k}},{});return $.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Jl(n){const e=SI(n),t=$.forwardRef((r,i)=>{const{children:s,...l}=r,c=$.Children.toArray(s),d=c.find(EI);if(d){const p=d.props.children,m=c.map(k=>k===d?$.Children.count(p)>1?$.Children.only(null):$.isValidElement(p)?p.props.children:null:k);return S.jsx(e,{...l,ref:i,children:$.isValidElement(p)?$.cloneElement(p,void 0,m):null})}return S.jsx(e,{...l,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var kI=Jl("Slot");function SI(n){const e=$.forwardRef((t,r)=>{const{children:i,...s}=t;if($.isValidElement(i)){const l=_I(i),c=AI(s,i.props);return i.type!==$.Fragment&&(c.ref=r?Zx(r,l):l),$.cloneElement(i,c)}return $.Children.count(i)>1?$.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Xx=Symbol("radix.slottable");function Qx(n){const e=({children:t})=>S.jsx(S.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=Xx,e}function EI(n){return $.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Xx}function AI(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...c)=>{const d=s(...c);return i(...c),d}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function _I(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Jx(n){const e=n+"CollectionProvider",[t,r]=Ns(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:T,children:z}=I,K=Ve.useRef(null),F=Ve.useRef(new Map).current;return S.jsx(i,{scope:T,itemMap:F,collectionRef:K,children:z})};l.displayName=e;const c=n+"CollectionSlot",d=Jl(c),p=Ve.forwardRef((I,T)=>{const{scope:z,children:K}=I,F=s(c,z),Y=pn(T,F.collectionRef);return S.jsx(d,{ref:Y,children:K})});p.displayName=c;const m=n+"CollectionItemSlot",k="data-radix-collection-item",_=Jl(m),v=Ve.forwardRef((I,T)=>{const{scope:z,children:K,...F}=I,Y=Ve.useRef(null),te=pn(T,Y),se=s(m,z);return Ve.useEffect(()=>(se.itemMap.set(Y,{ref:Y,...F}),()=>void se.itemMap.delete(Y))),S.jsx(_,{[k]:"",ref:te,children:K})});v.displayName=m;function C(I){const T=s(n+"CollectionConsumer",I);return Ve.useCallback(()=>{const K=T.collectionRef.current;if(!K)return[];const F=Array.from(K.querySelectorAll(`[${k}]`));return Array.from(T.itemMap.values()).sort((se,ne)=>F.indexOf(se.ref.current)-F.indexOf(ne.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:p,ItemSlot:v},C,r]}var II=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jt=II.reduce((n,e)=>{const t=Jl(`Primitive.${e}`),r=$.forwardRef((i,s)=>{const{asChild:l,...c}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(d,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function eb(n,e){n&&Vd.flushSync(()=>n.dispatchEvent(e))}function Po(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n}),$.useMemo(()=>(...t)=>e.current?.(...t),[])}function PI(n,e=globalThis?.document){const t=Po(n);$.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var RI="DismissableLayer",xm="dismissableLayer.update",TI="dismissableLayer.pointerDownOutside",CI="dismissableLayer.focusOutside",tv,tb=$.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wd=$.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...d}=n,p=$.useContext(tb),[m,k]=$.useState(null),_=m?.ownerDocument??globalThis?.document,[,v]=$.useState({}),C=pn(e,ne=>k(ne)),I=Array.from(p.layers),[T]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),z=I.indexOf(T),K=m?I.indexOf(m):-1,F=p.layersWithOutsidePointerEventsDisabled.size>0,Y=K>=z,te=BI(ne=>{const ae=ne.target,Q=[...p.branches].some(Z=>Z.contains(ae));!Y||Q||(i?.(ne),l?.(ne),ne.defaultPrevented||c?.())},_),se=MI(ne=>{const ae=ne.target;[...p.branches].some(Z=>Z.contains(ae))||(s?.(ne),l?.(ne),ne.defaultPrevented||c?.())},_);return PI(ne=>{K===p.layers.size-1&&(r?.(ne),!ne.defaultPrevented&&c&&(ne.preventDefault(),c()))},_),$.useEffect(()=>{if(m)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(tv=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),nv(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=tv)}},[m,_,t,p]),$.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),nv())},[m,p]),$.useEffect(()=>{const ne=()=>v({});return document.addEventListener(xm,ne),()=>document.removeEventListener(xm,ne)},[]),S.jsx(Jt.div,{...d,ref:C,style:{pointerEvents:F?Y?"auto":"none":void 0,...n.style},onFocusCapture:Vt(n.onFocusCapture,se.onFocusCapture),onBlurCapture:Vt(n.onBlurCapture,se.onBlurCapture),onPointerDownCapture:Vt(n.onPointerDownCapture,te.onPointerDownCapture)})});Wd.displayName=RI;var NI="DismissableLayerBranch",nb=$.forwardRef((n,e)=>{const t=$.useContext(tb),r=$.useRef(null),i=pn(e,r);return $.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),S.jsx(Jt.div,{...n,ref:i})});nb.displayName=NI;function BI(n,e=globalThis?.document){const t=Po(n),r=$.useRef(!1),i=$.useRef(()=>{});return $.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let d=function(){rb(TI,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function MI(n,e=globalThis?.document){const t=Po(n),r=$.useRef(!1);return $.useEffect(()=>{const i=s=>{s.target&&!r.current&&rb(CI,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nv(){const n=new CustomEvent(xm);document.dispatchEvent(n)}function rb(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?eb(i,s):i.dispatchEvent(s)}var LI=Wd,OI=nb,ti=globalThis?.document?$.useLayoutEffect:()=>{},DI="Portal",fg=$.forwardRef((n,e)=>{const{container:t,...r}=n,[i,s]=$.useState(!1);ti(()=>s(!0),[]);const l=t||i&&globalThis?.document?.body;return l?Yx.createPortal(S.jsx(Jt.div,{...r,ref:e}),l):null});fg.displayName=DI;function jI(n,e){return $.useReducer((t,r)=>e[t][r]??t,n)}var Ua=n=>{const{present:e,children:t}=n,r=FI(e),i=typeof t=="function"?t({present:r.isPresent}):$.Children.only(t),s=pn(r.ref,UI(i));return typeof t=="function"||r.isPresent?$.cloneElement(i,{ref:s}):null};Ua.displayName="Presence";function FI(n){const[e,t]=$.useState(),r=$.useRef(null),i=$.useRef(n),s=$.useRef("none"),l=n?"mounted":"unmounted",[c,d]=jI(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const p=Cu(r.current);s.current=c==="mounted"?p:"none"},[c]),ti(()=>{const p=r.current,m=i.current;if(m!==n){const _=s.current,v=Cu(p);n?d("MOUNT"):v==="none"||p?.display==="none"?d("UNMOUNT"):d(m&&_!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),ti(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,k=v=>{const I=Cu(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&I&&(d("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},_=v=>{v.target===e&&(s.current=Cu(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",k),e.addEventListener("animationend",k),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",k),e.removeEventListener("animationend",k)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:$.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Cu(n){return n?.animationName||"none"}function UI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var zI=dg[" useInsertionEffect ".trim().toString()]||ti;function hg({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,l]=$I({defaultProp:e,onChange:t}),c=n!==void 0,d=c?n:i;{const m=$.useRef(n!==void 0);$.useEffect(()=>{const k=m.current;k!==c&&console.warn(`${r} is changing from ${k?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const p=$.useCallback(m=>{if(c){const k=VI(m)?m(n):m;k!==n&&l.current?.(k)}else s(m)},[c,n,s,l]);return[d,p]}function $I({defaultProp:n,onChange:e}){const[t,r]=$.useState(n),i=$.useRef(t),s=$.useRef(e);return zI(()=>{s.current=e},[e]),$.useEffect(()=>{i.current!==t&&(s.current?.(t),i.current=t)},[t,i]),[t,r,s]}function VI(n){return typeof n=="function"}var WI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KI="VisuallyHidden",Kd=$.forwardRef((n,e)=>S.jsx(Jt.span,{...n,ref:e,style:{...WI,...n.style}}));Kd.displayName=KI;var qI=Kd,pg="ToastProvider",[mg,HI,GI]=Jx("Toast"),[ob]=Ns("Toast",[GI]),[YI,qd]=ob(pg),ib=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:l}=n,[c,d]=$.useState(null),[p,m]=$.useState(0),k=$.useRef(!1),_=$.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${pg}\`. Expected non-empty \`string\`.`),S.jsx(mg.Provider,{scope:e,children:S.jsx(YI,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:p,viewport:c,onViewportChange:d,onToastAdd:$.useCallback(()=>m(v=>v+1),[]),onToastRemove:$.useCallback(()=>m(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:k,isClosePausedRef:_,children:l})})};ib.displayName=pg;var sb="ToastViewport",ZI=["F8"],bm="toast.viewportPause",km="toast.viewportResume",ab=$.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=ZI,label:i="Notifications ({hotkey})",...s}=n,l=qd(sb,t),c=HI(t),d=$.useRef(null),p=$.useRef(null),m=$.useRef(null),k=$.useRef(null),_=pn(e,k,l.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;$.useEffect(()=>{const T=z=>{r.length!==0&&r.every(F=>z[F]||z.code===F)&&k.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),$.useEffect(()=>{const T=d.current,z=k.current;if(C&&T&&z){const K=()=>{if(!l.isClosePausedRef.current){const se=new CustomEvent(bm);z.dispatchEvent(se),l.isClosePausedRef.current=!0}},F=()=>{if(l.isClosePausedRef.current){const se=new CustomEvent(km);z.dispatchEvent(se),l.isClosePausedRef.current=!1}},Y=se=>{!T.contains(se.relatedTarget)&&F()},te=()=>{T.contains(document.activeElement)||F()};return T.addEventListener("focusin",K),T.addEventListener("focusout",Y),T.addEventListener("pointermove",K),T.addEventListener("pointerleave",te),window.addEventListener("blur",K),window.addEventListener("focus",F),()=>{T.removeEventListener("focusin",K),T.removeEventListener("focusout",Y),T.removeEventListener("pointermove",K),T.removeEventListener("pointerleave",te),window.removeEventListener("blur",K),window.removeEventListener("focus",F)}}},[C,l.isClosePausedRef]);const I=$.useCallback(({tabbingDirection:T})=>{const K=c().map(F=>{const Y=F.ref.current,te=[Y,...cP(Y)];return T==="forwards"?te:te.reverse()});return(T==="forwards"?K.reverse():K).flat()},[c]);return $.useEffect(()=>{const T=k.current;if(T){const z=K=>{const F=K.altKey||K.ctrlKey||K.metaKey;if(K.key==="Tab"&&!F){const te=document.activeElement,se=K.shiftKey;if(K.target===T&&se){p.current?.focus();return}const Q=I({tabbingDirection:se?"backwards":"forwards"}),Z=Q.findIndex(ee=>ee===te);gp(Q.slice(Z+1))?K.preventDefault():se?p.current?.focus():m.current?.focus()}};return T.addEventListener("keydown",z),()=>T.removeEventListener("keydown",z)}},[c,I]),S.jsxs(OI,{ref:d,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&S.jsx(Sm,{ref:p,onFocusFromOutsideViewport:()=>{const T=I({tabbingDirection:"forwards"});gp(T)}}),S.jsx(mg.Slot,{scope:t,children:S.jsx(Jt.ol,{tabIndex:-1,...s,ref:_})}),C&&S.jsx(Sm,{ref:m,onFocusFromOutsideViewport:()=>{const T=I({tabbingDirection:"backwards"});gp(T)}})]})});ab.displayName=sb;var lb="ToastFocusProxy",Sm=$.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=qd(lb,t);return S.jsx(Kd,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!s.viewport?.contains(c)&&r()}})});Sm.displayName=lb;var pc="Toast",XI="toast.swipeStart",QI="toast.swipeMove",JI="toast.swipeCancel",eP="toast.swipeEnd",cb=$.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...l}=n,[c,d]=hg({prop:r,defaultProp:i??!0,onChange:s,caller:pc});return S.jsx(Ua,{present:t||c,children:S.jsx(rP,{open:c,...l,ref:e,onClose:()=>d(!1),onPause:Po(n.onPause),onResume:Po(n.onResume),onSwipeStart:Vt(n.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Vt(n.onSwipeMove,p=>{const{x:m,y:k}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${k}px`)}),onSwipeCancel:Vt(n.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Vt(n.onSwipeEnd,p=>{const{x:m,y:k}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${k}px`),d(!1)})})})});cb.displayName=pc;var[tP,nP]=ob(pc,{onClose(){}}),rP=$.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:p,onSwipeStart:m,onSwipeMove:k,onSwipeCancel:_,onSwipeEnd:v,...C}=n,I=qd(pc,t),[T,z]=$.useState(null),K=pn(e,f=>z(f)),F=$.useRef(null),Y=$.useRef(null),te=i||I.duration,se=$.useRef(0),ne=$.useRef(te),ae=$.useRef(0),{onToastAdd:Q,onToastRemove:Z}=I,ee=Po(()=>{T?.contains(document.activeElement)&&I.viewport?.focus(),l()}),V=$.useCallback(f=>{!f||f===1/0||(window.clearTimeout(ae.current),se.current=new Date().getTime(),ae.current=window.setTimeout(ee,f))},[ee]);$.useEffect(()=>{const f=I.viewport;if(f){const y=()=>{V(ne.current),p?.()},E=()=>{const U=new Date().getTime()-se.current;ne.current=ne.current-U,window.clearTimeout(ae.current),d?.()};return f.addEventListener(bm,E),f.addEventListener(km,y),()=>{f.removeEventListener(bm,E),f.removeEventListener(km,y)}}},[I.viewport,te,d,p,V]),$.useEffect(()=>{s&&!I.isClosePausedRef.current&&V(te)},[s,te,I.isClosePausedRef,V]),$.useEffect(()=>(Q(),()=>Z()),[Q,Z]);const D=$.useMemo(()=>T?gb(T):null,[T]);return I.viewport?S.jsxs(S.Fragment,{children:[D&&S.jsx(oP,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),S.jsx(tP,{scope:t,onClose:ee,children:Vd.createPortal(S.jsx(mg.ItemSlot,{scope:t,children:S.jsx(LI,{asChild:!0,onEscapeKeyDown:Vt(c,()=>{I.isFocusedToastEscapeKeyDownRef.current||ee(),I.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(Jt.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":I.swipeDirection,...C,ref:K,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Vt(n.onKeyDown,f=>{f.key==="Escape"&&(c?.(f.nativeEvent),f.nativeEvent.defaultPrevented||(I.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:Vt(n.onPointerDown,f=>{f.button===0&&(F.current={x:f.clientX,y:f.clientY})}),onPointerMove:Vt(n.onPointerMove,f=>{if(!F.current)return;const y=f.clientX-F.current.x,E=f.clientY-F.current.y,U=!!Y.current,L=["left","right"].includes(I.swipeDirection),N=["left","up"].includes(I.swipeDirection)?Math.min:Math.max,b=L?N(0,y):0,w=L?0:N(0,E),h=f.pointerType==="touch"?10:2,x={x:b,y:w},j={originalEvent:f,delta:x};U?(Y.current=x,Nu(QI,k,j,{discrete:!1})):rv(x,I.swipeDirection,h)?(Y.current=x,Nu(XI,m,j,{discrete:!1}),f.target.setPointerCapture(f.pointerId)):(Math.abs(y)>h||Math.abs(E)>h)&&(F.current=null)}),onPointerUp:Vt(n.onPointerUp,f=>{const y=Y.current,E=f.target;if(E.hasPointerCapture(f.pointerId)&&E.releasePointerCapture(f.pointerId),Y.current=null,F.current=null,y){const U=f.currentTarget,L={originalEvent:f,delta:y};rv(y,I.swipeDirection,I.swipeThreshold)?Nu(eP,v,L,{discrete:!0}):Nu(JI,_,L,{discrete:!0}),U.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),I.viewport)})]}):null}),oP=n=>{const{__scopeToast:e,children:t,...r}=n,i=qd(pc,e),[s,l]=$.useState(!1),[c,d]=$.useState(!1);return aP(()=>l(!0)),$.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:S.jsx(fg,{asChild:!0,children:S.jsx(Kd,{...r,children:s&&S.jsxs(S.Fragment,{children:[i.label," ",t]})})})},iP="ToastTitle",ub=$.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return S.jsx(Jt.div,{...r,ref:e})});ub.displayName=iP;var sP="ToastDescription",db=$.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return S.jsx(Jt.div,{...r,ref:e})});db.displayName=sP;var fb="ToastAction",hb=$.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?S.jsx(mb,{altText:t,asChild:!0,children:S.jsx(gg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fb}\`. Expected non-empty \`string\`.`),null)});hb.displayName=fb;var pb="ToastClose",gg=$.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=nP(pb,t);return S.jsx(mb,{asChild:!0,children:S.jsx(Jt.button,{type:"button",...r,ref:e,onClick:Vt(n.onClick,i.onClose)})})});gg.displayName=pb;var mb=$.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return S.jsx(Jt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function gb(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),lP(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...gb(r))}}),e}function Nu(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?eb(i,s):i.dispatchEvent(s)}var rv=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function aP(n=()=>{}){const e=Po(n);ti(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function lP(n){return n.nodeType===n.ELEMENT_NODE}function cP(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function gp(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var uP=ib,yb=ab,wb=cb,vb=ub,xb=db,bb=hb,kb=gg;function Sb(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Sb(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Eb(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Sb(n))&&(r&&(r+=" "),r+=e);return r}const ov=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,iv=Eb,Ab=(n,e)=>t=>{var r;if(e?.variants==null)return iv(n,t?.class,t?.className);const{variants:i,defaultVariants:s}=e,l=Object.keys(i).map(p=>{const m=t?.[p],k=s?.[p];if(m===null)return null;const _=ov(m)||ov(k);return i[p][_]}),c=t&&Object.entries(t).reduce((p,m)=>{let[k,_]=m;return _===void 0||(p[k]=_),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:k,className:_,...v}=m;return Object.entries(v).every(C=>{let[I,T]=C;return Array.isArray(T)?T.includes({...s,...c}[I]):{...s,...c}[I]===T})?[...p,k,_]:p},[]);return iv(n,l,d,t?.class,t?.className)};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),sv=n=>{const e=fP(n);return e.charAt(0).toUpperCase()+e.slice(1)},_b=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),hP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>$.createElement("svg",{ref:d,...pP,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:_b("lucide",i),...!s&&!hP(c)&&{"aria-hidden":"true"},...c},[...l.map(([p,m])=>$.createElement(p,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=(n,e)=>{const t=$.forwardRef(({className:r,...i},s)=>$.createElement(mP,{ref:s,iconNode:e,className:_b(`lucide-${dP(sv(n))}`,`lucide-${n}`,r),...i}));return t.displayName=sv(n),t};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yP=Tr("arrow-right",gP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Ib=Tr("chart-line",wP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],xP=Tr("lock-open",vP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kP=Tr("log-out",bP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],EP=Tr("menu",SP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_P=Tr("refresh-cw",AP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pb=Tr("shield-check",IP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Hd=Tr("sparkles",PP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],TP=Tr("timer",RP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],NP=Tr("trending-up",CP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Bu=Tr("wallet",BP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rb=Tr("x",MP);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tb=Tr("zap",LP),yg="-",OP=n=>{const e=jP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(yg);return c[0]===""&&c.length!==1&&c.shift(),Cb(c,e)||DP(l)},getConflictingClassGroupIds:(l,c)=>{const d=t[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},Cb=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?Cb(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(yg);return e.validators.find(({validator:l})=>l(s))?.classGroupId},av=/^\[(.+)\]$/,DP=n=>{if(av.test(n)){const e=av.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},jP=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return UP(Object.entries(n.classGroups),t).forEach(([s,l])=>{Em(l,r,s,e)}),r},Em=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:lv(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(FP(i)){Em(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,l])=>{Em(l,lv(e,s),t,r)})})},lv=(n,e)=>{let t=n;return e.split(yg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},FP=n=>n.isThemeGetter,UP=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,c])=>[e+l,c])):s);return[t,i]}):n,zP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,l)=>{t.set(s,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let l=t.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){t.has(s)?t.set(s,l):i(s,l)}}},Nb="!",$P=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,l=c=>{const d=[];let p=0,m=0,k;for(let T=0;T<c.length;T++){let z=c[T];if(p===0){if(z===i&&(r||c.slice(T,T+s)===e)){d.push(c.slice(m,T)),m=T+s;continue}if(z==="/"){k=T;continue}}z==="["?p++:z==="]"&&p--}const _=d.length===0?c:c.substring(m),v=_.startsWith(Nb),C=v?_.substring(1):_,I=k&&k>m?k-m:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:I}};return t?c=>t({className:c,parseClassName:l}):l},VP=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},WP=n=>({cache:zP(n.cacheSize),parseClassName:$P(n),...OP(n)}),KP=/\s+/,qP=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],l=n.trim().split(KP);let c="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:m,hasImportantModifier:k,baseClassName:_,maybePostfixModifierPosition:v}=t(p);let C=!!v,I=r(C?_.substring(0,v):_);if(!I){if(!C){c=p+(c.length>0?" "+c:c);continue}if(I=r(_),!I){c=p+(c.length>0?" "+c:c);continue}C=!1}const T=VP(m).join(":"),z=k?T+Nb:T,K=z+I;if(s.includes(K))continue;s.push(K);const F=i(I,C);for(let Y=0;Y<F.length;++Y){const te=F[Y];s.push(z+te)}c=p+(c.length>0?" "+c:c)}return c};function HP(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Bb(e))&&(r&&(r+=" "),r+=t);return r}const Bb=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Bb(n[r]))&&(t&&(t+=" "),t+=e);return t};function GP(n,...e){let t,r,i,s=l;function l(d){const p=e.reduce((m,k)=>k(m),n());return t=WP(p),r=t.cache.get,i=t.cache.set,s=c,c(d)}function c(d){const p=r(d);if(p)return p;const m=qP(d,t);return i(d,m),m}return function(){return s(HP.apply(null,arguments))}}const on=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Mb=/^\[(?:([a-z-]+):)?(.+)\]$/i,YP=/^\d+\/\d+$/,ZP=new Set(["px","full","screen"]),XP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=n=>Ea(n)||ZP.has(n)||YP.test(n),Ri=n=>za(n,"length",cR),Ea=n=>!!n&&!Number.isNaN(Number(n)),yp=n=>za(n,"number",Ea),Fl=n=>!!n&&Number.isInteger(Number(n)),nR=n=>n.endsWith("%")&&Ea(n.slice(0,-1)),Ct=n=>Mb.test(n),Ti=n=>XP.test(n),rR=new Set(["length","size","percentage"]),oR=n=>za(n,rR,Lb),iR=n=>za(n,"position",Lb),sR=new Set(["image","url"]),aR=n=>za(n,sR,dR),lR=n=>za(n,"",uR),Ul=()=>!0,za=(n,e,t)=>{const r=Mb.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},cR=n=>QP.test(n)&&!JP.test(n),Lb=()=>!1,uR=n=>eR.test(n),dR=n=>tR.test(n),fR=()=>{const n=on("colors"),e=on("spacing"),t=on("blur"),r=on("brightness"),i=on("borderColor"),s=on("borderRadius"),l=on("borderSpacing"),c=on("borderWidth"),d=on("contrast"),p=on("grayscale"),m=on("hueRotate"),k=on("invert"),_=on("gap"),v=on("gradientColorStops"),C=on("gradientColorStopPositions"),I=on("inset"),T=on("margin"),z=on("opacity"),K=on("padding"),F=on("saturate"),Y=on("scale"),te=on("sepia"),se=on("skew"),ne=on("space"),ae=on("translate"),Q=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Ct,e],V=()=>[Ct,e],D=()=>["",$o,Ri],f=()=>["auto",Ea,Ct],y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Ct],b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>[Ea,Ct];return{cacheSize:500,separator:":",theme:{colors:[Ul],spacing:[$o,Ri],blur:["none","",Ti,Ct],brightness:w(),borderColor:[n],borderRadius:["none","","full",Ti,Ct],borderSpacing:V(),borderWidth:D(),contrast:w(),grayscale:N(),hueRotate:w(),invert:N(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[nR,Ri],inset:ee(),margin:ee(),opacity:w(),padding:V(),saturate:w(),scale:w(),sepia:N(),skew:w(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ct]}],container:["container"],columns:[{columns:[Ti]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...y(),Ct]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,Ct]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ct]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Fl,Ct]}],"grid-cols":[{"grid-cols":[Ul]}],"col-start-end":[{col:["auto",{span:["full",Fl,Ct]},Ct]}],"col-start":[{"col-start":f()}],"col-end":[{"col-end":f()}],"grid-rows":[{"grid-rows":[Ul]}],"row-start-end":[{row:["auto",{span:[Fl,Ct]},Ct]}],"row-start":[{"row-start":f()}],"row-end":[{"row-end":f()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ct]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[K]}],px:[{px:[K]}],py:[{py:[K]}],ps:[{ps:[K]}],pe:[{pe:[K]}],pt:[{pt:[K]}],pr:[{pr:[K]}],pb:[{pb:[K]}],pl:[{pl:[K]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[ne]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ne]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ct,e]}],"min-w":[{"min-w":[Ct,e,"min","max","fit"]}],"max-w":[{"max-w":[Ct,e,"none","full","min","max","fit","prose",{screen:[Ti]},Ti]}],h:[{h:[Ct,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ct,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ct,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ct,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ti,Ri]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yp]}],"font-family":[{font:[Ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ct]}],"line-clamp":[{"line-clamp":["none",Ea,yp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$o,Ct]}],"list-image":[{"list-image":["none",Ct]}],"list-style-type":[{list:["none","disc","decimal",Ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[z]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$o,Ri]}],"underline-offset":[{"underline-offset":["auto",$o,Ct]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[z]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...y(),iR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aR]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[z]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[z]}],"divide-style":[{divide:E()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[$o,Ct]}],"outline-w":[{outline:[$o,Ri]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[z]}],"ring-offset-w":[{"ring-offset":[$o,Ri]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ti,lR]}],"shadow-color":[{shadow:[Ul]}],opacity:[{opacity:[z]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ti,Ct]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[k]}],saturate:[{saturate:[F]}],sepia:[{sepia:[te]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[k]}],"backdrop-opacity":[{"backdrop-opacity":[z]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ct]}],duration:[{duration:w()}],ease:[{ease:["linear","in","out","in-out",Ct]}],delay:[{delay:w()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Y]}],"scale-x":[{"scale-x":[Y]}],"scale-y":[{"scale-y":[Y]}],rotate:[{rotate:[Fl,Ct]}],"translate-x":[{"translate-x":[ae]}],"translate-y":[{"translate-y":[ae]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[$o,Ri,yp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hR=GP(fR);function en(...n){return hR(Eb(n))}const pR=uP,Ob=$.forwardRef(({className:n,...e},t)=>S.jsx(yb,{ref:t,className:en("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Ob.displayName=yb.displayName;const mR=Ab("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Db=$.forwardRef(({className:n,variant:e,...t},r)=>S.jsx(wb,{ref:r,className:en(mR({variant:e}),n),...t}));Db.displayName=wb.displayName;const gR=$.forwardRef(({className:n,...e},t)=>S.jsx(bb,{ref:t,className:en("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));gR.displayName=bb.displayName;const jb=$.forwardRef(({className:n,...e},t)=>S.jsx(kb,{ref:t,className:en("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:S.jsx(Rb,{className:"h-4 w-4"})}));jb.displayName=kb.displayName;const Fb=$.forwardRef(({className:n,...e},t)=>S.jsx(vb,{ref:t,className:en("text-sm font-semibold",n),...e}));Fb.displayName=vb.displayName;const Ub=$.forwardRef(({className:n,...e},t)=>S.jsx(xb,{ref:t,className:en("text-sm opacity-90",n),...e}));Ub.displayName=xb.displayName;function yR(){const{toasts:n}=gI();return S.jsxs(pR,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return S.jsxs(Db,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[t&&S.jsx(Fb,{children:t}),r&&S.jsx(Ub,{children:r})]}),i,S.jsx(jb,{})]},e)}),S.jsx(Ob,{})]})}var Mu={},cv;function wR(){if(cv)return Mu;cv=1;var n=Gx();return Mu.createRoot=n.createRoot,Mu.hydrateRoot=n.hydrateRoot,Mu}var vR=wR(),xR=(n,e,t,r,i,s,l,c)=>{let d=document.documentElement,p=["light","dark"];function m(v){(Array.isArray(n)?n:[n]).forEach(C=>{let I=C==="class",T=I&&s?i.map(z=>s[z]||z):i;I?(d.classList.remove(...T),d.classList.add(s&&s[v]?s[v]:v)):d.setAttribute(C,v)}),k(v)}function k(v){c&&p.includes(v)&&(d.style.colorScheme=v)}function _(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)m(r);else try{let v=localStorage.getItem(e)||t,C=l&&v==="system"?_():v;m(C)}catch{}},bR=$.createContext(void 0),kR={setTheme:n=>{},themes:[]},SR=()=>{var n;return(n=$.useContext(bR))!=null?n:kR};$.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:l,themes:c,nonce:d,scriptProps:p})=>{let m=JSON.stringify([t,e,s,n,c,l,r,i]).slice(1,-1);return $.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${xR.toString()})(${m})`}})});var ER=n=>{switch(n){case"success":return IR;case"info":return RR;case"warning":return PR;case"error":return TR;default:return null}},AR=Array(12).fill(0),_R=({visible:n,className:e})=>Ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Ve.createElement("div",{className:"sonner-spinner"},AR.map((t,r)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),IR=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PR=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RR=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TR=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CR=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),NR=()=>{let[n,e]=Ve.useState(document.hidden);return Ve.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Am=1,BR=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof n?.id=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:Am++,s=this.toasts.find(c=>c.id===i),l=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...n,id:i,title:t}),{...c,...n,id:i,dismissible:l,title:t}):c):this.addToast({title:t,...r,dismissible:l,id:i}),i},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0,s,l=r.then(async d=>{if(s=["resolve",d],Ve.isValidElement(d))i=!1,this.create({id:t,type:"default",message:d});else if(LR(d)&&!d.ok){i=!1;let p=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,m=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:t,type:"error",message:p,description:m})}else if(e.success!==void 0){i=!1;let p=typeof e.success=="function"?await e.success(d):e.success,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"success",message:p,description:m})}}).catch(async d=>{if(s=["reject",d],e.error!==void 0){i=!1;let p=typeof e.error=="function"?await e.error(d):e.error,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"error",message:p,description:m})}}).finally(()=>{var d;i&&(this.dismiss(t),t=void 0),(d=e.finally)==null||d.call(e)}),c=()=>new Promise((d,p)=>l.then(()=>s[0]==="reject"?p(s[1]):d(s[1])).catch(p));return typeof t!="string"&&typeof t!="number"?{unwrap:c}:Object.assign(t,{unwrap:c})},this.custom=(n,e)=>{let t=e?.id||Am++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gr=new BR,MR=(n,e)=>{let t=e?.id||Am++;return gr.addToast({title:n,...e,id:t}),t},LR=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",OR=MR,DR=()=>gr.toasts,jR=()=>gr.getActiveToasts();Object.assign(OR,{success:gr.success,info:gr.info,warning:gr.warning,error:gr.error,custom:gr.custom,message:gr.message,promise:gr.promise,dismiss:gr.dismiss,loading:gr.loading},{getHistory:DR,getToasts:jR});function FR(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}FR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Lu(n){return n.label!==void 0}var UR=3,zR="32px",$R="16px",uv=4e3,VR=356,WR=14,KR=20,qR=200;function Yr(...n){return n.filter(Boolean).join(" ")}function HR(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var GR=n=>{var e,t,r,i,s,l,c,d,p,m,k;let{invert:_,toast:v,unstyled:C,interacting:I,setHeights:T,visibleToasts:z,heights:K,index:F,toasts:Y,expanded:te,removeToast:se,defaultRichColors:ne,closeButton:ae,style:Q,cancelButtonStyle:Z,actionButtonStyle:ee,className:V="",descriptionClassName:D="",duration:f,position:y,gap:E,loadingIcon:U,expandByDefault:L,classNames:N,icons:b,closeButtonAriaLabel:w="Close toast",pauseWhenPageIsHidden:h}=n,[x,j]=Ve.useState(null),[q,re]=Ve.useState(null),[le,fe]=Ve.useState(!1),[Ie,Ze]=Ve.useState(!1),[Pe,ht]=Ve.useState(!1),[Ot,Pt]=Ve.useState(!1),[ye,xe]=Ve.useState(!1),[Ce,Re]=Ve.useState(0),[De,Me]=Ve.useState(0),Te=Ve.useRef(v.duration||f||uv),Fe=Ve.useRef(null),Se=Ve.useRef(null),We=F===0,vt=F+1<=z,Qe=v.type,Ue=v.dismissible!==!1,at=v.className||"",nt=v.descriptionClassName||"",W=Ve.useMemo(()=>K.findIndex(Ge=>Ge.toastId===v.id)||0,[K,v.id]),P=Ve.useMemo(()=>{var Ge;return(Ge=v.closeButton)!=null?Ge:ae},[v.closeButton,ae]),R=Ve.useMemo(()=>v.duration||f||uv,[v.duration,f]),X=Ve.useRef(0),ce=Ve.useRef(0),pe=Ve.useRef(0),we=Ve.useRef(null),[it,tt]=y.split("-"),rt=Ve.useMemo(()=>K.reduce((Ge,kt,pt)=>pt>=W?Ge:Ge+kt.height,0),[K,W]),_t=NR(),Ke=v.invert||_,It=Qe==="loading";ce.current=Ve.useMemo(()=>W*E+rt,[W,rt]),Ve.useEffect(()=>{Te.current=R},[R]),Ve.useEffect(()=>{fe(!0)},[]),Ve.useEffect(()=>{let Ge=Se.current;if(Ge){let kt=Ge.getBoundingClientRect().height;return Me(kt),T(pt=>[{toastId:v.id,height:kt,position:v.position},...pt]),()=>T(pt=>pt.filter(H=>H.toastId!==v.id))}},[T,v.id]),Ve.useLayoutEffect(()=>{if(!le)return;let Ge=Se.current,kt=Ge.style.height;Ge.style.height="auto";let pt=Ge.getBoundingClientRect().height;Ge.style.height=kt,Me(pt),T(H=>H.find(B=>B.toastId===v.id)?H.map(B=>B.toastId===v.id?{...B,height:pt}:B):[{toastId:v.id,height:pt,position:v.position},...H])},[le,v.title,v.description,T,v.id]);let He=Ve.useCallback(()=>{Ze(!0),Re(ce.current),T(Ge=>Ge.filter(kt=>kt.toastId!==v.id)),setTimeout(()=>{se(v)},qR)},[v,se,T,ce]);Ve.useEffect(()=>{if(v.promise&&Qe==="loading"||v.duration===1/0||v.type==="loading")return;let Ge;return te||I||h&&_t?(()=>{if(pe.current<X.current){let kt=new Date().getTime()-X.current;Te.current=Te.current-kt}pe.current=new Date().getTime()})():Te.current!==1/0&&(X.current=new Date().getTime(),Ge=setTimeout(()=>{var kt;(kt=v.onAutoClose)==null||kt.call(v,v),He()},Te.current)),()=>clearTimeout(Ge)},[te,I,v,Qe,h,_t,He]),Ve.useEffect(()=>{v.delete&&He()},[He,v.delete]);function Rt(){var Ge,kt,pt;return b!=null&&b.loading?Ve.createElement("div",{className:Yr(N?.loader,(Ge=v?.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":Qe==="loading"},b.loading):U?Ve.createElement("div",{className:Yr(N?.loader,(kt=v?.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":Qe==="loading"},U):Ve.createElement(_R,{className:Yr(N?.loader,(pt=v?.classNames)==null?void 0:pt.loader),visible:Qe==="loading"})}return Ve.createElement("li",{tabIndex:0,ref:Se,className:Yr(V,at,N?.toast,(e=v?.classNames)==null?void 0:e.toast,N?.default,N?.[Qe],(t=v?.classNames)==null?void 0:t[Qe]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:ne,"data-styled":!(v.jsx||v.unstyled||C),"data-mounted":le,"data-promise":!!v.promise,"data-swiped":ye,"data-removed":Ie,"data-visible":vt,"data-y-position":it,"data-x-position":tt,"data-index":F,"data-front":We,"data-swiping":Pe,"data-dismissible":Ue,"data-type":Qe,"data-invert":Ke,"data-swipe-out":Ot,"data-swipe-direction":q,"data-expanded":!!(te||L&&le),style:{"--index":F,"--toasts-before":F,"--z-index":Y.length-F,"--offset":`${Ie?Ce:ce.current}px`,"--initial-height":L?"auto":`${De}px`,...Q,...v.style},onDragEnd:()=>{ht(!1),j(null),we.current=null},onPointerDown:Ge=>{It||!Ue||(Fe.current=new Date,Re(ce.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ht(!0),we.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,kt,pt,H;if(Ot||!Ue)return;we.current=null;let B=Number(((Ge=Se.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),O=Number(((kt=Se.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),J=new Date().getTime()-((pt=Fe.current)==null?void 0:pt.getTime()),de=x==="x"?B:O,me=Math.abs(de)/J;if(Math.abs(de)>=KR||me>.11){Re(ce.current),(H=v.onDismiss)==null||H.call(v,v),re(x==="x"?B>0?"right":"left":O>0?"down":"up"),He(),Pt(!0),xe(!1);return}ht(!1),j(null)},onPointerMove:Ge=>{var kt,pt,H,B;if(!we.current||!Ue||((kt=window.getSelection())==null?void 0:kt.toString().length)>0)return;let O=Ge.clientY-we.current.y,J=Ge.clientX-we.current.x,de=(pt=n.swipeDirections)!=null?pt:HR(y);!x&&(Math.abs(J)>1||Math.abs(O)>1)&&j(Math.abs(J)>Math.abs(O)?"x":"y");let me={x:0,y:0};x==="y"?(de.includes("top")||de.includes("bottom"))&&(de.includes("top")&&O<0||de.includes("bottom")&&O>0)&&(me.y=O):x==="x"&&(de.includes("left")||de.includes("right"))&&(de.includes("left")&&J<0||de.includes("right")&&J>0)&&(me.x=J),(Math.abs(me.x)>0||Math.abs(me.y)>0)&&xe(!0),(H=Se.current)==null||H.style.setProperty("--swipe-amount-x",`${me.x}px`),(B=Se.current)==null||B.style.setProperty("--swipe-amount-y",`${me.y}px`)}},P&&!v.jsx?Ve.createElement("button",{"aria-label":w,"data-disabled":It,"data-close-button":!0,onClick:It||!Ue?()=>{}:()=>{var Ge;He(),(Ge=v.onDismiss)==null||Ge.call(v,v)},className:Yr(N?.closeButton,(i=v?.classNames)==null?void 0:i.closeButton)},(s=b?.close)!=null?s:CR):null,v.jsx||$.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:Ve.createElement(Ve.Fragment,null,Qe||v.icon||v.promise?Ve.createElement("div",{"data-icon":"",className:Yr(N?.icon,(l=v?.classNames)==null?void 0:l.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Rt():null,v.type!=="loading"?v.icon||b?.[Qe]||ER(Qe):null):null,Ve.createElement("div",{"data-content":"",className:Yr(N?.content,(c=v?.classNames)==null?void 0:c.content)},Ve.createElement("div",{"data-title":"",className:Yr(N?.title,(d=v?.classNames)==null?void 0:d.title)},typeof v.title=="function"?v.title():v.title),v.description?Ve.createElement("div",{"data-description":"",className:Yr(D,nt,N?.description,(p=v?.classNames)==null?void 0:p.description)},typeof v.description=="function"?v.description():v.description):null),$.isValidElement(v.cancel)?v.cancel:v.cancel&&Lu(v.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||Z,onClick:Ge=>{var kt,pt;Lu(v.cancel)&&Ue&&((pt=(kt=v.cancel).onClick)==null||pt.call(kt,Ge),He())},className:Yr(N?.cancelButton,(m=v?.classNames)==null?void 0:m.cancelButton)},v.cancel.label):null,$.isValidElement(v.action)?v.action:v.action&&Lu(v.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||ee,onClick:Ge=>{var kt,pt;Lu(v.action)&&((pt=(kt=v.action).onClick)==null||pt.call(kt,Ge),!Ge.defaultPrevented&&He())},className:Yr(N?.actionButton,(k=v?.classNames)==null?void 0:k.actionButton)},v.action.label):null))};function dv(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function YR(n,e){let t={};return[n,e].forEach((r,i)=>{let s=i===1,l=s?"--mobile-offset":"--offset",c=s?$R:zR;function d(p){["top","right","bottom","left"].forEach(m=>{t[`${l}-${m}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=c:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):d(c)}),t}var ZR=$.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:l,className:c,offset:d,mobileOffset:p,theme:m="light",richColors:k,duration:_,style:v,visibleToasts:C=UR,toastOptions:I,dir:T=dv(),gap:z=WR,loadingIcon:K,icons:F,containerAriaLabel:Y="Notifications",pauseWhenPageIsHidden:te}=n,[se,ne]=Ve.useState([]),ae=Ve.useMemo(()=>Array.from(new Set([r].concat(se.filter(h=>h.position).map(h=>h.position)))),[se,r]),[Q,Z]=Ve.useState([]),[ee,V]=Ve.useState(!1),[D,f]=Ve.useState(!1),[y,E]=Ve.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=Ve.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=Ve.useRef(null),b=Ve.useRef(!1),w=Ve.useCallback(h=>{ne(x=>{var j;return(j=x.find(q=>q.id===h.id))!=null&&j.delete||gr.dismiss(h.id),x.filter(({id:q})=>q!==h.id)})},[]);return Ve.useEffect(()=>gr.subscribe(h=>{if(h.dismiss){ne(x=>x.map(j=>j.id===h.id?{...j,delete:!0}:j));return}setTimeout(()=>{Yx.flushSync(()=>{ne(x=>{let j=x.findIndex(q=>q.id===h.id);return j!==-1?[...x.slice(0,j),{...x[j],...h},...x.slice(j+1)]:[h,...x]})})})}),[]),Ve.useEffect(()=>{if(m!=="system"){E(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")),typeof window>"u")return;let h=window.matchMedia("(prefers-color-scheme: dark)");try{h.addEventListener("change",({matches:x})=>{E(x?"dark":"light")})}catch{h.addListener(({matches:j})=>{try{E(j?"dark":"light")}catch(q){console.error(q)}})}},[m]),Ve.useEffect(()=>{se.length<=1&&V(!1)},[se]),Ve.useEffect(()=>{let h=x=>{var j,q;i.every(re=>x[re]||x.code===re)&&(V(!0),(j=U.current)==null||j.focus()),x.code==="Escape"&&(document.activeElement===U.current||(q=U.current)!=null&&q.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[i]),Ve.useEffect(()=>{if(U.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,b.current=!1)}},[U.current]),Ve.createElement("section",{ref:e,"aria-label":`${Y} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ae.map((h,x)=>{var j;let[q,re]=h.split("-");return se.length?Ve.createElement("ol",{key:h,dir:T==="auto"?dv():T,tabIndex:-1,ref:U,className:c,"data-sonner-toaster":!0,"data-theme":y,"data-y-position":q,"data-lifted":ee&&se.length>1&&!s,"data-x-position":re,style:{"--front-toast-height":`${((j=Q[0])==null?void 0:j.height)||0}px`,"--width":`${VR}px`,"--gap":`${z}px`,...v,...YR(d,p)},onBlur:le=>{b.current&&!le.currentTarget.contains(le.relatedTarget)&&(b.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||b.current||(b.current=!0,N.current=le.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{D||V(!1)},onDragEnd:()=>V(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||f(!0)},onPointerUp:()=>f(!1)},se.filter(le=>!le.position&&x===0||le.position===h).map((le,fe)=>{var Ie,Ze;return Ve.createElement(GR,{key:le.id,icons:F,index:fe,toast:le,defaultRichColors:k,duration:(Ie=I?.duration)!=null?Ie:_,className:I?.className,descriptionClassName:I?.descriptionClassName,invert:t,visibleToasts:C,closeButton:(Ze=I?.closeButton)!=null?Ze:l,interacting:D,position:h,style:I?.style,unstyled:I?.unstyled,classNames:I?.classNames,cancelButtonStyle:I?.cancelButtonStyle,actionButtonStyle:I?.actionButtonStyle,removeToast:w,toasts:se.filter(Pe=>Pe.position==le.position),heights:Q.filter(Pe=>Pe.position==le.position),setHeights:Z,expandByDefault:s,gap:z,loadingIcon:K,expanded:ee,pauseWhenPageIsHidden:te,swipeDirections:n.swipeDirections})})):null}))});const XR=({...n})=>{const{theme:e="system"}=SR();return S.jsx(ZR,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var QR=dg[" useId ".trim().toString()]||(()=>{}),JR=0;function wp(n){const[e,t]=$.useState(QR());return ti(()=>{t(r=>r??String(JR++))},[n]),n||(e?`radix-${e}`:"")}const eT=["top","right","bottom","left"],qi=Math.min,Pr=Math.max,vd=Math.round,Ou=Math.floor,_o=n=>({x:n,y:n}),tT={left:"right",right:"left",bottom:"top",top:"bottom"},nT={start:"end",end:"start"};function _m(n,e,t){return Pr(n,qi(e,t))}function ni(n,e){return typeof n=="function"?n(e):n}function ri(n){return n.split("-")[0]}function $a(n){return n.split("-")[1]}function wg(n){return n==="x"?"y":"x"}function vg(n){return n==="y"?"height":"width"}const rT=new Set(["top","bottom"]);function Eo(n){return rT.has(ri(n))?"y":"x"}function xg(n){return wg(Eo(n))}function oT(n,e,t){t===void 0&&(t=!1);const r=$a(n),i=xg(n),s=vg(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=xd(l)),[l,xd(l)]}function iT(n){const e=xd(n);return[Im(n),e,Im(e)]}function Im(n){return n.replace(/start|end/g,e=>nT[e])}const fv=["left","right"],hv=["right","left"],sT=["top","bottom"],aT=["bottom","top"];function lT(n,e,t){switch(n){case"top":case"bottom":return t?e?hv:fv:e?fv:hv;case"left":case"right":return e?sT:aT;default:return[]}}function cT(n,e,t,r){const i=$a(n);let s=lT(ri(n),t==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(Im)))),s}function xd(n){return n.replace(/left|right|bottom|top/g,e=>tT[e])}function uT(n){return{top:0,right:0,bottom:0,left:0,...n}}function zb(n){return typeof n!="number"?uT(n):{top:n,right:n,bottom:n,left:n}}function bd(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function pv(n,e,t){let{reference:r,floating:i}=n;const s=Eo(e),l=xg(e),c=vg(l),d=ri(e),p=s==="y",m=r.x+r.width/2-i.width/2,k=r.y+r.height/2-i.height/2,_=r[c]/2-i[c]/2;let v;switch(d){case"top":v={x:m,y:r.y-i.height};break;case"bottom":v={x:m,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:k};break;case"left":v={x:r.x-i.width,y:k};break;default:v={x:r.x,y:r.y}}switch($a(e)){case"start":v[l]-=_*(t&&p?-1:1);break;case"end":v[l]+=_*(t&&p?-1:1);break}return v}const dT=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=t,c=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:k}=pv(p,r,d),_=r,v={},C=0;for(let I=0;I<c.length;I++){const{name:T,fn:z}=c[I],{x:K,y:F,data:Y,reset:te}=await z({x:m,y:k,initialPlacement:r,placement:_,strategy:i,middlewareData:v,rects:p,platform:l,elements:{reference:n,floating:e}});m=K??m,k=F??k,v={...v,[T]:{...v[T],...Y}},te&&C<=50&&(C++,typeof te=="object"&&(te.placement&&(_=te.placement),te.rects&&(p=te.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):te.rects),{x:m,y:k}=pv(p,_,d)),I=-1)}return{x:m,y:k,placement:_,strategy:i,middlewareData:v}};async function ec(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:d}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:k="floating",altBoundary:_=!1,padding:v=0}=ni(e,n),C=zb(v),T=c[_?k==="floating"?"reference":"floating":k],z=bd(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(T)))==null||t?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:d})),K=k==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),Y=await(s.isElement==null?void 0:s.isElement(F))?await(s.getScale==null?void 0:s.getScale(F))||{x:1,y:1}:{x:1,y:1},te=bd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:K,offsetParent:F,strategy:d}):K);return{top:(z.top-te.top+C.top)/Y.y,bottom:(te.bottom-z.bottom+C.bottom)/Y.y,left:(z.left-te.left+C.left)/Y.x,right:(te.right-z.right+C.right)/Y.x}}const fT=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:m=0}=ni(n,e)||{};if(p==null)return{};const k=zb(m),_={x:t,y:r},v=xg(i),C=vg(v),I=await l.getDimensions(p),T=v==="y",z=T?"top":"left",K=T?"bottom":"right",F=T?"clientHeight":"clientWidth",Y=s.reference[C]+s.reference[v]-_[v]-s.floating[C],te=_[v]-s.reference[v],se=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let ne=se?se[F]:0;(!ne||!await(l.isElement==null?void 0:l.isElement(se)))&&(ne=c.floating[F]||s.floating[C]);const ae=Y/2-te/2,Q=ne/2-I[C]/2-1,Z=qi(k[z],Q),ee=qi(k[K],Q),V=Z,D=ne-I[C]-ee,f=ne/2-I[C]/2+ae,y=_m(V,f,D),E=!d.arrow&&$a(i)!=null&&f!==y&&s.reference[C]/2-(f<V?Z:ee)-I[C]/2<0,U=E?f<V?f-V:f-D:0;return{[v]:_[v]+U,data:{[v]:y,centerOffset:f-y-U,...E&&{alignmentOffset:U}},reset:E}}}),hT=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:k=!0,fallbackPlacements:_,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:I=!0,...T}=ni(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const z=ri(i),K=Eo(c),F=ri(c)===c,Y=await(d.isRTL==null?void 0:d.isRTL(p.floating)),te=_||(F||!I?[xd(c)]:iT(c)),se=C!=="none";!_&&se&&te.push(...cT(c,I,C,Y));const ne=[c,...te],ae=await ec(e,T),Q=[];let Z=((r=s.flip)==null?void 0:r.overflows)||[];if(m&&Q.push(ae[z]),k){const f=oT(i,l,Y);Q.push(ae[f[0]],ae[f[1]])}if(Z=[...Z,{placement:i,overflows:Q}],!Q.every(f=>f<=0)){var ee,V;const f=(((ee=s.flip)==null?void 0:ee.index)||0)+1,y=ne[f];if(y&&(!(k==="alignment"?K!==Eo(y):!1)||Z.every(L=>Eo(L.placement)===K?L.overflows[0]>0:!0)))return{data:{index:f,overflows:Z},reset:{placement:y}};let E=(V=Z.filter(U=>U.overflows[0]<=0).sort((U,L)=>U.overflows[1]-L.overflows[1])[0])==null?void 0:V.placement;if(!E)switch(v){case"bestFit":{var D;const U=(D=Z.filter(L=>{if(se){const N=Eo(L.placement);return N===K||N==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(N=>N>0).reduce((N,b)=>N+b,0)]).sort((L,N)=>L[1]-N[1])[0])==null?void 0:D[0];U&&(E=U);break}case"initialPlacement":E=c;break}if(i!==E)return{reset:{placement:E}}}return{}}}};function mv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function gv(n){return eT.some(e=>n[e]>=0)}const pT=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=ni(n,e);switch(r){case"referenceHidden":{const s=await ec(e,{...i,elementContext:"reference"}),l=mv(s,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:gv(l)}}}case"escaped":{const s=await ec(e,{...i,altBoundary:!0}),l=mv(s,t.floating);return{data:{escapedOffsets:l,escaped:gv(l)}}}default:return{}}}}},$b=new Set(["left","top"]);async function mT(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ri(t),c=$a(t),d=Eo(t)==="y",p=$b.has(l)?-1:1,m=s&&d?-1:1,k=ni(e,n);let{mainAxis:_,crossAxis:v,alignmentAxis:C}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:k.mainAxis||0,crossAxis:k.crossAxis||0,alignmentAxis:k.alignmentAxis};return c&&typeof C=="number"&&(v=c==="end"?C*-1:C),d?{x:v*m,y:_*p}:{x:_*p,y:v*m}}const gT=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:l,middlewareData:c}=e,d=await mT(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},yT=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:T=>{let{x:z,y:K}=T;return{x:z,y:K}}},...d}=ni(n,e),p={x:t,y:r},m=await ec(e,d),k=Eo(ri(i)),_=wg(k);let v=p[_],C=p[k];if(s){const T=_==="y"?"top":"left",z=_==="y"?"bottom":"right",K=v+m[T],F=v-m[z];v=_m(K,v,F)}if(l){const T=k==="y"?"top":"left",z=k==="y"?"bottom":"right",K=C+m[T],F=C-m[z];C=_m(K,C,F)}const I=c.fn({...e,[_]:v,[k]:C});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[_]:s,[k]:l}}}}}},wT=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:p=!0}=ni(n,e),m={x:t,y:r},k=Eo(i),_=wg(k);let v=m[_],C=m[k];const I=ni(c,e),T=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(d){const F=_==="y"?"height":"width",Y=s.reference[_]-s.floating[F]+T.mainAxis,te=s.reference[_]+s.reference[F]-T.mainAxis;v<Y?v=Y:v>te&&(v=te)}if(p){var z,K;const F=_==="y"?"width":"height",Y=$b.has(ri(i)),te=s.reference[k]-s.floating[F]+(Y&&((z=l.offset)==null?void 0:z[k])||0)+(Y?0:T.crossAxis),se=s.reference[k]+s.reference[F]+(Y?0:((K=l.offset)==null?void 0:K[k])||0)-(Y?T.crossAxis:0);C<te?C=te:C>se&&(C=se)}return{[_]:v,[k]:C}}}},vT=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:l,elements:c}=e,{apply:d=()=>{},...p}=ni(n,e),m=await ec(e,p),k=ri(i),_=$a(i),v=Eo(i)==="y",{width:C,height:I}=s.floating;let T,z;k==="top"||k==="bottom"?(T=k,z=_===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(z=k,T=_==="end"?"top":"bottom");const K=I-m.top-m.bottom,F=C-m.left-m.right,Y=qi(I-m[T],K),te=qi(C-m[z],F),se=!e.middlewareData.shift;let ne=Y,ae=te;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(ae=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(ne=K),se&&!_){const Z=Pr(m.left,0),ee=Pr(m.right,0),V=Pr(m.top,0),D=Pr(m.bottom,0);v?ae=C-2*(Z!==0||ee!==0?Z+ee:Pr(m.left,m.right)):ne=I-2*(V!==0||D!==0?V+D:Pr(m.top,m.bottom))}await d({...e,availableWidth:ae,availableHeight:ne});const Q=await l.getDimensions(c.floating);return C!==Q.width||I!==Q.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function Va(n){return Vb(n)?(n.nodeName||"").toLowerCase():"#document"}function Rr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function No(n){var e;return(e=(Vb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Vb(n){return Gd()?n instanceof Node||n instanceof Rr(n).Node:!1}function no(n){return Gd()?n instanceof Element||n instanceof Rr(n).Element:!1}function Ro(n){return Gd()?n instanceof HTMLElement||n instanceof Rr(n).HTMLElement:!1}function yv(n){return!Gd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Rr(n).ShadowRoot}const xT=new Set(["inline","contents"]);function mc(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ro(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!xT.has(i)}const bT=new Set(["table","td","th"]);function kT(n){return bT.has(Va(n))}const ST=[":popover-open",":modal"];function Yd(n){return ST.some(e=>{try{return n.matches(e)}catch{return!1}})}const ET=["transform","translate","scale","rotate","perspective"],AT=["transform","translate","scale","rotate","perspective","filter"],_T=["paint","layout","strict","content"];function bg(n){const e=kg(),t=no(n)?ro(n):n;return ET.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||AT.some(r=>(t.willChange||"").includes(r))||_T.some(r=>(t.contain||"").includes(r))}function IT(n){let e=Hi(n);for(;Ro(e)&&!Ma(e);){if(bg(e))return e;if(Yd(e))return null;e=Hi(e)}return null}function kg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PT=new Set(["html","body","#document"]);function Ma(n){return PT.has(Va(n))}function ro(n){return Rr(n).getComputedStyle(n)}function Zd(n){return no(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Hi(n){if(Va(n)==="html")return n;const e=n.assignedSlot||n.parentNode||yv(n)&&n.host||No(n);return yv(e)?e.host:e}function Wb(n){const e=Hi(n);return Ma(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ro(e)&&mc(e)?e:Wb(e)}function tc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Wb(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),l=Rr(i);if(s){const c=Pm(l);return e.concat(l,l.visualViewport||[],mc(i)?i:[],c&&t?tc(c):[])}return e.concat(i,tc(i,[],t))}function Pm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Kb(n){const e=ro(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ro(n),s=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=vd(t)!==s||vd(r)!==l;return c&&(t=s,r=l),{width:t,height:r,$:c}}function Sg(n){return no(n)?n:n.contextElement}function Aa(n){const e=Sg(n);if(!Ro(e))return _o(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=Kb(e);let l=(s?vd(t.width):t.width)/r,c=(s?vd(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const RT=_o(0);function qb(n){const e=Rr(n);return!kg()||!e.visualViewport?RT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TT(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Rr(n)?!1:e}function _s(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=Sg(n);let l=_o(1);e&&(r?no(r)&&(l=Aa(r)):l=Aa(n));const c=TT(s,t,r)?qb(s):_o(0);let d=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,m=i.width/l.x,k=i.height/l.y;if(s){const _=Rr(s),v=r&&no(r)?Rr(r):r;let C=_,I=Pm(C);for(;I&&r&&v!==C;){const T=Aa(I),z=I.getBoundingClientRect(),K=ro(I),F=z.left+(I.clientLeft+parseFloat(K.paddingLeft))*T.x,Y=z.top+(I.clientTop+parseFloat(K.paddingTop))*T.y;d*=T.x,p*=T.y,m*=T.x,k*=T.y,d+=F,p+=Y,C=Rr(I),I=Pm(C)}}return bd({width:m,height:k,x:d,y:p})}function Xd(n,e){const t=Zd(n).scrollLeft;return e?e.left+t:_s(No(n)).left+t}function Hb(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Xd(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function CT(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",l=No(r),c=e?Yd(e.floating):!1;if(r===l||c&&s)return t;let d={scrollLeft:0,scrollTop:0},p=_o(1);const m=_o(0),k=Ro(r);if((k||!k&&!s)&&((Va(r)!=="body"||mc(l))&&(d=Zd(r)),Ro(r))){const v=_s(r);p=Aa(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}const _=l&&!k&&!s?Hb(l,d):_o(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+_.x,y:t.y*p.y-d.scrollTop*p.y+m.y+_.y}}function NT(n){return Array.from(n.getClientRects())}function BT(n){const e=No(n),t=Zd(n),r=n.ownerDocument.body,i=Pr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Pr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Xd(n);const c=-t.scrollTop;return ro(r).direction==="rtl"&&(l+=Pr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}const wv=25;function MT(n,e){const t=Rr(n),r=No(n),i=t.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){s=i.width,l=i.height;const m=kg();(!m||m&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const p=Xd(r);if(p<=0){const m=r.ownerDocument,k=m.body,_=getComputedStyle(k),v=m.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,C=Math.abs(r.clientWidth-k.clientWidth-v);C<=wv&&(s-=C)}else p<=wv&&(s+=p);return{width:s,height:l,x:c,y:d}}const LT=new Set(["absolute","fixed"]);function OT(n,e){const t=_s(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Ro(n)?Aa(n):_o(1),l=n.clientWidth*s.x,c=n.clientHeight*s.y,d=i*s.x,p=r*s.y;return{width:l,height:c,x:d,y:p}}function vv(n,e,t){let r;if(e==="viewport")r=MT(n,t);else if(e==="document")r=BT(No(n));else if(no(e))r=OT(e,t);else{const i=qb(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return bd(r)}function Gb(n,e){const t=Hi(n);return t===e||!no(t)||Ma(t)?!1:ro(t).position==="fixed"||Gb(t,e)}function DT(n,e){const t=e.get(n);if(t)return t;let r=tc(n,[],!1).filter(c=>no(c)&&Va(c)!=="body"),i=null;const s=ro(n).position==="fixed";let l=s?Hi(n):n;for(;no(l)&&!Ma(l);){const c=ro(l),d=bg(l);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&LT.has(i.position)||mc(l)&&!d&&Gb(n,l))?r=r.filter(m=>m!==l):i=c,l=Hi(l)}return e.set(n,r),r}function jT(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Yd(e)?[]:DT(e,this._c):[].concat(t),r],c=l[0],d=l.reduce((p,m)=>{const k=vv(e,m,i);return p.top=Pr(k.top,p.top),p.right=qi(k.right,p.right),p.bottom=qi(k.bottom,p.bottom),p.left=Pr(k.left,p.left),p},vv(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function FT(n){const{width:e,height:t}=Kb(n);return{width:e,height:t}}function UT(n,e,t){const r=Ro(e),i=No(e),s=t==="fixed",l=_s(n,!0,s,e);let c={scrollLeft:0,scrollTop:0};const d=_o(0);function p(){d.x=Xd(i)}if(r||!r&&!s)if((Va(e)!=="body"||mc(i))&&(c=Zd(e)),r){const v=_s(e,!0,s,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else i&&p();s&&!r&&i&&p();const m=i&&!r&&!s?Hb(i,c):_o(0),k=l.left+c.scrollLeft-d.x-m.x,_=l.top+c.scrollTop-d.y-m.y;return{x:k,y:_,width:l.width,height:l.height}}function vp(n){return ro(n).position==="static"}function xv(n,e){if(!Ro(n)||ro(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return No(n)===t&&(t=t.ownerDocument.body),t}function Yb(n,e){const t=Rr(n);if(Yd(n))return t;if(!Ro(n)){let i=Hi(n);for(;i&&!Ma(i);){if(no(i)&&!vp(i))return i;i=Hi(i)}return t}let r=xv(n,e);for(;r&&kT(r)&&vp(r);)r=xv(r,e);return r&&Ma(r)&&vp(r)&&!bg(r)?t:r||IT(n)||t}const zT=async function(n){const e=this.getOffsetParent||Yb,t=this.getDimensions,r=await t(n.floating);return{reference:UT(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $T(n){return ro(n).direction==="rtl"}const VT={convertOffsetParentRelativeRectToViewportRelativeRect:CT,getDocumentElement:No,getClippingRect:jT,getOffsetParent:Yb,getElementRects:zT,getClientRects:NT,getDimensions:FT,getScale:Aa,isElement:no,isRTL:$T};function Zb(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function WT(n,e){let t=null,r;const i=No(n);function s(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const p=n.getBoundingClientRect(),{left:m,top:k,width:_,height:v}=p;if(c||e(),!_||!v)return;const C=Ou(k),I=Ou(i.clientWidth-(m+_)),T=Ou(i.clientHeight-(k+v)),z=Ou(m),F={rootMargin:-C+"px "+-I+"px "+-T+"px "+-z+"px",threshold:Pr(0,qi(1,d))||1};let Y=!0;function te(se){const ne=se[0].intersectionRatio;if(ne!==d){if(!Y)return l();ne?l(!1,ne):r=setTimeout(()=>{l(!1,1e-7)},1e3)}ne===1&&!Zb(p,n.getBoundingClientRect())&&l(),Y=!1}try{t=new IntersectionObserver(te,{...F,root:i.ownerDocument})}catch{t=new IntersectionObserver(te,F)}t.observe(n)}return l(!0),s}function KT(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Sg(n),m=i||s?[...p?tc(p):[],...tc(e)]:[];m.forEach(z=>{i&&z.addEventListener("scroll",t,{passive:!0}),s&&z.addEventListener("resize",t)});const k=p&&c?WT(p,t):null;let _=-1,v=null;l&&(v=new ResizeObserver(z=>{let[K]=z;K&&K.target===p&&v&&(v.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var F;(F=v)==null||F.observe(e)})),t()}),p&&!d&&v.observe(p),v.observe(e));let C,I=d?_s(n):null;d&&T();function T(){const z=_s(n);I&&!Zb(I,z)&&t(),I=z,C=requestAnimationFrame(T)}return t(),()=>{var z;m.forEach(K=>{i&&K.removeEventListener("scroll",t),s&&K.removeEventListener("resize",t)}),k?.(),(z=v)==null||z.disconnect(),v=null,d&&cancelAnimationFrame(C)}}const qT=gT,HT=yT,GT=hT,YT=vT,ZT=pT,bv=fT,XT=wT,QT=(n,e,t)=>{const r=new Map,i={platform:VT,...t},s={...i.platform,_c:r};return dT(n,e,{...i,platform:s})};var JT=typeof document<"u",eC=function(){},ad=JT?$.useLayoutEffect:eC;function kd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!kd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!kd(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function Xb(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function kv(n,e){const t=Xb(n);return Math.round(e*t)/t}function xp(n){const e=$.useRef(n);return ad(()=>{e.current=n}),e}function tC(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=n,[m,k]=$.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,v]=$.useState(r);kd(_,r)||v(r);const[C,I]=$.useState(null),[T,z]=$.useState(null),K=$.useCallback(L=>{L!==se.current&&(se.current=L,I(L))},[]),F=$.useCallback(L=>{L!==ne.current&&(ne.current=L,z(L))},[]),Y=s||C,te=l||T,se=$.useRef(null),ne=$.useRef(null),ae=$.useRef(m),Q=d!=null,Z=xp(d),ee=xp(i),V=xp(p),D=$.useCallback(()=>{if(!se.current||!ne.current)return;const L={placement:e,strategy:t,middleware:_};ee.current&&(L.platform=ee.current),QT(se.current,ne.current,L).then(N=>{const b={...N,isPositioned:V.current!==!1};f.current&&!kd(ae.current,b)&&(ae.current=b,Vd.flushSync(()=>{k(b)}))})},[_,e,t,ee,V]);ad(()=>{p===!1&&ae.current.isPositioned&&(ae.current.isPositioned=!1,k(L=>({...L,isPositioned:!1})))},[p]);const f=$.useRef(!1);ad(()=>(f.current=!0,()=>{f.current=!1}),[]),ad(()=>{if(Y&&(se.current=Y),te&&(ne.current=te),Y&&te){if(Z.current)return Z.current(Y,te,D);D()}},[Y,te,D,Z,Q]);const y=$.useMemo(()=>({reference:se,floating:ne,setReference:K,setFloating:F}),[K,F]),E=$.useMemo(()=>({reference:Y,floating:te}),[Y,te]),U=$.useMemo(()=>{const L={position:t,left:0,top:0};if(!E.floating)return L;const N=kv(E.floating,m.x),b=kv(E.floating,m.y);return c?{...L,transform:"translate("+N+"px, "+b+"px)",...Xb(E.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:b}},[t,c,E.floating,m.x,m.y]);return $.useMemo(()=>({...m,update:D,refs:y,elements:E,floatingStyles:U}),[m,D,y,E,U])}const nC=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?bv({element:r.current,padding:i}).fn(t):{}:r?bv({element:r,padding:i}).fn(t):{}}}},rC=(n,e)=>({...qT(n),options:[n,e]}),oC=(n,e)=>({...HT(n),options:[n,e]}),iC=(n,e)=>({...XT(n),options:[n,e]}),sC=(n,e)=>({...GT(n),options:[n,e]}),aC=(n,e)=>({...YT(n),options:[n,e]}),lC=(n,e)=>({...ZT(n),options:[n,e]}),cC=(n,e)=>({...nC(n),options:[n,e]});var uC="Arrow",Qb=$.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return S.jsx(Jt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qb.displayName=uC;var dC=Qb;function Jb(n){const[e,t]=$.useState(void 0);return ti(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,c;if("borderBoxSize"in s){const d=s.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,c=p.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var ek="Popper",[tk,nk]=Ns(ek),[rF,rk]=tk(ek),ok="PopperAnchor",ik=$.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=rk(ok,t),l=$.useRef(null),c=pn(e,l),d=$.useRef(null);return $.useEffect(()=>{const p=d.current;d.current=r?.current||l.current,p!==d.current&&s.onAnchorChange(d.current)}),r?null:S.jsx(Jt.div,{...i,ref:c})});ik.displayName=ok;var Eg="PopperContent",[fC,hC]=tk(Eg),sk=$.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:k="partial",hideWhenDetached:_=!1,updatePositionStrategy:v="optimized",onPlaced:C,...I}=n,T=rk(Eg,t),[z,K]=$.useState(null),F=pn(e,le=>K(le)),[Y,te]=$.useState(null),se=Jb(Y),ne=se?.width??0,ae=se?.height??0,Q=r+(s!=="center"?"-"+s:""),Z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ee=Array.isArray(p)?p:[p],V=ee.length>0,D={padding:Z,boundary:ee.filter(mC),altBoundary:V},{refs:f,floatingStyles:y,placement:E,isPositioned:U,middlewareData:L}=tC({strategy:"fixed",placement:Q,whileElementsMounted:(...le)=>KT(...le,{animationFrame:v==="always"}),elements:{reference:T.anchor},middleware:[rC({mainAxis:i+ae,alignmentAxis:l}),d&&oC({mainAxis:!0,crossAxis:!1,limiter:k==="partial"?iC():void 0,...D}),d&&sC({...D}),aC({...D,apply:({elements:le,rects:fe,availableWidth:Ie,availableHeight:Ze})=>{const{width:Pe,height:ht}=fe.reference,Ot=le.floating.style;Ot.setProperty("--radix-popper-available-width",`${Ie}px`),Ot.setProperty("--radix-popper-available-height",`${Ze}px`),Ot.setProperty("--radix-popper-anchor-width",`${Pe}px`),Ot.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),Y&&cC({element:Y,padding:c}),gC({arrowWidth:ne,arrowHeight:ae}),_&&lC({strategy:"referenceHidden",...D})]}),[N,b]=ck(E),w=Po(C);ti(()=>{U&&w?.()},[U,w]);const h=L.arrow?.x,x=L.arrow?.y,j=L.arrow?.centerOffset!==0,[q,re]=$.useState();return ti(()=>{z&&re(window.getComputedStyle(z).zIndex)},[z]),S.jsx("div",{ref:f.setFloating,"data-radix-popper-content-wrapper":"",style:{...y,transform:U?y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:S.jsx(fC,{scope:t,placedSide:N,onArrowChange:te,arrowX:h,arrowY:x,shouldHideArrow:j,children:S.jsx(Jt.div,{"data-side":N,"data-align":b,...I,ref:F,style:{...I.style,animation:U?void 0:"none"}})})})});sk.displayName=Eg;var ak="PopperArrow",pC={top:"bottom",right:"left",bottom:"top",left:"right"},lk=$.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=hC(ak,r),l=pC[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(dC,{...i,ref:t,style:{...i.style,display:"block"}})})});lk.displayName=ak;function mC(n){return n!==null}var gC=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[p,m]=ck(t),k={start:"0%",center:"50%",end:"100%"}[m],_=(i.arrow?.x??0)+c/2,v=(i.arrow?.y??0)+d/2;let C="",I="";return p==="bottom"?(C=l?k:`${_}px`,I=`${-d}px`):p==="top"?(C=l?k:`${_}px`,I=`${r.floating.height+d}px`):p==="right"?(C=`${-d}px`,I=l?k:`${v}px`):p==="left"&&(C=`${r.floating.width+d}px`,I=l?k:`${v}px`),{data:{x:C,y:I}}}});function ck(n){const[e,t="center"]=n.split("-");return[e,t]}var yC=ik,wC=sk,vC=lk,[Qd]=Ns("Tooltip",[nk]),Ag=nk(),uk="TooltipProvider",xC=700,Sv="tooltip.open",[bC,dk]=Qd(uk),fk=n=>{const{__scopeTooltip:e,delayDuration:t=xC,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,l=$.useRef(!0),c=$.useRef(!1),d=$.useRef(0);return $.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),S.jsx(bC,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:$.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:$.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:$.useCallback(p=>{c.current=p},[]),disableHoverableContent:i,children:s})};fk.displayName=uk;var hk="Tooltip",[oF,Jd]=Qd(hk),Rm="TooltipTrigger",kC=$.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Jd(Rm,t),s=dk(Rm,t),l=Ag(t),c=$.useRef(null),d=pn(e,c,i.onTriggerChange),p=$.useRef(!1),m=$.useRef(!1),k=$.useCallback(()=>p.current=!1,[]);return $.useEffect(()=>()=>document.removeEventListener("pointerup",k),[k]),S.jsx(yC,{asChild:!0,...l,children:S.jsx(Jt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Vt(n.onPointerMove,_=>{_.pointerType!=="touch"&&!m.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Vt(n.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Vt(n.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",k,{once:!0})}),onFocus:Vt(n.onFocus,()=>{p.current||i.onOpen()}),onBlur:Vt(n.onBlur,i.onClose),onClick:Vt(n.onClick,i.onClose)})})});kC.displayName=Rm;var SC="TooltipPortal",[iF,EC]=Qd(SC,{forceMount:void 0}),La="TooltipContent",pk=$.forwardRef((n,e)=>{const t=EC(La,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,l=Jd(La,n.__scopeTooltip);return S.jsx(Ua,{present:r||l.open,children:l.disableHoverableContent?S.jsx(mk,{side:i,...s,ref:e}):S.jsx(AC,{side:i,...s,ref:e})})}),AC=$.forwardRef((n,e)=>{const t=Jd(La,n.__scopeTooltip),r=dk(La,n.__scopeTooltip),i=$.useRef(null),s=pn(e,i),[l,c]=$.useState(null),{trigger:d,onClose:p}=t,m=i.current,{onPointerInTransitChange:k}=r,_=$.useCallback(()=>{c(null),k(!1)},[k]),v=$.useCallback((C,I)=>{const T=C.currentTarget,z={x:C.clientX,y:C.clientY},K=TC(z,T.getBoundingClientRect()),F=CC(z,K),Y=NC(I.getBoundingClientRect()),te=MC([...F,...Y]);c(te),k(!0)},[k]);return $.useEffect(()=>()=>_(),[_]),$.useEffect(()=>{if(d&&m){const C=T=>v(T,m),I=T=>v(T,d);return d.addEventListener("pointerleave",C),m.addEventListener("pointerleave",I),()=>{d.removeEventListener("pointerleave",C),m.removeEventListener("pointerleave",I)}}},[d,m,v,_]),$.useEffect(()=>{if(l){const C=I=>{const T=I.target,z={x:I.clientX,y:I.clientY},K=d?.contains(T)||m?.contains(T),F=!BC(z,l);K?_():F&&(_(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,m,l,p,_]),S.jsx(mk,{...n,ref:s})}),[_C,IC]=Qd(hk,{isInside:!1}),PC=Qx("TooltipContent"),mk=$.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:l,...c}=n,d=Jd(La,t),p=Ag(t),{onClose:m}=d;return $.useEffect(()=>(document.addEventListener(Sv,m),()=>document.removeEventListener(Sv,m)),[m]),$.useEffect(()=>{if(d.trigger){const k=_=>{_.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",k,{capture:!0}),()=>window.removeEventListener("scroll",k,{capture:!0})}},[d.trigger,m]),S.jsx(Wd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:k=>k.preventDefault(),onDismiss:m,children:S.jsxs(wC,{"data-state":d.stateAttribute,...p,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(PC,{children:r}),S.jsx(_C,{scope:t,isInside:!0,children:S.jsx(qI,{id:d.contentId,role:"tooltip",children:i||r})})]})})});pk.displayName=La;var gk="TooltipArrow",RC=$.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Ag(t);return IC(gk,t).isInside?null:S.jsx(vC,{...i,...r,ref:e})});RC.displayName=gk;function TC(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function CC(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function NC(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function BC(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const c=e[s],d=e[l],p=c.x,m=c.y,k=d.x,_=d.y;m>r!=_>r&&t<(k-p)*(r-m)/(_-m)+p&&(i=!i)}return i}function MC(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),LC(e)}function LC(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],l=e[e.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(i.y-l.y)>=(s.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var OC=fk,yk=pk;const DC=OC,jC=$.forwardRef(({className:n,sideOffset:e=4,...t},r)=>S.jsx(yk,{ref:r,sideOffset:e,className:en("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));jC.displayName=yk.displayName;var ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},FC={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},UC=class{#e=FC;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Tm=new UC;function zC(n){setTimeout(n,0)}var tf=typeof window>"u"||"Deno"in globalThis;function Jr(){}function $C(n,e){return typeof n=="function"?n(e):n}function VC(n){return typeof n=="number"&&n>=0&&n!==1/0}function WC(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Cm(n,e){return typeof n=="function"?n(e):n}function KC(n,e){return typeof n=="function"?n(e):n}function Ev(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:c}=n;if(l){if(r){if(e.queryHash!==_g(l,e.options))return!1}else if(!rc(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||s&&!s(e))}function Av(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(nc(e.options.mutationKey)!==nc(s))return!1}else if(!rc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function _g(n,e){return(e?.queryKeyHashFn||nc)(n)}function nc(n){return JSON.stringify(n,(e,t)=>Nm(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function rc(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>rc(n[t],e[t])):!1}var qC=Object.prototype.hasOwnProperty;function wk(n,e){if(n===e)return n;const t=_v(n)&&_v(e);if(!t&&!(Nm(n)&&Nm(e)))return e;const i=(t?n:Object.keys(n)).length,s=t?e:Object.keys(e),l=s.length,c=t?new Array(l):{};let d=0;for(let p=0;p<l;p++){const m=t?p:s[p],k=n[m],_=e[m];if(k===_){c[m]=k,(t?p<i:qC.call(n,m))&&d++;continue}if(k===null||_===null||typeof k!="object"||typeof _!="object"){c[m]=_;continue}const v=wk(k,_);c[m]=v,v===k&&d++}return i===l&&d===i?n:c}function _v(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Nm(n){if(!Iv(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Iv(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Iv(n){return Object.prototype.toString.call(n)==="[object Object]"}function HC(n){return new Promise(e=>{Tm.setTimeout(e,n)})}function GC(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?wk(n,e):e}function YC(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function ZC(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Ig=Symbol();function vk(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===Ig?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var XC=class extends ef{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!tf&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},xk=new XC;function QC(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var JC=zC;function eN(){let n=[],e=0,t=c=>{c()},r=c=>{c()},i=JC;const s=c=>{e?n.push(c):i(()=>{t(c)})},l=()=>{const c=n;n=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{s(()=>{c(...d)})},schedule:s,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var ar=eN(),tN=class extends ef{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!tf&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},Sd=new tN;function nN(n){return Math.min(1e3*2**n,3e4)}function bk(n){return(n??"online")==="online"?Sd.isOnline():!0}var Bm=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function kk(n){let e=!1,t=0,r;const i=QC(),s=()=>i.status!=="pending",l=I=>{if(!s()){const T=new Bm(I);_(T),n.onCancel?.(T)}},c=()=>{e=!0},d=()=>{e=!1},p=()=>xk.isFocused()&&(n.networkMode==="always"||Sd.isOnline())&&n.canRun(),m=()=>bk(n.networkMode)&&n.canRun(),k=I=>{s()||(r?.(),i.resolve(I))},_=I=>{s()||(r?.(),i.reject(I))},v=()=>new Promise(I=>{r=T=>{(s()||p())&&I(T)},n.onPause?.()}).then(()=>{r=void 0,s()||n.onContinue?.()}),C=()=>{if(s())return;let I;const T=t===0?n.initialPromise:void 0;try{I=T??n.fn()}catch(z){I=Promise.reject(z)}Promise.resolve(I).then(k).catch(z=>{if(s())return;const K=n.retry??(tf?0:3),F=n.retryDelay??nN,Y=typeof F=="function"?F(t,z):F,te=K===!0||typeof K=="number"&&t<K||typeof K=="function"&&K(t,z);if(e||!te){_(z);return}t++,n.onFail?.(t,z),HC(Y).then(()=>p()?void 0:v()).then(()=>{e?_(z):C()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?C():v().then(C),i)}}var Sk=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VC(this.gcTime)&&(this.#e=Tm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(tf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Tm.clearTimeout(this.#e),this.#e=void 0)}},rN=class extends Sk{#e;#t;#n;#o;#r;#s;#a;constructor(n){super(),this.#a=!1,this.#s=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#o=n.client,this.#n=this.#o.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=Pv(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(n){if(this.options={...this.#s,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Pv(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const t=GC(this.state.data,n,this.options);return this.#i({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(n,e){this.#i({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#r?.promise;return this.#r?.cancel(n),e?e.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>KC(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ig||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Cm(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!WC(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(n&&this.setOptions(n),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const t=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#a=!0,t.signal)})},i=()=>{const c=vk(this.options,e),p=(()=>{const m={client:this.#o,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#a=!1,this.options.persister?this.options.persister(c,p,this):c(p)},l=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#o,state:this.state,fetchFn:i};return r(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#i({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=kk({initialPromise:e?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof Bm&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),t.abort()},onFail:(c,d)=>{this.#i({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#r.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Bm){if(c.silent)return this.#r.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(n){const e=t=>{switch(n.type){case"failed":return{...t,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...oN(t.data,this.options),fetchMeta:n.meta??null};case"success":const r={...t,data:n.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?r:void 0,r;case"error":const i=n.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...n.state}}};this.state=e(this.state),ar.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function oN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bk(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Pv(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function Rv(n){return{onFetch:(e,t)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const p=async()=>{let m=!1;const k=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},_=vk(e.options,e.fetchOptions),v=async(C,I,T)=>{if(m)return Promise.reject();if(I==null&&C.pages.length)return Promise.resolve(C);const K=(()=>{const se={client:e.client,queryKey:e.queryKey,pageParam:I,direction:T?"backward":"forward",meta:e.options.meta};return k(se),se})(),F=await _(K),{maxPages:Y}=e.options,te=T?ZC:YC;return{pages:te(C.pages,F,Y),pageParams:te(C.pageParams,I,Y)}};if(i&&s.length){const C=i==="backward",I=C?iN:Tv,T={pages:s,pageParams:l},z=I(r,T);c=await v(T,z,C)}else{const C=n??s.length;do{const I=d===0?l[0]??r.initialPageParam:Tv(r,c);if(d>0&&I==null)break;c=await v(c,I),d++}while(d<C)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=p}}}function Tv(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function iN(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var sN=class extends Sk{#e;#t;#n;#o;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||aN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#o?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#r({type:"continue"})},t={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#o=kk({fn:()=>this.options.mutationFn?this.options.mutationFn(n,t):Promise.reject(new Error("No mutationFn found")),onFail:(s,l)=>{this.#r({type:"failed",failureCount:s,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#o.canStart();try{if(r)e();else{this.#r({type:"pending",variables:n,isPaused:i}),await this.#n.config.onMutate?.(n,this,t);const l=await this.options.onMutate?.(n,t);l!==this.state.context&&this.#r({type:"pending",context:l,variables:n,isPaused:i})}const s=await this.#o.start();return await this.#n.config.onSuccess?.(s,n,this.state.context,this,t),await this.options.onSuccess?.(s,n,this.state.context,t),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,t),await this.options.onSettled?.(s,null,n,this.state.context,t),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,n,this.state.context,this,t),await this.options.onError?.(s,n,this.state.context,t),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,t),await this.options.onSettled?.(void 0,s,n,this.state.context,t),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(n){const e=t=>{switch(n.type){case"failed":return{...t,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...t,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:n.error,failureCount:t.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ar.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function aN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lN=class extends ef{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const r=new sN({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#e.add(n);const e=Du(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Du(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Du(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Du(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ar.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Av(e,t))}findAll(n={}){return this.getAll().filter(e=>Av(n,e))}notify(n){ar.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return ar.batch(()=>Promise.all(n.map(e=>e.continue().catch(Jr))))}};function Du(n){return n.options.scope?.id}var cN=class extends ef{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const r=e.queryKey,i=e.queryHash??_g(r,e);let s=this.get(i);return s||(s=new rN({client:n,queryKey:r,queryHash:i,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(s)),s}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){ar.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>Ev(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>Ev(n,t)):e}notify(n){ar.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){ar.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){ar.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},uN=class{#e;#t;#n;#o;#r;#s;#a;#i;constructor(n={}){this.#e=n.queryCache||new cN,this.#t=n.mutationCache||new lN,this.#n=n.defaultOptions||{},this.#o=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=xk.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Sd.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Cm(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=this.#e.get(r.queryHash)?.state.data,l=$C(e,s);if(l!==void 0)return this.#e.build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return ar.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;ar.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return ar.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=ar.batch(()=>this.#e.findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Jr).catch(Jr)}invalidateQueries(n,e={}){return ar.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=ar.batch(()=>this.#e.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Jr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Jr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Cm(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Jr).catch(Jr)}fetchInfiniteQuery(n){return n.behavior=Rv(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Jr).catch(Jr)}ensureInfiniteQueryData(n){return n.behavior=Rv(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Sd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#o.set(nc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#o.values()],t={};return e.forEach(r=>{rc(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#r.set(nc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{rc(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=_g(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ig&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},dN=$.createContext(void 0),fN=({client:n,children:e})=>($.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),S.jsx(dN.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oc.apply(this,arguments)}var zi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(zi||(zi={}));const Cv="popstate";function hN(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return Mm("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ak(i)}return mN(e,t,null,n)}function Cn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ek(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pN(){return Math.random().toString(36).substr(2,8)}function Nv(n,e){return{usr:n.state,key:n.key,idx:e}}function Mm(n,e,t,r){return t===void 0&&(t=null),oc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wa(e):e,{state:t,key:e&&e.key||r||pN()})}function Ak(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function mN(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c=zi.Pop,d=null,p=m();p==null&&(p=0,l.replaceState(oc({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function k(){c=zi.Pop;let T=m(),z=T==null?null:T-p;p=T,d&&d({action:c,location:I.location,delta:z})}function _(T,z){c=zi.Push;let K=Mm(I.location,T,z);p=m()+1;let F=Nv(K,p),Y=I.createHref(K);try{l.pushState(F,"",Y)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;i.location.assign(Y)}s&&d&&d({action:c,location:I.location,delta:1})}function v(T,z){c=zi.Replace;let K=Mm(I.location,T,z);p=m();let F=Nv(K,p),Y=I.createHref(K);l.replaceState(F,"",Y),s&&d&&d({action:c,location:I.location,delta:0})}function C(T){let z=i.location.origin!=="null"?i.location.origin:i.location.href,K=typeof T=="string"?T:Ak(T);return K=K.replace(/ $/,"%20"),Cn(z,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,z)}let I={get action(){return c},get location(){return n(i,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Cv,k),d=T,()=>{i.removeEventListener(Cv,k),d=null}},createHref(T){return e(i,T)},createURL:C,encodeLocation(T){let z=C(T);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:v,go(T){return l.go(T)}};return I}var Bv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Bv||(Bv={}));function gN(n,e,t){return t===void 0&&(t="/"),yN(n,e,t)}function yN(n,e,t,r){let i=typeof e=="string"?Wa(e):e,s=Pk(i.pathname||"/",t);if(s==null)return null;let l=_k(n);wN(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=TN(s);c=IN(l[d],p)}return c}function _k(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,l,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Cn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Es([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(Cn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),_k(s.children,e,m,p)),!(s.path==null&&!s.index)&&e.push({path:p,score:AN(p,s.index),routesMeta:m})};return n.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let d of Ik(s.path))i(s,l,d)}),e}function Ik(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Ik(r.join("/")),c=[];return c.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function wN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_N(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const vN=/^:[\w-]+$/,xN=3,bN=2,kN=1,SN=10,EN=-2,Mv=n=>n==="*";function AN(n,e){let t=n.split("/"),r=t.length;return t.some(Mv)&&(r+=EN),e&&(r+=bN),t.filter(i=>!Mv(i)).reduce((i,s)=>i+(vN.test(s)?xN:s===""?kN:SN),r)}function _N(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function IN(n,e,t){let{routesMeta:r}=n,i={},s="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",k=PN({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),_=d.route;if(!k)return null;Object.assign(i,k.params),l.push({params:i,pathname:Es([s,k.pathname]),pathnameBase:ON(Es([s,k.pathnameBase])),route:_}),k.pathnameBase!=="/"&&(s=Es([s,k.pathnameBase]))}return l}function PN(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=RN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,m,k)=>{let{paramName:_,isOptional:v}=m;if(_==="*"){let I=c[k]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const C=c[k];return v&&!C?p[_]=void 0:p[_]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:n}}function RN(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ek(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ek(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Pk(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function CN(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Wa(n):n;return{pathname:t?t.startsWith("/")?t:NN(t,e):e,search:DN(r),hash:jN(i)}}function NN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function MN(n,e){let t=BN(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function LN(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Wa(n):(i=oc({},n),Cn(!i.pathname||!i.pathname.includes("?"),bp("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),bp("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),bp("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=t;else{let k=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),k-=1;i.pathname=_.join("/")}c=k>=0?e[k]:"/"}let d=CN(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const Es=n=>n.join("/").replace(/\/\/+/g,"/"),ON=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Rk=["post","put","patch","delete"];new Set(Rk);const UN=["get",...Rk];new Set(UN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ic.apply(this,arguments)}const Pg=$.createContext(null),zN=$.createContext(null),nf=$.createContext(null),rf=$.createContext(null),Ka=$.createContext({outlet:null,matches:[],isDataRoute:!1}),Tk=$.createContext(null);function of(){return $.useContext(rf)!=null}function sf(){return of()||Cn(!1),$.useContext(rf).location}function Ck(n){$.useContext(nf).static||$.useLayoutEffect(n)}function $N(){let{isDataRoute:n}=$.useContext(Ka);return n?tB():VN()}function VN(){of()||Cn(!1);let n=$.useContext(Pg),{basename:e,future:t,navigator:r}=$.useContext(nf),{matches:i}=$.useContext(Ka),{pathname:s}=sf(),l=JSON.stringify(MN(i,t.v7_relativeSplatPath)),c=$.useRef(!1);return Ck(()=>{c.current=!0}),$.useCallback(function(p,m){if(m===void 0&&(m={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let k=LN(p,JSON.parse(l),s,m.relative==="path");n==null&&e!=="/"&&(k.pathname=k.pathname==="/"?e:Es([e,k.pathname])),(m.replace?r.replace:r.push)(k,m.state,m)},[e,r,l,s,n])}function WN(n,e){return KN(n,e)}function KN(n,e,t,r){of()||Cn(!1);let{navigator:i}=$.useContext(nf),{matches:s}=$.useContext(Ka),l=s[s.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=sf(),m;if(e){var k;let T=typeof e=="string"?Wa(e):e;d==="/"||(k=T.pathname)!=null&&k.startsWith(d)||Cn(!1),m=T}else m=p;let _=m.pathname||"/",v=_;if(d!=="/"){let T=d.replace(/^\//,"").split("/");v="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=gN(n,{pathname:v}),I=ZN(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Es([d,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Es([d,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,t,r);return e&&I?$.createElement(rf.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:zi.Pop}},I):I}function qN(){let n=eB(),e=FN(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:i},t):null,null)}const HN=$.createElement(qN,null);class GN extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?$.createElement(Ka.Provider,{value:this.props.routeContext},$.createElement(Tk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YN(n){let{routeContext:e,match:t,children:r}=n,i=$.useContext(Pg);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Ka.Provider,{value:e},r)}function ZN(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let m=l.findIndex(k=>k.route.id&&c?.[k.route.id]!==void 0);m>=0||Cn(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let k=l[m];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(p=m),k.route.id){let{loaderData:_,errors:v}=t,C=k.route.loader&&_[k.route.id]===void 0&&(!v||v[k.route.id]===void 0);if(k.route.lazy||C){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,k,_)=>{let v,C=!1,I=null,T=null;t&&(v=c&&k.route.id?c[k.route.id]:void 0,I=k.route.errorElement||HN,d&&(p<0&&_===0?(nB("route-fallback"),C=!0,T=null):p===_&&(C=!0,T=k.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,_+1)),K=()=>{let F;return v?F=I:C?F=T:k.route.Component?F=$.createElement(k.route.Component,null):k.route.element?F=k.route.element:F=m,$.createElement(YN,{match:k,routeContext:{outlet:m,matches:z,isDataRoute:t!=null},children:F})};return t&&(k.route.ErrorBoundary||k.route.errorElement||_===0)?$.createElement(GN,{location:t.location,revalidation:t.revalidation,component:I,error:v,children:K(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):K()},null)}var Nk=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Nk||{}),Bk=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Bk||{});function XN(n){let e=$.useContext(Pg);return e||Cn(!1),e}function QN(n){let e=$.useContext(zN);return e||Cn(!1),e}function JN(n){let e=$.useContext(Ka);return e||Cn(!1),e}function Mk(n){let e=JN(),t=e.matches[e.matches.length-1];return t.route.id||Cn(!1),t.route.id}function eB(){var n;let e=$.useContext(Tk),t=QN(),r=Mk();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function tB(){let{router:n}=XN(Nk.UseNavigateStable),e=Mk(Bk.UseNavigateStable),t=$.useRef(!1);return Ck(()=>{t.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,ic({fromRouteId:e},s)))},[n,e])}const Lv={};function nB(n,e,t){Lv[n]||(Lv[n]=!0)}function rB(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function ql(n){Cn(!1)}function oB(n){let{basename:e="/",children:t=null,location:r,navigationType:i=zi.Pop,navigator:s,static:l=!1,future:c}=n;of()&&Cn(!1);let d=e.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:d,navigator:s,static:l,future:ic({v7_relativeSplatPath:!1},c)}),[d,c,s,l]);typeof r=="string"&&(r=Wa(r));let{pathname:m="/",search:k="",hash:_="",state:v=null,key:C="default"}=r,I=$.useMemo(()=>{let T=Pk(m,d);return T==null?null:{location:{pathname:T,search:k,hash:_,state:v,key:C},navigationType:i}},[d,m,k,_,v,C,i]);return I==null?null:$.createElement(nf.Provider,{value:p},$.createElement(rf.Provider,{children:t,value:I}))}function iB(n){let{children:e,location:t}=n;return WN(Lm(e),t)}new Promise(()=>{});function Lm(n,e){e===void 0&&(e=[]);let t=[];return $.Children.forEach(n,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){t.push.apply(t,Lm(r.props.children,s));return}r.type!==ql&&Cn(!1),!r.props.index||!r.props.children||Cn(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Lm(r.props.children,s)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const sB="6";try{window.__reactRouterVersion=sB}catch{}const aB="startTransition",Ov=dg[aB];function lB(n){let{basename:e,children:t,future:r,window:i}=n,s=$.useRef();s.current==null&&(s.current=hN({window:i,v5Compat:!0}));let l=s.current,[c,d]=$.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},m=$.useCallback(k=>{p&&Ov?Ov(()=>d(k)):d(k)},[d,p]);return $.useLayoutEffect(()=>l.listen(m),[l,m]),$.useEffect(()=>rB(r),[r]),$.createElement(oB,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}var Dv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Dv||(Dv={}));var jv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(jv||(jv={}));function Lk(n){$.useEffect(()=>{const e=Array.from(document.querySelectorAll("[data-reveal]"));if(!e.length)return;const t=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&(i.target.classList.add("reveal--visible"),t.unobserve(i.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.1});return e.forEach(r=>t.observe(r)),()=>t.disconnect()},[n?.rootMargin,n?.threshold])}const Rg=Ab("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xt=$.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const l=r?kI:"button";return S.jsx(l,{className:en(Rg({variant:e,size:t,className:n})),ref:s,...i})});Xt.displayName="Button";const ir=$.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:en("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));ir.displayName="Card";const Zr=$.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:en("flex flex-col space-y-1.5 p-6",n),...e}));Zr.displayName="CardHeader";const Xr=$.forwardRef(({className:n,...e},t)=>S.jsx("h3",{ref:t,className:en("text-2xl font-semibold leading-none tracking-tight",n),...e}));Xr.displayName="CardTitle";const Qr=$.forwardRef(({className:n,...e},t)=>S.jsx("p",{ref:t,className:en("text-sm text-muted-foreground",n),...e}));Qr.displayName="CardDescription";const _r=$.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:en("p-6 pt-0",n),...e}));_r.displayName="CardContent";const cB=$.forwardRef(({className:n,...e},t)=>S.jsx("div",{ref:t,className:en("flex items-center p-6 pt-0",n),...e}));cB.displayName="CardFooter";function Ok(n,[e,t]){return Math.min(t,Math.max(e,n))}var uB=$.createContext(void 0);function dB(n){const e=$.useContext(uB);return n||e||"ltr"}function fB(n){const e=$.useRef({value:n,previous:n});return $.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Dk=["PageUp","PageDown"],jk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qa="Slider",[Om,hB,pB]=Jx(qa),[Uk]=Ns(qa,[pB]),[mB,af]=Uk(qa),zk=$.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[r],value:m,onValueChange:k=()=>{},onValueCommit:_=()=>{},inverted:v=!1,form:C,...I}=n,T=$.useRef(new Set),z=$.useRef(0),F=l==="horizontal"?gB:yB,[Y=[],te]=hg({prop:m,defaultProp:p,onChange:ee=>{[...T.current][z.current]?.focus(),k(ee)}}),se=$.useRef(Y);function ne(ee){const V=kB(Y,ee);Z(ee,V)}function ae(ee){Z(ee,z.current)}function Q(){const ee=se.current[z.current];Y[z.current]!==ee&&_(Y)}function Z(ee,V,{commit:D}={commit:!1}){const f=_B(s),y=IB(Math.round((ee-r)/s)*s+r,f),E=Ok(y,[r,i]);te((U=[])=>{const L=xB(U,E,V);if(AB(L,d*s)){z.current=L.indexOf(E);const N=String(L)!==String(U);return N&&D&&_(L),N?L:U}else return U})}return S.jsx(mB,{scope:n.__scopeSlider,name:t,disabled:c,min:r,max:i,valueIndexToChangeRef:z,thumbs:T.current,values:Y,orientation:l,form:C,children:S.jsx(Om.Provider,{scope:n.__scopeSlider,children:S.jsx(Om.Slot,{scope:n.__scopeSlider,children:S.jsx(F,{"aria-disabled":c,"data-disabled":c?"":void 0,...I,ref:e,onPointerDown:Vt(I.onPointerDown,()=>{c||(se.current=Y)}),min:r,max:i,inverted:v,onSlideStart:c?void 0:ne,onSlideMove:c?void 0:ae,onSlideEnd:c?void 0:Q,onHomeKeyDown:()=>!c&&Z(r,0,{commit:!0}),onEndKeyDown:()=>!c&&Z(i,Y.length-1,{commit:!0}),onStepKeyDown:({event:ee,direction:V})=>{if(!c){const y=Dk.includes(ee.key)||ee.shiftKey&&jk.includes(ee.key)?10:1,E=z.current,U=Y[E],L=s*y*V;Z(U+L,E,{commit:!0})}}})})})})});zk.displayName=qa;var[$k,Vk]=Uk(qa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),gB=$.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:p,...m}=n,[k,_]=$.useState(null),v=pn(e,F=>_(F)),C=$.useRef(void 0),I=dB(i),T=I==="ltr",z=T&&!s||!T&&s;function K(F){const Y=C.current||k.getBoundingClientRect(),te=[0,Y.width],ne=Tg(te,z?[t,r]:[r,t]);return C.current=Y,ne(F-Y.left)}return S.jsx($k,{scope:n.__scopeSlider,startEdge:z?"left":"right",endEdge:z?"right":"left",direction:z?1:-1,size:"width",children:S.jsx(Wk,{dir:I,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:F=>{const Y=K(F.clientX);l?.(Y)},onSlideMove:F=>{const Y=K(F.clientX);c?.(Y)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:F=>{const te=Fk[z?"from-left":"from-right"].includes(F.key);p?.({event:F,direction:te?-1:1})}})})}),yB=$.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...p}=n,m=$.useRef(null),k=pn(e,m),_=$.useRef(void 0),v=!i;function C(I){const T=_.current||m.current.getBoundingClientRect(),z=[0,T.height],F=Tg(z,v?[r,t]:[t,r]);return _.current=T,F(I-T.top)}return S.jsx($k,{scope:n.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:S.jsx(Wk,{"data-orientation":"vertical",...p,ref:k,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:I=>{const T=C(I.clientY);s?.(T)},onSlideMove:I=>{const T=C(I.clientY);l?.(T)},onSlideEnd:()=>{_.current=void 0,c?.()},onStepKeyDown:I=>{const z=Fk[v?"from-bottom":"from-top"].includes(I.key);d?.({event:I,direction:z?-1:1})}})})}),Wk=$.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...p}=n,m=af(qa,t);return S.jsx(Jt.span,{...p,ref:e,onKeyDown:Vt(n.onKeyDown,k=>{k.key==="Home"?(l(k),k.preventDefault()):k.key==="End"?(c(k),k.preventDefault()):Dk.concat(jk).includes(k.key)&&(d(k),k.preventDefault())}),onPointerDown:Vt(n.onPointerDown,k=>{const _=k.target;_.setPointerCapture(k.pointerId),k.preventDefault(),m.thumbs.has(_)?_.focus():r(k)}),onPointerMove:Vt(n.onPointerMove,k=>{k.target.hasPointerCapture(k.pointerId)&&i(k)}),onPointerUp:Vt(n.onPointerUp,k=>{const _=k.target;_.hasPointerCapture(k.pointerId)&&(_.releasePointerCapture(k.pointerId),s(k))})})}),Kk="SliderTrack",qk=$.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=af(Kk,t);return S.jsx(Jt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});qk.displayName=Kk;var Dm="SliderRange",Hk=$.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=af(Dm,t),s=Vk(Dm,t),l=$.useRef(null),c=pn(e,l),d=i.values.length,p=i.values.map(_=>Zk(_,i.min,i.max)),m=d>1?Math.min(...p):0,k=100-Math.max(...p);return S.jsx(Jt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:c,style:{...n.style,[s.startEdge]:m+"%",[s.endEdge]:k+"%"}})});Hk.displayName=Dm;var jm="SliderThumb",Gk=$.forwardRef((n,e)=>{const t=hB(n.__scopeSlider),[r,i]=$.useState(null),s=pn(e,c=>i(c)),l=$.useMemo(()=>r?t().findIndex(c=>c.ref.current===r):-1,[t,r]);return S.jsx(wB,{...n,ref:s,index:l})}),wB=$.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,l=af(jm,t),c=Vk(jm,t),[d,p]=$.useState(null),m=pn(e,K=>p(K)),k=d?l.form||!!d.closest("form"):!0,_=Jb(d),v=l.values[r],C=v===void 0?0:Zk(v,l.min,l.max),I=bB(r,l.values.length),T=_?.[c.size],z=T?SB(T,C,c.direction):0;return $.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${z}px)`},children:[S.jsx(Om.ItemSlot,{scope:n.__scopeSlider,children:S.jsx(Jt.span,{role:"slider","aria-label":n["aria-label"]||I,"aria-valuemin":l.min,"aria-valuenow":v,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:m,style:v===void 0?{display:"none"}:n.style,onFocus:Vt(n.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),k&&S.jsx(Yk,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:v},r)]})});Gk.displayName=jm;var vB="RadioBubbleInput",Yk=$.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const i=$.useRef(null),s=pn(i,r),l=fB(e);return $.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&m){const k=new Event("input",{bubbles:!0});m.call(c,e),c.dispatchEvent(k)}},[l,e]),S.jsx(Jt.input,{style:{display:"none"},...t,ref:s,defaultValue:e})});Yk.displayName=vB;function xB(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function Zk(n,e,t){const s=100/(t-e)*(n-e);return Ok(s,[0,100])}function bB(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function kB(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function SB(n,e,t){const r=n/2,s=Tg([0,50],[0,r]);return(r-s(e)*t)*t}function EB(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function AB(n,e){if(e>0){const t=EB(n);return Math.min(...t)>=e}return!0}function Tg(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function _B(n){return(String(n).split(".")[1]||"").length}function IB(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var Xk=zk,PB=qk,RB=Hk,TB=Gk;const Qk=$.forwardRef(({className:n,...e},t)=>S.jsxs(Xk,{ref:t,className:en("relative flex w-full touch-none select-none items-center",n),...e,children:[S.jsx(PB,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:S.jsx(RB,{className:"absolute h-full bg-primary"})}),S.jsx(TB,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Qk.displayName=Xk.displayName;var kp="focusScope.autoFocusOnMount",Sp="focusScope.autoFocusOnUnmount",Fv={bubbles:!1,cancelable:!0},CB="FocusScope",Jk=$.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=n,[c,d]=$.useState(null),p=Po(i),m=Po(s),k=$.useRef(null),_=pn(e,I=>d(I)),v=$.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;$.useEffect(()=>{if(r){let I=function(F){if(v.paused||!c)return;const Y=F.target;c.contains(Y)?k.current=Y:ji(k.current,{select:!0})},T=function(F){if(v.paused||!c)return;const Y=F.relatedTarget;Y!==null&&(c.contains(Y)||ji(k.current,{select:!0}))},z=function(F){if(document.activeElement===document.body)for(const te of F)te.removedNodes.length>0&&ji(c)};document.addEventListener("focusin",I),document.addEventListener("focusout",T);const K=new MutationObserver(z);return c&&K.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",T),K.disconnect()}}},[r,c,v.paused]),$.useEffect(()=>{if(c){zv.add(v);const I=document.activeElement;if(!c.contains(I)){const z=new CustomEvent(kp,Fv);c.addEventListener(kp,p),c.dispatchEvent(z),z.defaultPrevented||(NB(DB(eS(c)),{select:!0}),document.activeElement===I&&ji(c))}return()=>{c.removeEventListener(kp,p),setTimeout(()=>{const z=new CustomEvent(Sp,Fv);c.addEventListener(Sp,m),c.dispatchEvent(z),z.defaultPrevented||ji(I??document.body,{select:!0}),c.removeEventListener(Sp,m),zv.remove(v)},0)}}},[c,p,m,v]);const C=$.useCallback(I=>{if(!t&&!r||v.paused)return;const T=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,z=document.activeElement;if(T&&z){const K=I.currentTarget,[F,Y]=BB(K);F&&Y?!I.shiftKey&&z===Y?(I.preventDefault(),t&&ji(F,{select:!0})):I.shiftKey&&z===F&&(I.preventDefault(),t&&ji(Y,{select:!0})):z===K&&I.preventDefault()}},[t,r,v.paused]);return S.jsx(Jt.div,{tabIndex:-1,...l,ref:_,onKeyDown:C})});Jk.displayName=CB;function NB(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ji(r,{select:e}),document.activeElement!==t)return}function BB(n){const e=eS(n),t=Uv(e,n),r=Uv(e.reverse(),n);return[t,r]}function eS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Uv(n,e){for(const t of n)if(!MB(t,{upTo:e}))return t}function MB(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function LB(n){return n instanceof HTMLInputElement&&"select"in n}function ji(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&LB(n)&&e&&n.select()}}var zv=OB();function OB(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=$v(n,e),n.unshift(e)},remove(e){n=$v(n,e),n[0]?.resume()}}}function $v(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function DB(n){return n.filter(e=>e.tagName!=="A")}var Ep=0;function jB(){$.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Vv()),document.body.insertAdjacentElement("beforeend",n[1]??Vv()),Ep++,()=>{Ep===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ep--}},[])}function Vv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var wo=function(){return wo=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},wo.apply(this,arguments)};function tS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function FB(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var ld="right-scroll-bar-position",cd="width-before-scroll-bar",UB="with-scroll-bars-hidden",zB="--removed-body-scroll-bar-size";function Ap(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function $B(n,e){var t=$.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var VB=typeof window<"u"?$.useLayoutEffect:$.useEffect,Wv=new WeakMap;function WB(n,e){var t=$B(null,function(r){return n.forEach(function(i){return Ap(i,r)})});return VB(function(){var r=Wv.get(t);if(r){var i=new Set(r),s=new Set(n),l=t.current;i.forEach(function(c){s.has(c)||Ap(c,null)}),s.forEach(function(c){i.has(c)||Ap(c,l)})}Wv.set(t,n)},[n]),t}function KB(n){return n}function qB(n,e){e===void 0&&(e=KB);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var l=e(s,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(r=!0;t.length;){var l=t;t=[],l.forEach(s)}t={push:function(c){return s(c)},filter:function(){return t}}},assignMedium:function(s){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(s),l=t}var d=function(){var m=l;l=[],m.forEach(s)},p=function(){return Promise.resolve().then(d)};p(),t={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),t}}}};return i}function HB(n){n===void 0&&(n={});var e=qB(null);return e.options=wo({async:!0,ssr:!1},n),e}var nS=function(n){var e=n.sideCar,t=tS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,wo({},t))};nS.isSideCarExport=!0;function GB(n,e){return n.useMedium(e),nS}var rS=HB(),_p=function(){},lf=$.forwardRef(function(n,e){var t=$.useRef(null),r=$.useState({onScrollCapture:_p,onWheelCapture:_p,onTouchMoveCapture:_p}),i=r[0],s=r[1],l=n.forwardProps,c=n.children,d=n.className,p=n.removeScrollBar,m=n.enabled,k=n.shards,_=n.sideCar,v=n.noRelative,C=n.noIsolation,I=n.inert,T=n.allowPinchZoom,z=n.as,K=z===void 0?"div":z,F=n.gapMode,Y=tS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),te=_,se=WB([t,e]),ne=wo(wo({},Y),i);return $.createElement($.Fragment,null,m&&$.createElement(te,{sideCar:rS,removeScrollBar:p,shards:k,noRelative:v,noIsolation:C,inert:I,setCallbacks:s,allowPinchZoom:!!T,lockRef:t,gapMode:F}),l?$.cloneElement($.Children.only(c),wo(wo({},ne),{ref:se})):$.createElement(K,wo({},ne,{className:d,ref:se}),c))});lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lf.classNames={fullWidth:cd,zeroRight:ld};var YB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZB(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=YB();return e&&n.setAttribute("nonce",e),n}function XB(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function QB(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var JB=function(){var n=0,e=null;return{add:function(t){n==0&&(e=ZB())&&(XB(e,t),QB(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},eM=function(){var n=JB();return function(e,t){$.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},oS=function(){var n=eM(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},tM={left:0,top:0,right:0,gap:0},Ip=function(n){return parseInt(n||"",10)||0},nM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Ip(t),Ip(r),Ip(i)]},rM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return tM;var e=nM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},oM=oS(),_a="data-scroll-locked",iM=function(n,e,t,r){var i=n.left,s=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(UB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(_a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ld,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(cd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_a,`] {
    `).concat(zB,": ").concat(c,`px;
  }
`)},Kv=function(){var n=parseInt(document.body.getAttribute(_a)||"0",10);return isFinite(n)?n:0},sM=function(){$.useEffect(function(){return document.body.setAttribute(_a,(Kv()+1).toString()),function(){var n=Kv()-1;n<=0?document.body.removeAttribute(_a):document.body.setAttribute(_a,n.toString())}},[])},aM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;sM();var s=$.useMemo(function(){return rM(i)},[i]);return $.createElement(oM,{styles:iM(s,!e,i,t?"":"!important")})},Fm=!1;if(typeof window<"u")try{var ju=Object.defineProperty({},"passive",{get:function(){return Fm=!0,!0}});window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{Fm=!1}var ha=Fm?{passive:!1}:!1,lM=function(n){return n.tagName==="TEXTAREA"},iS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!lM(n)&&t[e]==="visible")},cM=function(n){return iS(n,"overflowY")},uM=function(n){return iS(n,"overflowX")},qv=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=sS(n,r);if(i){var s=aS(n,r),l=s[1],c=s[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},dM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},fM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},sS=function(n,e){return n==="v"?cM(e):uM(e)},aS=function(n,e){return n==="v"?dM(e):fM(e)},hM=function(n,e){return n==="h"&&e==="rtl"?-1:1},pM=function(n,e,t,r,i){var s=hM(n,window.getComputedStyle(e).direction),l=s*r,c=t.target,d=e.contains(c),p=!1,m=l>0,k=0,_=0;do{if(!c)break;var v=aS(n,c),C=v[0],I=v[1],T=v[2],z=I-T-s*C;(C||z)&&sS(n,c)&&(k+=z,_+=C);var K=c.parentNode;c=K&&K.nodeType===Node.DOCUMENT_FRAGMENT_NODE?K.host:K}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(k)<1||!m&&Math.abs(_)<1)&&(p=!0),p},Fu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Hv=function(n){return[n.deltaX,n.deltaY]},Gv=function(n){return n&&"current"in n?n.current:n},mM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},gM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},yM=0,pa=[];function wM(n){var e=$.useRef([]),t=$.useRef([0,0]),r=$.useRef(),i=$.useState(yM++)[0],s=$.useState(oS)[0],l=$.useRef(n);$.useEffect(function(){l.current=n},[n]),$.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var I=FB([n.lockRef.current],(n.shards||[]).map(Gv),!0).filter(Boolean);return I.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),I.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=$.useCallback(function(I,T){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var z=Fu(I),K=t.current,F="deltaX"in I?I.deltaX:K[0]-z[0],Y="deltaY"in I?I.deltaY:K[1]-z[1],te,se=I.target,ne=Math.abs(F)>Math.abs(Y)?"h":"v";if("touches"in I&&ne==="h"&&se.type==="range")return!1;var ae=qv(ne,se);if(!ae)return!0;if(ae?te=ne:(te=ne==="v"?"h":"v",ae=qv(ne,se)),!ae)return!1;if(!r.current&&"changedTouches"in I&&(F||Y)&&(r.current=te),!te)return!0;var Q=r.current||te;return pM(Q,T,I,Q==="h"?F:Y)},[]),d=$.useCallback(function(I){var T=I;if(!(!pa.length||pa[pa.length-1]!==s)){var z="deltaY"in T?Hv(T):Fu(T),K=e.current.filter(function(te){return te.name===T.type&&(te.target===T.target||T.target===te.shadowParent)&&mM(te.delta,z)})[0];if(K&&K.should){T.cancelable&&T.preventDefault();return}if(!K){var F=(l.current.shards||[]).map(Gv).filter(Boolean).filter(function(te){return te.contains(T.target)}),Y=F.length>0?c(T,F[0]):!l.current.noIsolation;Y&&T.cancelable&&T.preventDefault()}}},[]),p=$.useCallback(function(I,T,z,K){var F={name:I,delta:T,target:z,should:K,shadowParent:vM(z)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(Y){return Y!==F})},1)},[]),m=$.useCallback(function(I){t.current=Fu(I),r.current=void 0},[]),k=$.useCallback(function(I){p(I.type,Hv(I),I.target,c(I,n.lockRef.current))},[]),_=$.useCallback(function(I){p(I.type,Fu(I),I.target,c(I,n.lockRef.current))},[]);$.useEffect(function(){return pa.push(s),n.setCallbacks({onScrollCapture:k,onWheelCapture:k,onTouchMoveCapture:_}),document.addEventListener("wheel",d,ha),document.addEventListener("touchmove",d,ha),document.addEventListener("touchstart",m,ha),function(){pa=pa.filter(function(I){return I!==s}),document.removeEventListener("wheel",d,ha),document.removeEventListener("touchmove",d,ha),document.removeEventListener("touchstart",m,ha)}},[]);var v=n.removeScrollBar,C=n.inert;return $.createElement($.Fragment,null,C?$.createElement(s,{styles:gM(i)}):null,v?$.createElement(aM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function vM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const xM=GB(rS,wM);var lS=$.forwardRef(function(n,e){return $.createElement(lf,wo({},n,{ref:e,sideCar:xM}))});lS.classNames=lf.classNames;var bM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ma=new WeakMap,Uu=new WeakMap,zu={},Pp=0,cS=function(n){return n&&(n.host||cS(n.parentNode))},kM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=cS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},SM=function(n,e,t,r){var i=kM(e,Array.isArray(n)?n:[n]);zu[t]||(zu[t]=new WeakMap);var s=zu[t],l=[],c=new Set,d=new Set(i),p=function(k){!k||c.has(k)||(c.add(k),p(k.parentNode))};i.forEach(p);var m=function(k){!k||d.has(k)||Array.prototype.forEach.call(k.children,function(_){if(c.has(_))m(_);else try{var v=_.getAttribute(r),C=v!==null&&v!=="false",I=(ma.get(_)||0)+1,T=(s.get(_)||0)+1;ma.set(_,I),s.set(_,T),l.push(_),I===1&&C&&Uu.set(_,!0),T===1&&_.setAttribute(t,"true"),C||_.setAttribute(r,"true")}catch(z){console.error("aria-hidden: cannot operate on ",_,z)}})};return m(e),c.clear(),Pp++,function(){l.forEach(function(k){var _=ma.get(k)-1,v=s.get(k)-1;ma.set(k,_),s.set(k,v),_||(Uu.has(k)||k.removeAttribute(r),Uu.delete(k)),v||k.removeAttribute(t)}),Pp--,Pp||(ma=new WeakMap,ma=new WeakMap,Uu=new WeakMap,zu={})}},EM=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=bM(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),SM(r,i,t,"aria-hidden")):function(){return null}},cf="Dialog",[uS,dS]=Ns(cf),[AM,so]=uS(cf),fS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=n,c=$.useRef(null),d=$.useRef(null),[p,m]=hg({prop:r,defaultProp:i??!1,onChange:s,caller:cf});return S.jsx(AM,{scope:e,triggerRef:c,contentRef:d,contentId:wp(),titleId:wp(),descriptionId:wp(),open:p,onOpenChange:m,onOpenToggle:$.useCallback(()=>m(k=>!k),[m]),modal:l,children:t})};fS.displayName=cf;var hS="DialogTrigger",pS=$.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=so(hS,t),s=pn(e,i.triggerRef);return S.jsx(Jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Bg(i.open),...r,ref:s,onClick:Vt(n.onClick,i.onOpenToggle)})});pS.displayName=hS;var Cg="DialogPortal",[_M,mS]=uS(Cg,{forceMount:void 0}),gS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=so(Cg,e);return S.jsx(_M,{scope:e,forceMount:t,children:$.Children.map(r,l=>S.jsx(Ua,{present:t||s.open,children:S.jsx(fg,{asChild:!0,container:i,children:l})}))})};gS.displayName=Cg;var Ed="DialogOverlay",yS=$.forwardRef((n,e)=>{const t=mS(Ed,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=so(Ed,n.__scopeDialog);return s.modal?S.jsx(Ua,{present:r||s.open,children:S.jsx(PM,{...i,ref:e})}):null});yS.displayName=Ed;var IM=Jl("DialogOverlay.RemoveScroll"),PM=$.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=so(Ed,t);return S.jsx(lS,{as:IM,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(Jt.div,{"data-state":Bg(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Is="DialogContent",wS=$.forwardRef((n,e)=>{const t=mS(Is,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=so(Is,n.__scopeDialog);return S.jsx(Ua,{present:r||s.open,children:s.modal?S.jsx(RM,{...i,ref:e}):S.jsx(TM,{...i,ref:e})})});wS.displayName=Is;var RM=$.forwardRef((n,e)=>{const t=so(Is,n.__scopeDialog),r=$.useRef(null),i=pn(e,t.contentRef,r);return $.useEffect(()=>{const s=r.current;if(s)return EM(s)},[]),S.jsx(vS,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vt(n.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Vt(n.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&s.preventDefault()}),onFocusOutside:Vt(n.onFocusOutside,s=>s.preventDefault())})}),TM=$.forwardRef((n,e)=>{const t=so(Is,n.__scopeDialog),r=$.useRef(!1),i=$.useRef(!1);return S.jsx(vS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{n.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||t.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{n.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;t.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),vS=$.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=n,c=so(Is,t),d=$.useRef(null),p=pn(e,d);return jB(),S.jsxs(S.Fragment,{children:[S.jsx(Jk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:S.jsx(Wd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Bg(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(NM,{titleId:c.titleId}),S.jsx(MM,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Ng="DialogTitle",xS=$.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=so(Ng,t);return S.jsx(Jt.h2,{id:i.titleId,...r,ref:e})});xS.displayName=Ng;var bS="DialogDescription",kS=$.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=so(bS,t);return S.jsx(Jt.p,{id:i.descriptionId,...r,ref:e})});kS.displayName=bS;var SS="DialogClose",ES=$.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=so(SS,t);return S.jsx(Jt.button,{type:"button",...r,ref:e,onClick:Vt(n.onClick,()=>i.onOpenChange(!1))})});ES.displayName=SS;function Bg(n){return n?"open":"closed"}var AS="DialogTitleWarning",[CM,_S]=xI(AS,{contentName:Is,titleName:Ng,docsSlug:"dialog"}),NM=({titleId:n})=>{const e=_S(AS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return $.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},BM="DialogDescriptionWarning",MM=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_S(BM).contentName}}.`;return $.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},LM=fS,OM=pS,DM=gS,jM=yS,FM=wS,UM=xS,zM=kS,IS=ES,PS="AlertDialog",[$M]=Ns(PS,[dS]),si=dS(),RS=n=>{const{__scopeAlertDialog:e,...t}=n,r=si(e);return S.jsx(LM,{...r,...t,modal:!0})};RS.displayName=PS;var VM="AlertDialogTrigger",WM=$.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=si(t);return S.jsx(OM,{...i,...r,ref:e})});WM.displayName=VM;var KM="AlertDialogPortal",TS=n=>{const{__scopeAlertDialog:e,...t}=n,r=si(e);return S.jsx(DM,{...r,...t})};TS.displayName=KM;var qM="AlertDialogOverlay",CS=$.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=si(t);return S.jsx(jM,{...i,...r,ref:e})});CS.displayName=qM;var Ia="AlertDialogContent",[HM,GM]=$M(Ia),YM=Qx("AlertDialogContent"),NS=$.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,s=si(t),l=$.useRef(null),c=pn(e,l),d=$.useRef(null);return S.jsx(CM,{contentName:Ia,titleName:BS,docsSlug:"alert-dialog",children:S.jsx(HM,{scope:t,cancelRef:d,children:S.jsxs(FM,{role:"alertdialog",...s,...i,ref:c,onOpenAutoFocus:Vt(i.onOpenAutoFocus,p=>{p.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[S.jsx(YM,{children:r}),S.jsx(XM,{contentRef:l})]})})})});NS.displayName=Ia;var BS="AlertDialogTitle",MS=$.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=si(t);return S.jsx(UM,{...i,...r,ref:e})});MS.displayName=BS;var LS="AlertDialogDescription",OS=$.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=si(t);return S.jsx(zM,{...i,...r,ref:e})});OS.displayName=LS;var ZM="AlertDialogAction",DS=$.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=si(t);return S.jsx(IS,{...i,...r,ref:e})});DS.displayName=ZM;var jS="AlertDialogCancel",FS=$.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=GM(jS,t),s=si(t),l=pn(e,i);return S.jsx(IS,{...s,...r,ref:l})});FS.displayName=jS;var XM=({contentRef:n})=>{const e=`\`${Ia}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ia}\` by passing a \`${LS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ia}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return $.useEffect(()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},QM=RS,JM=TS,US=CS,zS=NS,$S=DS,VS=FS,WS=MS,KS=OS;const e3=QM,t3=JM,qS=$.forwardRef(({className:n,...e},t)=>S.jsx(US,{className:en("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));qS.displayName=US.displayName;const HS=$.forwardRef(({className:n,...e},t)=>S.jsxs(t3,{children:[S.jsx(qS,{}),S.jsx(zS,{ref:t,className:en("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));HS.displayName=zS.displayName;const GS=({className:n,...e})=>S.jsx("div",{className:en("flex flex-col space-y-2 text-center sm:text-left",n),...e});GS.displayName="AlertDialogHeader";const YS=({className:n,...e})=>S.jsx("div",{className:en("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});YS.displayName="AlertDialogFooter";const ZS=$.forwardRef(({className:n,...e},t)=>S.jsx(WS,{ref:t,className:en("text-lg font-semibold",n),...e}));ZS.displayName=WS.displayName;const XS=$.forwardRef(({className:n,...e},t)=>S.jsx(KS,{ref:t,className:en("text-sm text-muted-foreground",n),...e}));XS.displayName=KS.displayName;const QS=$.forwardRef(({className:n,...e},t)=>S.jsx($S,{ref:t,className:en(Rg(),n),...e}));QS.displayName=$S.displayName;const JS=$.forwardRef(({className:n,...e},t)=>S.jsx(VS,{ref:t,className:en(Rg({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));JS.displayName=VS.displayName;function Yv({words:n=["NPC"],loop:e=!0,typingSpeed:t=180,deletingSpeed:r=90,pause:i=1600,className:s=""}){const[l,c]=$.useState(0),[d,p]=$.useState(0),[m,k]=$.useState(!1),[_,v]=$.useState(!0);$.useEffect(()=>{const I=setInterval(()=>v(T=>!T),500);return()=>clearInterval(I)},[]),$.useEffect(()=>{if(!n.length)return;if(l>=n.length)if(e)c(0);else return;const I=n[l];if(!m&&d===I.length){const z=setTimeout(()=>k(!0),i);return()=>clearTimeout(z)}if(m&&d===0){k(!1),c(z=>(z+1)%n.length);return}const T=setTimeout(()=>{p(z=>z+(m?-1:1))},m?r:t);return()=>clearTimeout(T)},[d,l,m,n,t,r,i,e]);const C=n[l]?.slice(0,d)??"";return S.jsxs("span",{className:s,"aria-hidden":!0,children:[C,S.jsx("span",{className:"inline-block w-[8px] ml-1 align-middle",style:{opacity:_?1:0},children:"|"})]})}const n3=({className:n="",width:e=28,height:t=28})=>S.jsxs("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[S.jsx("rect",{x:"1",y:"5",width:"22",height:"14",rx:"2.5",stroke:"white",strokeOpacity:"0.95",strokeWidth:"1.2",fill:"none"}),S.jsx("rect",{x:"3",y:"7",width:"6",height:"6",rx:"1",fill:"rgba(255,255,255,0.06)"}),S.jsx("circle",{cx:"19",cy:"12",r:"1.6",fill:"white"}),S.jsx("path",{d:"M3 13h14",stroke:"rgba(255,255,255,0.08)",strokeWidth:"0.8"})]}),r3="modulepreload",o3=function(n){return"/"+n},Zv={},Pn=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(t.map(p=>{if(p=o3(p),p in Zv)return;Zv[p]=!0;const m=p.endsWith(".css"),k=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${k}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":r3,m||(_.as="script"),_.crossOrigin="",_.href=p,c&&_.setAttribute("nonce",c),document.head.appendChild(_),m)return new Promise((v,C)=>{_.addEventListener("load",v),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};var Mg={},uf={};uf.byteLength=a3;uf.toByteArray=c3;uf.fromByteArray=f3;var vo=[],jr=[],i3=typeof Uint8Array<"u"?Uint8Array:Array,Rp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ga=0,s3=Rp.length;ga<s3;++ga)vo[ga]=Rp[ga],jr[Rp.charCodeAt(ga)]=ga;jr[45]=62;jr[95]=63;function eE(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function a3(n){var e=eE(n),t=e[0],r=e[1];return(t+r)*3/4-r}function l3(n,e,t){return(e+t)*3/4-t}function c3(n){var e,t=eE(n),r=t[0],i=t[1],s=new i3(l3(n,r,i)),l=0,c=i>0?r-4:r,d;for(d=0;d<c;d+=4)e=jr[n.charCodeAt(d)]<<18|jr[n.charCodeAt(d+1)]<<12|jr[n.charCodeAt(d+2)]<<6|jr[n.charCodeAt(d+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=e&255;return i===2&&(e=jr[n.charCodeAt(d)]<<2|jr[n.charCodeAt(d+1)]>>4,s[l++]=e&255),i===1&&(e=jr[n.charCodeAt(d)]<<10|jr[n.charCodeAt(d+1)]<<4|jr[n.charCodeAt(d+2)]>>2,s[l++]=e>>8&255,s[l++]=e&255),s}function u3(n){return vo[n>>18&63]+vo[n>>12&63]+vo[n>>6&63]+vo[n&63]}function d3(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(u3(r));return i.join("")}function f3(n){for(var e,t=n.length,r=t%3,i=[],s=16383,l=0,c=t-r;l<c;l+=s)i.push(d3(n,l,l+s>c?c:l+s));return r===1?(e=n[t-1],i.push(vo[e>>2]+vo[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(vo[e>>10]+vo[e>>4&63]+vo[e<<2&63]+"=")),i.join("")}var Lg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Lg.read=function(n,e,t,r,i){var s,l,c=i*8-r-1,d=(1<<c)-1,p=d>>1,m=-7,k=t?i-1:0,_=t?-1:1,v=n[e+k];for(k+=_,s=v&(1<<-m)-1,v>>=-m,m+=c;m>0;s=s*256+n[e+k],k+=_,m-=8);for(l=s&(1<<-m)-1,s>>=-m,m+=r;m>0;l=l*256+n[e+k],k+=_,m-=8);if(s===0)s=1-p;else{if(s===d)return l?NaN:(v?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-p}return(v?-1:1)*l*Math.pow(2,s-r)};Lg.write=function(n,e,t,r,i,s){var l,c,d,p=s*8-i-1,m=(1<<p)-1,k=m>>1,_=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:s-1,C=r?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=m):(l=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+k>=1?e+=_/d:e+=_*Math.pow(2,1-k),e*d>=2&&(l++,d/=2),l+k>=m?(c=0,l=m):l+k>=1?(c=(e*d-1)*Math.pow(2,i),l=l+k):(c=e*Math.pow(2,k-1)*Math.pow(2,i),l=0));i>=8;n[t+v]=c&255,v+=C,c/=256,i-=8);for(l=l<<i|c,p+=i;p>0;n[t+v]=l&255,v+=C,l/=256,p-=8);n[t+v-C]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=uf,t=Lg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=m,n.SlowBuffer=te,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;m.TYPED_ARRAY_SUPPORT=d(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const W=new s(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,s.prototype),Object.setPrototypeOf(W,P),W.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}});function p(W){if(W>i)throw new RangeError('The value "'+W+'" is invalid for option "size"');const P=new s(W);return Object.setPrototypeOf(P,m.prototype),P}function m(W,P,R){if(typeof W=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(W)}return k(W,P,R)}m.poolSize=8192;function k(W,P,R){if(typeof W=="string")return I(W,P);if(l.isView(W))return z(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(vt(W,l)||W&&vt(W.buffer,l)||typeof c<"u"&&(vt(W,c)||W&&vt(W.buffer,c)))return K(W,P,R);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=W.valueOf&&W.valueOf();if(X!=null&&X!==W)return m.from(X,P,R);const ce=F(W);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return m.from(W[Symbol.toPrimitive]("string"),P,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}m.from=function(W,P,R){return k(W,P,R)},Object.setPrototypeOf(m.prototype,s.prototype),Object.setPrototypeOf(m,s);function _(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function v(W,P,R){return _(W),W<=0?p(W):P!==void 0?typeof R=="string"?p(W).fill(P,R):p(W).fill(P):p(W)}m.alloc=function(W,P,R){return v(W,P,R)};function C(W){return _(W),p(W<0?0:Y(W)|0)}m.allocUnsafe=function(W){return C(W)},m.allocUnsafeSlow=function(W){return C(W)};function I(W,P){if((typeof P!="string"||P==="")&&(P="utf8"),!m.isEncoding(P))throw new TypeError("Unknown encoding: "+P);const R=se(W,P)|0;let X=p(R);const ce=X.write(W,P);return ce!==R&&(X=X.slice(0,ce)),X}function T(W){const P=W.length<0?0:Y(W.length)|0,R=p(P);for(let X=0;X<P;X+=1)R[X]=W[X]&255;return R}function z(W){if(vt(W,s)){const P=new s(W);return K(P.buffer,P.byteOffset,P.byteLength)}return T(W)}function K(W,P,R){if(P<0||W.byteLength<P)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<P+(R||0))throw new RangeError('"length" is outside of buffer bounds');let X;return P===void 0&&R===void 0?X=new s(W):R===void 0?X=new s(W,P):X=new s(W,P,R),Object.setPrototypeOf(X,m.prototype),X}function F(W){if(m.isBuffer(W)){const P=Y(W.length)|0,R=p(P);return R.length===0||W.copy(R,0,0,P),R}if(W.length!==void 0)return typeof W.length!="number"||Qe(W.length)?p(0):T(W);if(W.type==="Buffer"&&Array.isArray(W.data))return T(W.data)}function Y(W){if(W>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return W|0}function te(W){return+W!=W&&(W=0),m.alloc(+W)}m.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==m.prototype},m.compare=function(P,R){if(vt(P,s)&&(P=m.from(P,P.offset,P.byteLength)),vt(R,s)&&(R=m.from(R,R.offset,R.byteLength)),!m.isBuffer(P)||!m.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===R)return 0;let X=P.length,ce=R.length;for(let pe=0,we=Math.min(X,ce);pe<we;++pe)if(P[pe]!==R[pe]){X=P[pe],ce=R[pe];break}return X<ce?-1:ce<X?1:0},m.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(P,R){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return m.alloc(0);let X;if(R===void 0)for(R=0,X=0;X<P.length;++X)R+=P[X].length;const ce=m.allocUnsafe(R);let pe=0;for(X=0;X<P.length;++X){let we=P[X];if(vt(we,s))pe+we.length>ce.length?(m.isBuffer(we)||(we=m.from(we)),we.copy(ce,pe)):s.prototype.set.call(ce,we,pe);else if(m.isBuffer(we))we.copy(ce,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=we.length}return ce};function se(W,P){if(m.isBuffer(W))return W.length;if(l.isView(W)||vt(W,l))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const R=W.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&R===0)return 0;let ce=!1;for(;;)switch(P){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return Me(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Se(W).length;default:if(ce)return X?-1:Me(W).length;P=(""+P).toLowerCase(),ce=!0}}m.byteLength=se;function ne(W,P,R){let X=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,P>>>=0,R<=P))return"";for(W||(W="utf8");;)switch(W){case"hex":return h(this,P,R);case"utf8":case"utf-8":return U(this,P,R);case"ascii":return b(this,P,R);case"latin1":case"binary":return w(this,P,R);case"base64":return E(this,P,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,P,R);default:if(X)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),X=!0}}m.prototype._isBuffer=!0;function ae(W,P,R){const X=W[P];W[P]=W[R],W[R]=X}m.prototype.swap16=function(){const P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<P;R+=2)ae(this,R,R+1);return this},m.prototype.swap32=function(){const P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<P;R+=4)ae(this,R,R+3),ae(this,R+1,R+2);return this},m.prototype.swap64=function(){const P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<P;R+=8)ae(this,R,R+7),ae(this,R+1,R+6),ae(this,R+2,R+5),ae(this,R+3,R+4);return this},m.prototype.toString=function(){const P=this.length;return P===0?"":arguments.length===0?U(this,0,P):ne.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(P){if(!m.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:m.compare(this,P)===0},m.prototype.inspect=function(){let P="";const R=n.INSPECT_MAX_BYTES;return P=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(P+=" ... "),"<Buffer "+P+">"},r&&(m.prototype[r]=m.prototype.inspect),m.prototype.compare=function(P,R,X,ce,pe){if(vt(P,s)&&(P=m.from(P,P.offset,P.byteLength)),!m.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(R===void 0&&(R=0),X===void 0&&(X=P?P.length:0),ce===void 0&&(ce=0),pe===void 0&&(pe=this.length),R<0||X>P.length||ce<0||pe>this.length)throw new RangeError("out of range index");if(ce>=pe&&R>=X)return 0;if(ce>=pe)return-1;if(R>=X)return 1;if(R>>>=0,X>>>=0,ce>>>=0,pe>>>=0,this===P)return 0;let we=pe-ce,it=X-R;const tt=Math.min(we,it),rt=this.slice(ce,pe),_t=P.slice(R,X);for(let Ke=0;Ke<tt;++Ke)if(rt[Ke]!==_t[Ke]){we=rt[Ke],it=_t[Ke];break}return we<it?-1:it<we?1:0};function Q(W,P,R,X,ce){if(W.length===0)return-1;if(typeof R=="string"?(X=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,Qe(R)&&(R=ce?0:W.length-1),R<0&&(R=W.length+R),R>=W.length){if(ce)return-1;R=W.length-1}else if(R<0)if(ce)R=0;else return-1;if(typeof P=="string"&&(P=m.from(P,X)),m.isBuffer(P))return P.length===0?-1:Z(W,P,R,X,ce);if(typeof P=="number")return P=P&255,typeof s.prototype.indexOf=="function"?ce?s.prototype.indexOf.call(W,P,R):s.prototype.lastIndexOf.call(W,P,R):Z(W,[P],R,X,ce);throw new TypeError("val must be string, number or Buffer")}function Z(W,P,R,X,ce){let pe=1,we=W.length,it=P.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(W.length<2||P.length<2)return-1;pe=2,we/=2,it/=2,R/=2}function tt(_t,Ke){return pe===1?_t[Ke]:_t.readUInt16BE(Ke*pe)}let rt;if(ce){let _t=-1;for(rt=R;rt<we;rt++)if(tt(W,rt)===tt(P,_t===-1?0:rt-_t)){if(_t===-1&&(_t=rt),rt-_t+1===it)return _t*pe}else _t!==-1&&(rt-=rt-_t),_t=-1}else for(R+it>we&&(R=we-it),rt=R;rt>=0;rt--){let _t=!0;for(let Ke=0;Ke<it;Ke++)if(tt(W,rt+Ke)!==tt(P,Ke)){_t=!1;break}if(_t)return rt}return-1}m.prototype.includes=function(P,R,X){return this.indexOf(P,R,X)!==-1},m.prototype.indexOf=function(P,R,X){return Q(this,P,R,X,!0)},m.prototype.lastIndexOf=function(P,R,X){return Q(this,P,R,X,!1)};function ee(W,P,R,X){R=Number(R)||0;const ce=W.length-R;X?(X=Number(X),X>ce&&(X=ce)):X=ce;const pe=P.length;X>pe/2&&(X=pe/2);let we;for(we=0;we<X;++we){const it=parseInt(P.substr(we*2,2),16);if(Qe(it))return we;W[R+we]=it}return we}function V(W,P,R,X){return We(Me(P,W.length-R),W,R,X)}function D(W,P,R,X){return We(Te(P),W,R,X)}function f(W,P,R,X){return We(Se(P),W,R,X)}function y(W,P,R,X){return We(Fe(P,W.length-R),W,R,X)}m.prototype.write=function(P,R,X,ce){if(R===void 0)ce="utf8",X=this.length,R=0;else if(X===void 0&&typeof R=="string")ce=R,X=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(X)?(X=X>>>0,ce===void 0&&(ce="utf8")):(ce=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pe=this.length-R;if((X===void 0||X>pe)&&(X=pe),P.length>0&&(X<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let we=!1;for(;;)switch(ce){case"hex":return ee(this,P,R,X);case"utf8":case"utf-8":return V(this,P,R,X);case"ascii":case"latin1":case"binary":return D(this,P,R,X);case"base64":return f(this,P,R,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,P,R,X);default:if(we)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),we=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(W,P,R){return P===0&&R===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(P,R))}function U(W,P,R){R=Math.min(W.length,R);const X=[];let ce=P;for(;ce<R;){const pe=W[ce];let we=null,it=pe>239?4:pe>223?3:pe>191?2:1;if(ce+it<=R){let tt,rt,_t,Ke;switch(it){case 1:pe<128&&(we=pe);break;case 2:tt=W[ce+1],(tt&192)===128&&(Ke=(pe&31)<<6|tt&63,Ke>127&&(we=Ke));break;case 3:tt=W[ce+1],rt=W[ce+2],(tt&192)===128&&(rt&192)===128&&(Ke=(pe&15)<<12|(tt&63)<<6|rt&63,Ke>2047&&(Ke<55296||Ke>57343)&&(we=Ke));break;case 4:tt=W[ce+1],rt=W[ce+2],_t=W[ce+3],(tt&192)===128&&(rt&192)===128&&(_t&192)===128&&(Ke=(pe&15)<<18|(tt&63)<<12|(rt&63)<<6|_t&63,Ke>65535&&Ke<1114112&&(we=Ke))}}we===null?(we=65533,it=1):we>65535&&(we-=65536,X.push(we>>>10&1023|55296),we=56320|we&1023),X.push(we),ce+=it}return N(X)}const L=4096;function N(W){const P=W.length;if(P<=L)return String.fromCharCode.apply(String,W);let R="",X=0;for(;X<P;)R+=String.fromCharCode.apply(String,W.slice(X,X+=L));return R}function b(W,P,R){let X="";R=Math.min(W.length,R);for(let ce=P;ce<R;++ce)X+=String.fromCharCode(W[ce]&127);return X}function w(W,P,R){let X="";R=Math.min(W.length,R);for(let ce=P;ce<R;++ce)X+=String.fromCharCode(W[ce]);return X}function h(W,P,R){const X=W.length;(!P||P<0)&&(P=0),(!R||R<0||R>X)&&(R=X);let ce="";for(let pe=P;pe<R;++pe)ce+=Ue[W[pe]];return ce}function x(W,P,R){const X=W.slice(P,R);let ce="";for(let pe=0;pe<X.length-1;pe+=2)ce+=String.fromCharCode(X[pe]+X[pe+1]*256);return ce}m.prototype.slice=function(P,R){const X=this.length;P=~~P,R=R===void 0?X:~~R,P<0?(P+=X,P<0&&(P=0)):P>X&&(P=X),R<0?(R+=X,R<0&&(R=0)):R>X&&(R=X),R<P&&(R=P);const ce=this.subarray(P,R);return Object.setPrototypeOf(ce,m.prototype),ce};function j(W,P,R){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+P>R)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(P,R,X){P=P>>>0,R=R>>>0,X||j(P,R,this.length);let ce=this[P],pe=1,we=0;for(;++we<R&&(pe*=256);)ce+=this[P+we]*pe;return ce},m.prototype.readUintBE=m.prototype.readUIntBE=function(P,R,X){P=P>>>0,R=R>>>0,X||j(P,R,this.length);let ce=this[P+--R],pe=1;for(;R>0&&(pe*=256);)ce+=this[P+--R]*pe;return ce},m.prototype.readUint8=m.prototype.readUInt8=function(P,R){return P=P>>>0,R||j(P,1,this.length),this[P]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(P,R){return P=P>>>0,R||j(P,2,this.length),this[P]|this[P+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(P,R){return P=P>>>0,R||j(P,2,this.length),this[P]<<8|this[P+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(P,R){return P=P>>>0,R||j(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(P,R){return P=P>>>0,R||j(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},m.prototype.readBigUInt64LE=at(function(P){P=P>>>0,xe(P,"offset");const R=this[P],X=this[P+7];(R===void 0||X===void 0)&&Ce(P,this.length-8);const ce=R+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24,pe=this[++P]+this[++P]*2**8+this[++P]*2**16+X*2**24;return BigInt(ce)+(BigInt(pe)<<BigInt(32))}),m.prototype.readBigUInt64BE=at(function(P){P=P>>>0,xe(P,"offset");const R=this[P],X=this[P+7];(R===void 0||X===void 0)&&Ce(P,this.length-8);const ce=R*2**24+this[++P]*2**16+this[++P]*2**8+this[++P],pe=this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+X;return(BigInt(ce)<<BigInt(32))+BigInt(pe)}),m.prototype.readIntLE=function(P,R,X){P=P>>>0,R=R>>>0,X||j(P,R,this.length);let ce=this[P],pe=1,we=0;for(;++we<R&&(pe*=256);)ce+=this[P+we]*pe;return pe*=128,ce>=pe&&(ce-=Math.pow(2,8*R)),ce},m.prototype.readIntBE=function(P,R,X){P=P>>>0,R=R>>>0,X||j(P,R,this.length);let ce=R,pe=1,we=this[P+--ce];for(;ce>0&&(pe*=256);)we+=this[P+--ce]*pe;return pe*=128,we>=pe&&(we-=Math.pow(2,8*R)),we},m.prototype.readInt8=function(P,R){return P=P>>>0,R||j(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},m.prototype.readInt16LE=function(P,R){P=P>>>0,R||j(P,2,this.length);const X=this[P]|this[P+1]<<8;return X&32768?X|4294901760:X},m.prototype.readInt16BE=function(P,R){P=P>>>0,R||j(P,2,this.length);const X=this[P+1]|this[P]<<8;return X&32768?X|4294901760:X},m.prototype.readInt32LE=function(P,R){return P=P>>>0,R||j(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},m.prototype.readInt32BE=function(P,R){return P=P>>>0,R||j(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},m.prototype.readBigInt64LE=at(function(P){P=P>>>0,xe(P,"offset");const R=this[P],X=this[P+7];(R===void 0||X===void 0)&&Ce(P,this.length-8);const ce=this[P+4]+this[P+5]*2**8+this[P+6]*2**16+(X<<24);return(BigInt(ce)<<BigInt(32))+BigInt(R+this[++P]*2**8+this[++P]*2**16+this[++P]*2**24)}),m.prototype.readBigInt64BE=at(function(P){P=P>>>0,xe(P,"offset");const R=this[P],X=this[P+7];(R===void 0||X===void 0)&&Ce(P,this.length-8);const ce=(R<<24)+this[++P]*2**16+this[++P]*2**8+this[++P];return(BigInt(ce)<<BigInt(32))+BigInt(this[++P]*2**24+this[++P]*2**16+this[++P]*2**8+X)}),m.prototype.readFloatLE=function(P,R){return P=P>>>0,R||j(P,4,this.length),t.read(this,P,!0,23,4)},m.prototype.readFloatBE=function(P,R){return P=P>>>0,R||j(P,4,this.length),t.read(this,P,!1,23,4)},m.prototype.readDoubleLE=function(P,R){return P=P>>>0,R||j(P,8,this.length),t.read(this,P,!0,52,8)},m.prototype.readDoubleBE=function(P,R){return P=P>>>0,R||j(P,8,this.length),t.read(this,P,!1,52,8)};function q(W,P,R,X,ce,pe){if(!m.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>ce||P<pe)throw new RangeError('"value" argument is out of bounds');if(R+X>W.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(P,R,X,ce){if(P=+P,R=R>>>0,X=X>>>0,!ce){const it=Math.pow(2,8*X)-1;q(this,P,R,X,it,0)}let pe=1,we=0;for(this[R]=P&255;++we<X&&(pe*=256);)this[R+we]=P/pe&255;return R+X},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(P,R,X,ce){if(P=+P,R=R>>>0,X=X>>>0,!ce){const it=Math.pow(2,8*X)-1;q(this,P,R,X,it,0)}let pe=X-1,we=1;for(this[R+pe]=P&255;--pe>=0&&(we*=256);)this[R+pe]=P/we&255;return R+X},m.prototype.writeUint8=m.prototype.writeUInt8=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,1,255,0),this[R]=P&255,R+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,2,65535,0),this[R]=P&255,this[R+1]=P>>>8,R+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,2,65535,0),this[R]=P>>>8,this[R+1]=P&255,R+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,4,4294967295,0),this[R+3]=P>>>24,this[R+2]=P>>>16,this[R+1]=P>>>8,this[R]=P&255,R+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,4,4294967295,0),this[R]=P>>>24,this[R+1]=P>>>16,this[R+2]=P>>>8,this[R+3]=P&255,R+4};function re(W,P,R,X,ce){ye(P,X,ce,W,R,7);let pe=Number(P&BigInt(4294967295));W[R++]=pe,pe=pe>>8,W[R++]=pe,pe=pe>>8,W[R++]=pe,pe=pe>>8,W[R++]=pe;let we=Number(P>>BigInt(32)&BigInt(4294967295));return W[R++]=we,we=we>>8,W[R++]=we,we=we>>8,W[R++]=we,we=we>>8,W[R++]=we,R}function le(W,P,R,X,ce){ye(P,X,ce,W,R,7);let pe=Number(P&BigInt(4294967295));W[R+7]=pe,pe=pe>>8,W[R+6]=pe,pe=pe>>8,W[R+5]=pe,pe=pe>>8,W[R+4]=pe;let we=Number(P>>BigInt(32)&BigInt(4294967295));return W[R+3]=we,we=we>>8,W[R+2]=we,we=we>>8,W[R+1]=we,we=we>>8,W[R]=we,R+8}m.prototype.writeBigUInt64LE=at(function(P,R=0){return re(this,P,R,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=at(function(P,R=0){return le(this,P,R,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(P,R,X,ce){if(P=+P,R=R>>>0,!ce){const tt=Math.pow(2,8*X-1);q(this,P,R,X,tt-1,-tt)}let pe=0,we=1,it=0;for(this[R]=P&255;++pe<X&&(we*=256);)P<0&&it===0&&this[R+pe-1]!==0&&(it=1),this[R+pe]=(P/we>>0)-it&255;return R+X},m.prototype.writeIntBE=function(P,R,X,ce){if(P=+P,R=R>>>0,!ce){const tt=Math.pow(2,8*X-1);q(this,P,R,X,tt-1,-tt)}let pe=X-1,we=1,it=0;for(this[R+pe]=P&255;--pe>=0&&(we*=256);)P<0&&it===0&&this[R+pe+1]!==0&&(it=1),this[R+pe]=(P/we>>0)-it&255;return R+X},m.prototype.writeInt8=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,1,127,-128),P<0&&(P=255+P+1),this[R]=P&255,R+1},m.prototype.writeInt16LE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,2,32767,-32768),this[R]=P&255,this[R+1]=P>>>8,R+2},m.prototype.writeInt16BE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,2,32767,-32768),this[R]=P>>>8,this[R+1]=P&255,R+2},m.prototype.writeInt32LE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,4,2147483647,-2147483648),this[R]=P&255,this[R+1]=P>>>8,this[R+2]=P>>>16,this[R+3]=P>>>24,R+4},m.prototype.writeInt32BE=function(P,R,X){return P=+P,R=R>>>0,X||q(this,P,R,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[R]=P>>>24,this[R+1]=P>>>16,this[R+2]=P>>>8,this[R+3]=P&255,R+4},m.prototype.writeBigInt64LE=at(function(P,R=0){return re(this,P,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=at(function(P,R=0){return le(this,P,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(W,P,R,X,ce,pe){if(R+X>W.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Ie(W,P,R,X,ce){return P=+P,R=R>>>0,ce||fe(W,P,R,4),t.write(W,P,R,X,23,4),R+4}m.prototype.writeFloatLE=function(P,R,X){return Ie(this,P,R,!0,X)},m.prototype.writeFloatBE=function(P,R,X){return Ie(this,P,R,!1,X)};function Ze(W,P,R,X,ce){return P=+P,R=R>>>0,ce||fe(W,P,R,8),t.write(W,P,R,X,52,8),R+8}m.prototype.writeDoubleLE=function(P,R,X){return Ze(this,P,R,!0,X)},m.prototype.writeDoubleBE=function(P,R,X){return Ze(this,P,R,!1,X)},m.prototype.copy=function(P,R,X,ce){if(!m.isBuffer(P))throw new TypeError("argument should be a Buffer");if(X||(X=0),!ce&&ce!==0&&(ce=this.length),R>=P.length&&(R=P.length),R||(R=0),ce>0&&ce<X&&(ce=X),ce===X||P.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),P.length-R<ce-X&&(ce=P.length-R+X);const pe=ce-X;return this===P&&typeof s.prototype.copyWithin=="function"?this.copyWithin(R,X,ce):s.prototype.set.call(P,this.subarray(X,ce),R),pe},m.prototype.fill=function(P,R,X,ce){if(typeof P=="string"){if(typeof R=="string"?(ce=R,R=0,X=this.length):typeof X=="string"&&(ce=X,X=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!m.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(P.length===1){const we=P.charCodeAt(0);(ce==="utf8"&&we<128||ce==="latin1")&&(P=we)}}else typeof P=="number"?P=P&255:typeof P=="boolean"&&(P=Number(P));if(R<0||this.length<R||this.length<X)throw new RangeError("Out of range index");if(X<=R)return this;R=R>>>0,X=X===void 0?this.length:X>>>0,P||(P=0);let pe;if(typeof P=="number")for(pe=R;pe<X;++pe)this[pe]=P;else{const we=m.isBuffer(P)?P:m.from(P,ce),it=we.length;if(it===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(pe=0;pe<X-R;++pe)this[pe+R]=we[pe%it]}return this};const Pe={};function ht(W,P,R){Pe[W]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:P.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}ht("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ht("ERR_INVALID_ARG_TYPE",function(W,P){return`The "${W}" argument must be of type number. Received type ${typeof P}`},TypeError),ht("ERR_OUT_OF_RANGE",function(W,P,R){let X=`The value of "${W}" is out of range.`,ce=R;return Number.isInteger(R)&&Math.abs(R)>2**32?ce=Ot(String(R)):typeof R=="bigint"&&(ce=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(ce=Ot(ce)),ce+="n"),X+=` It must be ${P}. Received ${ce}`,X},RangeError);function Ot(W){let P="",R=W.length;const X=W[0]==="-"?1:0;for(;R>=X+4;R-=3)P=`_${W.slice(R-3,R)}${P}`;return`${W.slice(0,R)}${P}`}function Pt(W,P,R){xe(P,"offset"),(W[P]===void 0||W[P+R]===void 0)&&Ce(P,W.length-(R+1))}function ye(W,P,R,X,ce,pe){if(W>R||W<P){const we=typeof P=="bigint"?"n":"";let it;throw P===0||P===BigInt(0)?it=`>= 0${we} and < 2${we} ** ${(pe+1)*8}${we}`:it=`>= -(2${we} ** ${(pe+1)*8-1}${we}) and < 2 ** ${(pe+1)*8-1}${we}`,new Pe.ERR_OUT_OF_RANGE("value",it,W)}Pt(X,ce,pe)}function xe(W,P){if(typeof W!="number")throw new Pe.ERR_INVALID_ARG_TYPE(P,"number",W)}function Ce(W,P,R){throw Math.floor(W)!==W?(xe(W,R),new Pe.ERR_OUT_OF_RANGE("offset","an integer",W)):P<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${P}`,W)}const Re=/[^+/0-9A-Za-z-_]/g;function De(W){if(W=W.split("=")[0],W=W.trim().replace(Re,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Me(W,P){P=P||1/0;let R;const X=W.length;let ce=null;const pe=[];for(let we=0;we<X;++we){if(R=W.charCodeAt(we),R>55295&&R<57344){if(!ce){if(R>56319){(P-=3)>-1&&pe.push(239,191,189);continue}else if(we+1===X){(P-=3)>-1&&pe.push(239,191,189);continue}ce=R;continue}if(R<56320){(P-=3)>-1&&pe.push(239,191,189),ce=R;continue}R=(ce-55296<<10|R-56320)+65536}else ce&&(P-=3)>-1&&pe.push(239,191,189);if(ce=null,R<128){if((P-=1)<0)break;pe.push(R)}else if(R<2048){if((P-=2)<0)break;pe.push(R>>6|192,R&63|128)}else if(R<65536){if((P-=3)<0)break;pe.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((P-=4)<0)break;pe.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return pe}function Te(W){const P=[];for(let R=0;R<W.length;++R)P.push(W.charCodeAt(R)&255);return P}function Fe(W,P){let R,X,ce;const pe=[];for(let we=0;we<W.length&&!((P-=2)<0);++we)R=W.charCodeAt(we),X=R>>8,ce=R%256,pe.push(ce),pe.push(X);return pe}function Se(W){return e.toByteArray(De(W))}function We(W,P,R,X){let ce;for(ce=0;ce<X&&!(ce+R>=P.length||ce>=W.length);++ce)P[ce+R]=W[ce];return ce}function vt(W,P){return W instanceof P||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===P.name}function Qe(W){return W!==W}const Ue=(function(){const W="0123456789abcdef",P=new Array(256);for(let R=0;R<16;++R){const X=R*16;for(let ce=0;ce<16;++ce)P[X+ce]=W[R]+W[ce]}return P})();function at(W){return typeof BigInt>"u"?nt:W}function nt(){throw new Error("BigInt not supported")}})(Mg);const ct=Mg.Buffer,ut=Mg.Buffer,ya=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gc(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function sc(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function oi(n,...e){if(!gc(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function tE(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");sc(n.outputLen),sc(n.blockLen)}function Oa(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function nE(n,e){oi(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function h3(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Gi(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Tp(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ho(n,e){return n<<32-e|n>>>e}const p3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function m3(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function g3(n){for(let e=0;e<n.length;e++)n[e]=m3(n[e]);return n}const Xv=p3?n=>n:g3,rE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",y3=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function As(n){if(oi(n),rE)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=y3[n[t]];return e}const Vo={_0:48,_9:57,A:65,F:70,a:97,f:102};function Qv(n){if(n>=Vo._0&&n<=Vo._9)return n-Vo._0;if(n>=Vo.A&&n<=Vo.F)return n-(Vo.A-10);if(n>=Vo.a&&n<=Vo.f)return n-(Vo.a-10)}function Ad(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(rE)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const l=Qv(n.charCodeAt(s)),c=Qv(n.charCodeAt(s+1));if(l===void 0||c===void 0){const d=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=l*16+c}return r}function w3(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function df(n){return typeof n=="string"&&(n=w3(n)),oi(n),n}function xo(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];oi(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}class Og{}function Dg(n){const e=r=>n().update(df(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function jg(n=32){if(ya&&typeof ya.getRandomValues=="function")return ya.getRandomValues(new Uint8Array(n));if(ya&&typeof ya.randomBytes=="function")return Uint8Array.from(ya.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function v3(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(t>>i&s),c=Number(t&s),d=r?4:0,p=r?0:4;n.setUint32(e+d,l,r),n.setUint32(e+p,c,r)}function x3(n,e,t){return n&e^~n&t}function b3(n,e,t){return n&e^n&t^e&t}class oE extends Og{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Tp(this.buffer)}update(e){Oa(this),e=df(e),oi(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let l=0;l<s;){const c=Math.min(i-this.pos,s-l);if(c===i){const d=Tp(e);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Oa(this),nE(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;t[l++]=128,Gi(this.buffer.subarray(l)),this.padOffset>i-l&&(this.process(r,0),l=0);for(let k=l;k<i;k++)t[k]=0;v3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Tp(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let k=0;k<p;k++)c.setUint32(4*k,m[k],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=s,e.length=i,e.pos=c,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ci=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),$u=BigInt(2**32-1),Jv=BigInt(32);function k3(n,e=!1){return e?{h:Number(n&$u),l:Number(n>>Jv&$u)}:{h:Number(n>>Jv&$u)|0,l:Number(n&$u)|0}}function iE(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:l,l:c}=k3(n[s],e);[r[s],i[s]]=[l,c]}return[r,i]}const e1=(n,e,t)=>n>>>t,t1=(n,e,t)=>n<<32-t|e>>>t,wa=(n,e,t)=>n>>>t|e<<32-t,va=(n,e,t)=>n<<32-t|e>>>t,Vu=(n,e,t)=>n<<64-t|e>>>t-32,Wu=(n,e,t)=>n>>>t-32|e<<64-t,S3=(n,e,t)=>n<<t|e>>>32-t,E3=(n,e,t)=>e<<t|n>>>32-t,A3=(n,e,t)=>e<<t-32|n>>>64-t,_3=(n,e,t)=>n<<t-32|e>>>64-t;function Wo(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const I3=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),P3=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,R3=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),T3=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,C3=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),N3=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,B3=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ni=new Uint32Array(64);class M3 extends oE{constructor(e=32){super(64,e,8,!1),this.A=Ci[0]|0,this.B=Ci[1]|0,this.C=Ci[2]|0,this.D=Ci[3]|0,this.E=Ci[4]|0,this.F=Ci[5]|0,this.G=Ci[6]|0,this.H=Ci[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:l,G:c,H:d}=this;return[e,t,r,i,s,l,c,d]}set(e,t,r,i,s,l,c,d){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=c|0,this.H=d|0}process(e,t){for(let k=0;k<16;k++,t+=4)Ni[k]=e.getUint32(t,!1);for(let k=16;k<64;k++){const _=Ni[k-15],v=Ni[k-2],C=ho(_,7)^ho(_,18)^_>>>3,I=ho(v,17)^ho(v,19)^v>>>10;Ni[k]=I+Ni[k-7]+C+Ni[k-16]|0}let{A:r,B:i,C:s,D:l,E:c,F:d,G:p,H:m}=this;for(let k=0;k<64;k++){const _=ho(c,6)^ho(c,11)^ho(c,25),v=m+_+x3(c,d,p)+B3[k]+Ni[k]|0,I=(ho(r,2)^ho(r,13)^ho(r,22))+b3(r,i,s)|0;m=p,p=d,d=c,c=l+v|0,l=s,s=i,i=r,r=v+I|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,c=c+this.E|0,d=d+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(r,i,s,l,c,d,p,m)}roundClean(){Gi(Ni)}destroy(){this.set(0,0,0,0,0,0,0,0),Gi(this.buffer)}}const sE=iE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),L3=sE[0],O3=sE[1],Bi=new Uint32Array(80),Mi=new Uint32Array(80);class D3 extends oE{constructor(e=64){super(128,e,16,!1),this.Ah=Yn[0]|0,this.Al=Yn[1]|0,this.Bh=Yn[2]|0,this.Bl=Yn[3]|0,this.Ch=Yn[4]|0,this.Cl=Yn[5]|0,this.Dh=Yn[6]|0,this.Dl=Yn[7]|0,this.Eh=Yn[8]|0,this.El=Yn[9]|0,this.Fh=Yn[10]|0,this.Fl=Yn[11]|0,this.Gh=Yn[12]|0,this.Gl=Yn[13]|0,this.Hh=Yn[14]|0,this.Hl=Yn[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:l,Dh:c,Dl:d,Eh:p,El:m,Fh:k,Fl:_,Gh:v,Gl:C,Hh:I,Hl:T}=this;return[e,t,r,i,s,l,c,d,p,m,k,_,v,C,I,T]}set(e,t,r,i,s,l,c,d,p,m,k,_,v,C,I,T){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=l|0,this.Dh=c|0,this.Dl=d|0,this.Eh=p|0,this.El=m|0,this.Fh=k|0,this.Fl=_|0,this.Gh=v|0,this.Gl=C|0,this.Hh=I|0,this.Hl=T|0}process(e,t){for(let F=0;F<16;F++,t+=4)Bi[F]=e.getUint32(t),Mi[F]=e.getUint32(t+=4);for(let F=16;F<80;F++){const Y=Bi[F-15]|0,te=Mi[F-15]|0,se=wa(Y,te,1)^wa(Y,te,8)^e1(Y,te,7),ne=va(Y,te,1)^va(Y,te,8)^t1(Y,te,7),ae=Bi[F-2]|0,Q=Mi[F-2]|0,Z=wa(ae,Q,19)^Vu(ae,Q,61)^e1(ae,Q,6),ee=va(ae,Q,19)^Wu(ae,Q,61)^t1(ae,Q,6),V=R3(ne,ee,Mi[F-7],Mi[F-16]),D=T3(V,se,Z,Bi[F-7],Bi[F-16]);Bi[F]=D|0,Mi[F]=V|0}let{Ah:r,Al:i,Bh:s,Bl:l,Ch:c,Cl:d,Dh:p,Dl:m,Eh:k,El:_,Fh:v,Fl:C,Gh:I,Gl:T,Hh:z,Hl:K}=this;for(let F=0;F<80;F++){const Y=wa(k,_,14)^wa(k,_,18)^Vu(k,_,41),te=va(k,_,14)^va(k,_,18)^Wu(k,_,41),se=k&v^~k&I,ne=_&C^~_&T,ae=C3(K,te,ne,O3[F],Mi[F]),Q=N3(ae,z,Y,se,L3[F],Bi[F]),Z=ae|0,ee=wa(r,i,28)^Vu(r,i,34)^Vu(r,i,39),V=va(r,i,28)^Wu(r,i,34)^Wu(r,i,39),D=r&s^r&c^s&c,f=i&l^i&d^l&d;z=I|0,K=T|0,I=v|0,T=C|0,v=k|0,C=_|0,{h:k,l:_}=Wo(p|0,m|0,Q|0,Z|0),p=c|0,m=d|0,c=s|0,d=l|0,s=r|0,l=i|0;const y=I3(Z,V,f);r=P3(y,Q,ee,D),i=y|0}({h:r,l:i}=Wo(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l}=Wo(this.Bh|0,this.Bl|0,s|0,l|0),{h:c,l:d}=Wo(this.Ch|0,this.Cl|0,c|0,d|0),{h:p,l:m}=Wo(this.Dh|0,this.Dl|0,p|0,m|0),{h:k,l:_}=Wo(this.Eh|0,this.El|0,k|0,_|0),{h:v,l:C}=Wo(this.Fh|0,this.Fl|0,v|0,C|0),{h:I,l:T}=Wo(this.Gh|0,this.Gl|0,I|0,T|0),{h:z,l:K}=Wo(this.Hh|0,this.Hl|0,z|0,K|0),this.set(r,i,s,l,c,d,p,m,k,_,v,C,I,T,z,K)}roundClean(){Gi(Bi,Mi)}destroy(){Gi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const aE=Dg(()=>new M3),j3=Dg(()=>new D3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fg=BigInt(0),Um=BigInt(1);function Ps(n,e=""){if(typeof n!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function to(n,e,t=""){const r=gc(n),i=n?.length,s=e!==void 0;if(!r||s&&i!==e){const l=t&&`"${t}" `,c=s?` of length ${e}`:"",d=r?`length=${i}`:`type=${typeof n}`;throw new Error(l+"expected Uint8Array"+c+", got "+d)}return n}function Ku(n){const e=n.toString(16);return e.length&1?"0"+e:e}function lE(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Fg:BigInt("0x"+n)}function ff(n){return lE(As(n))}function ac(n){return oi(n),lE(As(Uint8Array.from(n).reverse()))}function Ug(n,e){return Ad(n.toString(16).padStart(e*2,"0"))}function cE(n,e){return Ug(n,e).reverse()}function vn(n,e,t){let r;if(typeof e=="string")try{r=Ad(e)}catch(s){throw new Error(n+" must be hex string or Uint8Array, cause: "+s)}else if(gc(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function n1(n){return Uint8Array.from(n)}const Cp=n=>typeof n=="bigint"&&Fg<=n;function F3(n,e,t){return Cp(n)&&Cp(e)&&Cp(t)&&e<=n&&n<t}function zm(n,e,t,r){if(!F3(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function uE(n){let e;for(e=0;n>Fg;n>>=Um,e+=1);return e}const yc=n=>(Um<<BigInt(n))-Um;function U3(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const r=v=>new Uint8Array(v),i=v=>Uint8Array.of(v);let s=r(n),l=r(n),c=0;const d=()=>{s.fill(1),l.fill(0),c=0},p=(...v)=>t(l,s,...v),m=(v=r(0))=>{l=p(i(0),v),s=p(),v.length!==0&&(l=p(i(1),v),s=p())},k=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const C=[];for(;v<e;){s=p();const I=s.slice();C.push(I),v+=s.length}return xo(...C)};return(v,C)=>{d(),m(v);let I;for(;!(I=C(k()));)m();return d(),I}}function wc(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,s,l){const c=n[i];if(l&&c===void 0)return;const d=typeof c;if(d!==s||c===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${d}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(t).forEach(([i,s])=>r(i,s,!0))}function _d(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const s=n(t,...r);return e.set(t,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xr=BigInt(0),Wn=BigInt(1),gs=BigInt(2),dE=BigInt(3),fE=BigInt(4),hE=BigInt(5),z3=BigInt(7),pE=BigInt(8),$3=BigInt(9),mE=BigInt(16);function An(n,e){const t=n%e;return t>=xr?t:e+t}function wn(n,e,t){let r=n;for(;e-- >xr;)r*=r,r%=t;return r}function r1(n,e){if(n===xr)throw new Error("invert: expected non-zero number");if(e<=xr)throw new Error("invert: expected positive modulus, got "+e);let t=An(n,e),r=e,i=xr,s=Wn;for(;t!==xr;){const c=r/t,d=r%t,p=i-s*c;r=t,t=d,i=s,s=p}if(r!==Wn)throw new Error("invert: does not exist");return An(i,e)}function zg(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function gE(n,e){const t=(n.ORDER+Wn)/fE,r=n.pow(e,t);return zg(n,r,e),r}function V3(n,e){const t=(n.ORDER-hE)/pE,r=n.mul(e,gs),i=n.pow(r,t),s=n.mul(e,i),l=n.mul(n.mul(s,gs),i),c=n.mul(s,n.sub(l,n.ONE));return zg(n,c,e),c}function W3(n){const e=Bs(n),t=yE(n),r=t(e,e.neg(e.ONE)),i=t(e,r),s=t(e,e.neg(r)),l=(n+z3)/mE;return(c,d)=>{let p=c.pow(d,l),m=c.mul(p,r);const k=c.mul(p,i),_=c.mul(p,s),v=c.eql(c.sqr(m),d),C=c.eql(c.sqr(k),d);p=c.cmov(p,m,v),m=c.cmov(_,k,C);const I=c.eql(c.sqr(m),d),T=c.cmov(p,m,I);return zg(c,T,d),T}}function yE(n){if(n<dE)throw new Error("sqrt is not defined for small field");let e=n-Wn,t=0;for(;e%gs===xr;)e/=gs,t++;let r=gs;const i=Bs(n);for(;o1(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return gE;let s=i.pow(r,e);const l=(e+Wn)/gs;return function(d,p){if(d.is0(p))return p;if(o1(d,p)!==1)throw new Error("Cannot find square root");let m=t,k=d.mul(d.ONE,s),_=d.pow(p,e),v=d.pow(p,l);for(;!d.eql(_,d.ONE);){if(d.is0(_))return d.ZERO;let C=1,I=d.sqr(_);for(;!d.eql(I,d.ONE);)if(C++,I=d.sqr(I),C===m)throw new Error("Cannot find square root");const T=Wn<<BigInt(m-C-1),z=d.pow(k,T);m=C,k=d.sqr(z),_=d.mul(_,k),v=d.mul(v,z)}return v}}function K3(n){return n%fE===dE?gE:n%pE===hE?V3:n%mE===$3?W3(n):yE(n)}const q3=(n,e)=>(An(n,e)&Wn)===Wn,H3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function G3(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=H3.reduce((r,i)=>(r[i]="function",r),e);return wc(n,t),n}function Y3(n,e,t){if(t<xr)throw new Error("invalid exponent, negatives unsupported");if(t===xr)return n.ONE;if(t===Wn)return e;let r=n.ONE,i=e;for(;t>xr;)t&Wn&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Wn;return r}function wE(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((l,c,d)=>n.is0(c)?l:(r[d]=l,n.mul(l,c)),n.ONE),s=n.inv(i);return e.reduceRight((l,c,d)=>n.is0(c)?l:(r[d]=n.mul(l,r[d]),n.mul(l,c)),s),r}function o1(n,e){const t=(n.ORDER-Wn)/gs,r=n.pow(e,t),i=n.eql(r,n.ONE),s=n.eql(r,n.ZERO),l=n.eql(r,n.neg(n.ONE));if(!i&&!s&&!l)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function vE(n,e){e!==void 0&&sc(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Bs(n,e,t=!1,r={}){if(n<=xr)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,s,l=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const _=e;_.BITS&&(i=_.BITS),_.sqrt&&(s=_.sqrt),typeof _.isLE=="boolean"&&(t=_.isLE),typeof _.modFromBytes=="boolean"&&(l=_.modFromBytes),c=_.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:d,nByteLength:p}=vE(n,i);if(p>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let m;const k=Object.freeze({ORDER:n,isLE:t,BITS:d,BYTES:p,MASK:yc(d),ZERO:xr,ONE:Wn,allowedLengths:c,create:_=>An(_,n),isValid:_=>{if(typeof _!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof _);return xr<=_&&_<n},is0:_=>_===xr,isValidNot0:_=>!k.is0(_)&&k.isValid(_),isOdd:_=>(_&Wn)===Wn,neg:_=>An(-_,n),eql:(_,v)=>_===v,sqr:_=>An(_*_,n),add:(_,v)=>An(_+v,n),sub:(_,v)=>An(_-v,n),mul:(_,v)=>An(_*v,n),pow:(_,v)=>Y3(k,_,v),div:(_,v)=>An(_*r1(v,n),n),sqrN:_=>_*_,addN:(_,v)=>_+v,subN:(_,v)=>_-v,mulN:(_,v)=>_*v,inv:_=>r1(_,n),sqrt:s||(_=>(m||(m=K3(n)),m(k,_))),toBytes:_=>t?cE(_,p):Ug(_,p),fromBytes:(_,v=!0)=>{if(c){if(!c.includes(_.length)||_.length>p)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+_.length);const I=new Uint8Array(p);I.set(_,t?0:I.length-_.length),_=I}if(_.length!==p)throw new Error("Field.fromBytes: expected "+p+" bytes, got "+_.length);let C=t?ac(_):ff(_);if(l&&(C=An(C,n)),!v&&!k.isValid(C))throw new Error("invalid field element: outside of range 0..ORDER");return C},invertBatch:_=>wE(k,_),cmov:(_,v,C)=>C?v:_});return Object.freeze(k)}function xE(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function bE(n){const e=xE(n);return e+Math.ceil(e/2)}function Z3(n,e,t=!1){const r=n.length,i=xE(e),s=bE(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const l=t?ac(n):ff(n),c=An(l,e-Wn)+Wn;return t?cE(c,i):Ug(c,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Da=BigInt(0),ys=BigInt(1);function Id(n,e){const t=e.negate();return n?t:e}function ws(n,e){const t=wE(n.Fp,e.map(r=>r.Z));return e.map((r,i)=>n.fromAffine(r.toAffine(t[i])))}function kE(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function Np(n,e){kE(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),i=2**n,s=yc(n),l=BigInt(n);return{windows:t,windowSize:r,mask:s,maxNumber:i,shiftBy:l}}function i1(n,e,t){const{windowSize:r,mask:i,maxNumber:s,shiftBy:l}=t;let c=Number(n&i),d=n>>l;c>r&&(c-=s,d+=ys);const p=e*r,m=p+Math.abs(c)-1,k=c===0,_=c<0,v=e%2!==0;return{nextN:d,offset:m,isZero:k,isNeg:_,isNegF:v,offsetF:p}}function X3(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function Q3(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const Bp=new WeakMap,SE=new WeakMap;function Mp(n){return SE.get(n)||1}function s1(n){if(n!==Da)throw new Error("invalid wNAF")}class EE{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>Da;)t&ys&&(r=r.add(i)),i=i.double(),t>>=ys;return r}precomputeWindow(e,t){const{windows:r,windowSize:i}=Np(t,this.bits),s=[];let l=e,c=l;for(let d=0;d<r;d++){c=l,s.push(c);for(let p=1;p<i;p++)c=c.add(l),s.push(c);l=c.double()}return s}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const l=Np(e,this.bits);for(let c=0;c<l.windows;c++){const{nextN:d,offset:p,isZero:m,isNeg:k,isNegF:_,offsetF:v}=i1(r,c,l);r=d,m?s=s.add(Id(_,t[v])):i=i.add(Id(k,t[p]))}return s1(r),{p:i,f:s}}wNAFUnsafe(e,t,r,i=this.ZERO){const s=Np(e,this.bits);for(let l=0;l<s.windows&&r!==Da;l++){const{nextN:c,offset:d,isZero:p,isNeg:m}=i1(r,l,s);if(r=c,!p){const k=t[d];i=i.add(m?k.negate():k)}}return s1(r),i}getPrecomputes(e,t,r){let i=Bp.get(t);return i||(i=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(i=r(i)),Bp.set(t,i))),i}cached(e,t,r){const i=Mp(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){const s=Mp(e);return s===1?this._unsafeLadder(e,t,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),t,i)}createCache(e,t){kE(t,this.bits),SE.set(e,t),Bp.delete(e)}hasCache(e){return Mp(e)!==1}}function J3(n,e,t,r){let i=e,s=n.ZERO,l=n.ZERO;for(;t>Da||r>Da;)t&ys&&(s=s.add(i)),r&ys&&(l=l.add(i)),i=i.double(),t>>=ys,r>>=ys;return{p1:s,p2:l}}function AE(n,e,t,r){X3(t,n),Q3(r,e);const i=t.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const l=n.ZERO,c=uE(BigInt(i));let d=1;c>12?d=c-3:c>4?d=c-2:c>0&&(d=2);const p=yc(d),m=new Array(Number(p)+1).fill(l),k=Math.floor((e.BITS-1)/d)*d;let _=l;for(let v=k;v>=0;v-=d){m.fill(l);for(let I=0;I<s;I++){const T=r[I],z=Number(T>>BigInt(v)&p);m[z]=m[z].add(t[I])}let C=l;for(let I=m.length-1,T=l;I>0;I--)T=T.add(m[I]),C=C.add(T);if(_=_.add(C),v!==0)for(let I=0;I<d;I++)_=_.double()}return _}function a1(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return G3(e),e}else return Bs(n,{isLE:t})}function _E(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const d of["p","n","h"]){const p=e[d];if(!(typeof p=="bigint"&&p>Da))throw new Error(`CURVE.${d} must be positive bigint`)}const i=a1(e.p,t.Fp,r),s=a1(e.n,t.Fn,r),c=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const d of c)if(!i.isValid(e[d]))throw new Error(`CURVE.${d} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Li=BigInt(0),On=BigInt(1),Lp=BigInt(2),e8=BigInt(8);function t8(n,e,t,r){const i=n.sqr(t),s=n.sqr(r),l=n.add(n.mul(e.a,i),s),c=n.add(n.ONE,n.mul(e.d,n.mul(i,s)));return n.eql(l,c)}function n8(n,e={}){const t=_E("edwards",n,e,e.FpFnLE),{Fp:r,Fn:i}=t;let s=t.CURVE;const{h:l}=s;wc(e,{},{uvRatio:"function"});const c=Lp<<BigInt(i.BYTES*8)-On,d=T=>r.create(T),p=e.uvRatio||((T,z)=>{try{return{isValid:!0,value:r.sqrt(r.div(T,z))}}catch{return{isValid:!1,value:Li}}});if(!t8(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function m(T,z,K=!1){const F=K?On:Li;return zm("coordinate "+T,z,F,c),z}function k(T){if(!(T instanceof C))throw new Error("ExtendedPoint expected")}const _=_d((T,z)=>{const{X:K,Y:F,Z:Y}=T,te=T.is0();z==null&&(z=te?e8:r.inv(Y));const se=d(K*z),ne=d(F*z),ae=r.mul(Y,z);if(te)return{x:Li,y:On};if(ae!==On)throw new Error("invZ was invalid");return{x:se,y:ne}}),v=_d(T=>{const{a:z,d:K}=s;if(T.is0())throw new Error("bad point: ZERO");const{X:F,Y,Z:te,T:se}=T,ne=d(F*F),ae=d(Y*Y),Q=d(te*te),Z=d(Q*Q),ee=d(ne*z),V=d(Q*d(ee+ae)),D=d(Z+d(K*d(ne*ae)));if(V!==D)throw new Error("bad point: equation left != right (1)");const f=d(F*Y),y=d(te*se);if(f!==y)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(z,K,F,Y){this.X=m("x",z),this.Y=m("y",K),this.Z=m("z",F,!0),this.T=m("t",Y),Object.freeze(this)}static CURVE(){return s}static fromAffine(z){if(z instanceof C)throw new Error("extended point not allowed");const{x:K,y:F}=z||{};return m("x",K),m("y",F),new C(K,F,On,d(K*F))}static fromBytes(z,K=!1){const F=r.BYTES,{a:Y,d:te}=s;z=n1(to(z,F,"point")),Ps(K,"zip215");const se=n1(z),ne=z[F-1];se[F-1]=ne&-129;const ae=ac(se),Q=K?c:r.ORDER;zm("point.y",ae,Li,Q);const Z=d(ae*ae),ee=d(Z-On),V=d(te*Z-Y);let{isValid:D,value:f}=p(ee,V);if(!D)throw new Error("bad point: invalid y coordinate");const y=(f&On)===On,E=(ne&128)!==0;if(!K&&f===Li&&E)throw new Error("bad point: x=0 and x_0=1");return E!==y&&(f=d(-f)),C.fromAffine({x:f,y:ae})}static fromHex(z,K=!1){return C.fromBytes(vn("point",z),K)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(z=8,K=!0){return I.createCache(this,z),K||this.multiply(Lp),this}assertValidity(){v(this)}equals(z){k(z);const{X:K,Y:F,Z:Y}=this,{X:te,Y:se,Z:ne}=z,ae=d(K*ne),Q=d(te*Y),Z=d(F*ne),ee=d(se*Y);return ae===Q&&Z===ee}is0(){return this.equals(C.ZERO)}negate(){return new C(d(-this.X),this.Y,this.Z,d(-this.T))}double(){const{a:z}=s,{X:K,Y:F,Z:Y}=this,te=d(K*K),se=d(F*F),ne=d(Lp*d(Y*Y)),ae=d(z*te),Q=K+F,Z=d(d(Q*Q)-te-se),ee=ae+se,V=ee-ne,D=ae-se,f=d(Z*V),y=d(ee*D),E=d(Z*D),U=d(V*ee);return new C(f,y,U,E)}add(z){k(z);const{a:K,d:F}=s,{X:Y,Y:te,Z:se,T:ne}=this,{X:ae,Y:Q,Z,T:ee}=z,V=d(Y*ae),D=d(te*Q),f=d(ne*F*ee),y=d(se*Z),E=d((Y+te)*(ae+Q)-V-D),U=y-f,L=y+f,N=d(D-K*V),b=d(E*U),w=d(L*N),h=d(E*N),x=d(U*L);return new C(b,w,x,h)}subtract(z){return this.add(z.negate())}multiply(z){if(!i.isValidNot0(z))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:K,f:F}=I.cached(this,z,Y=>ws(C,Y));return ws(C,[K,F])[0]}multiplyUnsafe(z,K=C.ZERO){if(!i.isValid(z))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return z===Li?C.ZERO:this.is0()||z===On?this:I.unsafe(this,z,F=>ws(C,F),K)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return I.unsafe(this,s.n).is0()}toAffine(z){return _(this,z)}clearCofactor(){return l===On?this:this.multiplyUnsafe(l)}toBytes(){const{x:z,y:K}=this.toAffine(),F=r.toBytes(K);return F[F.length-1]|=z&On?128:0,F}toHex(){return As(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(z){return ws(C,z)}static msm(z,K){return AE(C,i,z,K)}_setWindowSize(z){this.precompute(z)}toRawBytes(){return this.toBytes()}}C.BASE=new C(s.Gx,s.Gy,On,d(s.Gx*s.Gy)),C.ZERO=new C(Li,On,On,Li),C.Fp=r,C.Fn=i;const I=new EE(C,i.BITS);return C.BASE.precompute(8),C}function r8(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');wc(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=t,{BASE:i,Fp:s,Fn:l}=n,c=t.randomBytes||jg,d=t.adjustScalarBytes||(Q=>Q),p=t.domain||((Q,Z,ee)=>{if(Ps(ee,"phflag"),Z.length||ee)throw new Error("Contexts/pre-hash are not supported");return Q});function m(Q){return l.create(ac(Q))}function k(Q){const Z=F.secretKey;Q=vn("private key",Q,Z);const ee=vn("hashed private key",e(Q),2*Z),V=d(ee.slice(0,Z)),D=ee.slice(Z,2*Z),f=m(V);return{head:V,prefix:D,scalar:f}}function _(Q){const{head:Z,prefix:ee,scalar:V}=k(Q),D=i.multiply(V),f=D.toBytes();return{head:Z,prefix:ee,scalar:V,point:D,pointBytes:f}}function v(Q){return _(Q).pointBytes}function C(Q=Uint8Array.of(),...Z){const ee=xo(...Z);return m(e(p(ee,vn("context",Q),!!r)))}function I(Q,Z,ee={}){Q=vn("message",Q),r&&(Q=r(Q));const{prefix:V,scalar:D,pointBytes:f}=_(Z),y=C(ee.context,V,Q),E=i.multiply(y).toBytes(),U=C(ee.context,E,f,Q),L=l.create(y+U*D);if(!l.isValid(L))throw new Error("sign failed: invalid s");const N=xo(E,l.toBytes(L));return to(N,F.signature,"result")}const T={zip215:!0};function z(Q,Z,ee,V=T){const{context:D,zip215:f}=V,y=F.signature;Q=vn("signature",Q,y),Z=vn("message",Z),ee=vn("publicKey",ee,F.publicKey),f!==void 0&&Ps(f,"zip215"),r&&(Z=r(Z));const E=y/2,U=Q.subarray(0,E),L=ac(Q.subarray(E,y));let N,b,w;try{N=n.fromBytes(ee,f),b=n.fromBytes(U,f),w=i.multiplyUnsafe(L)}catch{return!1}if(!f&&N.isSmallOrder())return!1;const h=C(D,b.toBytes(),N.toBytes(),Z);return b.add(N.multiplyUnsafe(h)).subtract(w).clearCofactor().is0()}const K=s.BYTES,F={secretKey:K,publicKey:K,signature:2*K,seed:K};function Y(Q=c(F.seed)){return to(Q,F.seed,"seed")}function te(Q){const Z=ae.randomSecretKey(Q);return{secretKey:Z,publicKey:v(Z)}}function se(Q){return gc(Q)&&Q.length===l.BYTES}function ne(Q,Z){try{return!!n.fromBytes(Q,Z)}catch{return!1}}const ae={getExtendedPublicKey:_,randomSecretKey:Y,isValidSecretKey:se,isValidPublicKey:ne,toMontgomery(Q){const{y:Z}=n.fromBytes(Q),ee=F.publicKey,V=ee===32;if(!V&&ee!==57)throw new Error("only defined for 25519 and 448");const D=V?s.div(On+Z,On-Z):s.div(Z-On,Z+On);return s.toBytes(D)},toMontgomerySecret(Q){const Z=F.secretKey;to(Q,Z);const ee=e(Q.subarray(0,Z));return d(ee).subarray(0,Z)},randomPrivateKey:Y,precompute(Q=8,Z=n.BASE){return Z.precompute(Q,!1)}};return Object.freeze({keygen:te,getPublicKey:v,sign:I,verify:z,utils:ae,Point:n,lengths:F})}function o8(n){const e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=Bs(e.n,n.nBitLength,!0),i={Fp:t,Fn:r,uvRatio:n.uvRatio},s={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:i,hash:n.hash,eddsaOpts:s}}function i8(n,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function s8(n){const{CURVE:e,curveOpts:t,hash:r,eddsaOpts:i}=o8(n),s=n8(e,t),l=r8(s,r,i);return i8(n,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a8=BigInt(1),l1=BigInt(2);BigInt(3);const l8=BigInt(5),c8=BigInt(8),$g=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),IE={p:$g,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:c8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function u8(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),s=$g,c=n*n%s*n%s,d=wn(c,l1,s)*c%s,p=wn(d,a8,s)*n%s,m=wn(p,l8,s)*p%s,k=wn(m,e,s)*m%s,_=wn(k,t,s)*k%s,v=wn(_,r,s)*_%s,C=wn(v,i,s)*v%s,I=wn(C,i,s)*v%s,T=wn(I,e,s)*m%s;return{pow_p_5_8:wn(T,l1,s)*n%s,b2:c}}function d8(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const c1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function f8(n,e){const t=$g,r=An(e*e*e,t),i=An(r*r*e,t),s=u8(n*i).pow_p_5_8;let l=An(n*r*s,t);const c=An(e*l*l,t),d=l,p=An(l*c1,t),m=c===n,k=c===An(-n,t),_=c===An(-n*c1,t);return m&&(l=d),(k||_)&&(l=p),q3(l,t)&&(l=An(-l,t)),{isValid:m||k,value:l}}const h8=Bs(IE.p,{isLE:!0}),p8={...IE,Fp:h8,hash:j3,adjustScalarBytes:d8,uvRatio:f8},Ha=s8(p8);var ud={exports:{}},Op={},u1;function Vg(){return u1||(u1=1,(function(n){Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},t={};t.byteLength=m,t.toByteArray=_,t.fromByteArray=I;for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=l.length;c<d;++c)r[c]=l[c],i[l.charCodeAt(c)]=c;i[45]=62,i[95]=63;function p(K){var F=K.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Y=K.indexOf("=");Y===-1&&(Y=F);var te=Y===F?0:4-Y%4;return[Y,te]}function m(K){var F=p(K),Y=F[0],te=F[1];return(Y+te)*3/4-te}function k(K,F,Y){return(F+Y)*3/4-Y}function _(K){var F,Y=p(K),te=Y[0],se=Y[1],ne=new s(k(K,te,se)),ae=0,Q=se>0?te-4:te,Z;for(Z=0;Z<Q;Z+=4)F=i[K.charCodeAt(Z)]<<18|i[K.charCodeAt(Z+1)]<<12|i[K.charCodeAt(Z+2)]<<6|i[K.charCodeAt(Z+3)],ne[ae++]=F>>16&255,ne[ae++]=F>>8&255,ne[ae++]=F&255;return se===2&&(F=i[K.charCodeAt(Z)]<<2|i[K.charCodeAt(Z+1)]>>4,ne[ae++]=F&255),se===1&&(F=i[K.charCodeAt(Z)]<<10|i[K.charCodeAt(Z+1)]<<4|i[K.charCodeAt(Z+2)]>>2,ne[ae++]=F>>8&255,ne[ae++]=F&255),ne}function v(K){return r[K>>18&63]+r[K>>12&63]+r[K>>6&63]+r[K&63]}function C(K,F,Y){for(var te,se=[],ne=F;ne<Y;ne+=3)te=(K[ne]<<16&16711680)+(K[ne+1]<<8&65280)+(K[ne+2]&255),se.push(v(te));return se.join("")}function I(K){for(var F,Y=K.length,te=Y%3,se=[],ne=16383,ae=0,Q=Y-te;ae<Q;ae+=ne)se.push(C(K,ae,ae+ne>Q?Q:ae+ne));return te===1?(F=K[Y-1],se.push(r[F>>2]+r[F<<4&63]+"==")):te===2&&(F=(K[Y-2]<<8)+K[Y-1],se.push(r[F>>10]+r[F>>4&63]+r[F<<2&63]+"=")),se.join("")}var T={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */T.read=function(K,F,Y,te,se){var ne,ae,Q=se*8-te-1,Z=(1<<Q)-1,ee=Z>>1,V=-7,D=Y?se-1:0,f=Y?-1:1,y=K[F+D];for(D+=f,ne=y&(1<<-V)-1,y>>=-V,V+=Q;V>0;ne=ne*256+K[F+D],D+=f,V-=8);for(ae=ne&(1<<-V)-1,ne>>=-V,V+=te;V>0;ae=ae*256+K[F+D],D+=f,V-=8);if(ne===0)ne=1-ee;else{if(ne===Z)return ae?NaN:(y?-1:1)*(1/0);ae=ae+Math.pow(2,te),ne=ne-ee}return(y?-1:1)*ae*Math.pow(2,ne-te)},T.write=function(K,F,Y,te,se,ne){var ae,Q,Z,ee=ne*8-se-1,V=(1<<ee)-1,D=V>>1,f=se===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=te?0:ne-1,E=te?1:-1,U=F<0||F===0&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(Q=isNaN(F)?1:0,ae=V):(ae=Math.floor(Math.log(F)/Math.LN2),F*(Z=Math.pow(2,-ae))<1&&(ae--,Z*=2),ae+D>=1?F+=f/Z:F+=f*Math.pow(2,1-D),F*Z>=2&&(ae++,Z/=2),ae+D>=V?(Q=0,ae=V):ae+D>=1?(Q=(F*Z-1)*Math.pow(2,se),ae=ae+D):(Q=F*Math.pow(2,D-1)*Math.pow(2,se),ae=0));se>=8;K[Y+y]=Q&255,y+=E,Q/=256,se-=8);for(ae=ae<<se|Q,ee+=se;ee>0;K[Y+y]=ae&255,y+=E,ae/=256,ee-=8);K[Y+y-E]|=U*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(K){const F=t,Y=T,te=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;K.Buffer=V,K.SlowBuffer=x,K.INSPECT_MAX_BYTES=50;const se=2147483647;K.kMaxLength=se;const{Uint8Array:ne,ArrayBuffer:ae,SharedArrayBuffer:Q}=globalThis;V.TYPED_ARRAY_SUPPORT=Z(),!V.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Z(){try{const H=new ne(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,ne.prototype),Object.setPrototypeOf(H,B),H.foo()===42}catch{return!1}}Object.defineProperty(V.prototype,"parent",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.buffer}}),Object.defineProperty(V.prototype,"offset",{enumerable:!0,get:function(){if(V.isBuffer(this))return this.byteOffset}});function ee(H){if(H>se)throw new RangeError('The value "'+H+'" is invalid for option "size"');const B=new ne(H);return Object.setPrototypeOf(B,V.prototype),B}function V(H,B,O){if(typeof H=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(H)}return D(H,B,O)}V.poolSize=8192;function D(H,B,O){if(typeof H=="string")return U(H,B);if(ae.isView(H))return N(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(He(H,ae)||H&&He(H.buffer,ae)||typeof Q<"u"&&(He(H,Q)||H&&He(H.buffer,Q)))return b(H,B,O);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=H.valueOf&&H.valueOf();if(J!=null&&J!==H)return V.from(J,B,O);const de=w(H);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return V.from(H[Symbol.toPrimitive]("string"),B,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}V.from=function(H,B,O){return D(H,B,O)},Object.setPrototypeOf(V.prototype,ne.prototype),Object.setPrototypeOf(V,ne);function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function y(H,B,O){return f(H),H<=0?ee(H):B!==void 0?typeof O=="string"?ee(H).fill(B,O):ee(H).fill(B):ee(H)}V.alloc=function(H,B,O){return y(H,B,O)};function E(H){return f(H),ee(H<0?0:h(H)|0)}V.allocUnsafe=function(H){return E(H)},V.allocUnsafeSlow=function(H){return E(H)};function U(H,B){if((typeof B!="string"||B==="")&&(B="utf8"),!V.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const O=j(H,B)|0;let J=ee(O);const de=J.write(H,B);return de!==O&&(J=J.slice(0,de)),J}function L(H){const B=H.length<0?0:h(H.length)|0,O=ee(B);for(let J=0;J<B;J+=1)O[J]=H[J]&255;return O}function N(H){if(He(H,ne)){const B=new ne(H);return b(B.buffer,B.byteOffset,B.byteLength)}return L(H)}function b(H,B,O){if(B<0||H.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<B+(O||0))throw new RangeError('"length" is outside of buffer bounds');let J;return B===void 0&&O===void 0?J=new ne(H):O===void 0?J=new ne(H,B):J=new ne(H,B,O),Object.setPrototypeOf(J,V.prototype),J}function w(H){if(V.isBuffer(H)){const B=h(H.length)|0,O=ee(B);return O.length===0||H.copy(O,0,0,B),O}if(H.length!==void 0)return typeof H.length!="number"||Rt(H.length)?ee(0):L(H);if(H.type==="Buffer"&&Array.isArray(H.data))return L(H.data)}function h(H){if(H>=se)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+se.toString(16)+" bytes");return H|0}function x(H){return+H!=H&&(H=0),V.alloc(+H)}V.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==V.prototype},V.compare=function(B,O){if(He(B,ne)&&(B=V.from(B,B.offset,B.byteLength)),He(O,ne)&&(O=V.from(O,O.offset,O.byteLength)),!V.isBuffer(B)||!V.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===O)return 0;let J=B.length,de=O.length;for(let me=0,Ae=Math.min(J,de);me<Ae;++me)if(B[me]!==O[me]){J=B[me],de=O[me];break}return J<de?-1:de<J?1:0},V.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},V.concat=function(B,O){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return V.alloc(0);let J;if(O===void 0)for(O=0,J=0;J<B.length;++J)O+=B[J].length;const de=V.allocUnsafe(O);let me=0;for(J=0;J<B.length;++J){let Ae=B[J];if(He(Ae,ne))me+Ae.length>de.length?(V.isBuffer(Ae)||(Ae=V.from(Ae)),Ae.copy(de,me)):ne.prototype.set.call(de,Ae,me);else if(V.isBuffer(Ae))Ae.copy(de,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=Ae.length}return de};function j(H,B){if(V.isBuffer(H))return H.length;if(ae.isView(H)||He(H,ae))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const O=H.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&O===0)return 0;let de=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return tt(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Ke(H).length;default:if(de)return J?-1:tt(H).length;B=(""+B).toLowerCase(),de=!0}}V.byteLength=j;function q(H,B,O){let J=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,B>>>=0,O<=B))return"";for(H||(H="utf8");;)switch(H){case"hex":return Me(this,B,O);case"utf8":case"utf-8":return ye(this,B,O);case"ascii":return Re(this,B,O);case"latin1":case"binary":return De(this,B,O);case"base64":return Pt(this,B,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,B,O);default:if(J)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),J=!0}}V.prototype._isBuffer=!0;function re(H,B,O){const J=H[B];H[B]=H[O],H[O]=J}V.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<B;O+=2)re(this,O,O+1);return this},V.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<B;O+=4)re(this,O,O+3),re(this,O+1,O+2);return this},V.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<B;O+=8)re(this,O,O+7),re(this,O+1,O+6),re(this,O+2,O+5),re(this,O+3,O+4);return this},V.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?ye(this,0,B):q.apply(this,arguments)},V.prototype.toLocaleString=V.prototype.toString,V.prototype.equals=function(B){if(!V.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:V.compare(this,B)===0},V.prototype.inspect=function(){let B="";const O=K.INSPECT_MAX_BYTES;return B=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(B+=" ... "),"<Buffer "+B+">"},te&&(V.prototype[te]=V.prototype.inspect),V.prototype.compare=function(B,O,J,de,me){if(He(B,ne)&&(B=V.from(B,B.offset,B.byteLength)),!V.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(O===void 0&&(O=0),J===void 0&&(J=B?B.length:0),de===void 0&&(de=0),me===void 0&&(me=this.length),O<0||J>B.length||de<0||me>this.length)throw new RangeError("out of range index");if(de>=me&&O>=J)return 0;if(de>=me)return-1;if(O>=J)return 1;if(O>>>=0,J>>>=0,de>>>=0,me>>>=0,this===B)return 0;let Ae=me-de,At=J-O;const St=Math.min(Ae,At),bt=this.slice(de,me),Ht=B.slice(O,J);for(let xt=0;xt<St;++xt)if(bt[xt]!==Ht[xt]){Ae=bt[xt],At=Ht[xt];break}return Ae<At?-1:At<Ae?1:0};function le(H,B,O,J,de){if(H.length===0)return-1;if(typeof O=="string"?(J=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,Rt(O)&&(O=de?0:H.length-1),O<0&&(O=H.length+O),O>=H.length){if(de)return-1;O=H.length-1}else if(O<0)if(de)O=0;else return-1;if(typeof B=="string"&&(B=V.from(B,J)),V.isBuffer(B))return B.length===0?-1:fe(H,B,O,J,de);if(typeof B=="number")return B=B&255,typeof ne.prototype.indexOf=="function"?de?ne.prototype.indexOf.call(H,B,O):ne.prototype.lastIndexOf.call(H,B,O):fe(H,[B],O,J,de);throw new TypeError("val must be string, number or Buffer")}function fe(H,B,O,J,de){let me=1,Ae=H.length,At=B.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(H.length<2||B.length<2)return-1;me=2,Ae/=2,At/=2,O/=2}function St(Ht,xt){return me===1?Ht[xt]:Ht.readUInt16BE(xt*me)}let bt;if(de){let Ht=-1;for(bt=O;bt<Ae;bt++)if(St(H,bt)===St(B,Ht===-1?0:bt-Ht)){if(Ht===-1&&(Ht=bt),bt-Ht+1===At)return Ht*me}else Ht!==-1&&(bt-=bt-Ht),Ht=-1}else for(O+At>Ae&&(O=Ae-At),bt=O;bt>=0;bt--){let Ht=!0;for(let xt=0;xt<At;xt++)if(St(H,bt+xt)!==St(B,xt)){Ht=!1;break}if(Ht)return bt}return-1}V.prototype.includes=function(B,O,J){return this.indexOf(B,O,J)!==-1},V.prototype.indexOf=function(B,O,J){return le(this,B,O,J,!0)},V.prototype.lastIndexOf=function(B,O,J){return le(this,B,O,J,!1)};function Ie(H,B,O,J){O=Number(O)||0;const de=H.length-O;J?(J=Number(J),J>de&&(J=de)):J=de;const me=B.length;J>me/2&&(J=me/2);let Ae;for(Ae=0;Ae<J;++Ae){const At=parseInt(B.substr(Ae*2,2),16);if(Rt(At))return Ae;H[O+Ae]=At}return Ae}function Ze(H,B,O,J){return It(tt(B,H.length-O),H,O,J)}function Pe(H,B,O,J){return It(rt(B),H,O,J)}function ht(H,B,O,J){return It(Ke(B),H,O,J)}function Ot(H,B,O,J){return It(_t(B,H.length-O),H,O,J)}V.prototype.write=function(B,O,J,de){if(O===void 0)de="utf8",J=this.length,O=0;else if(J===void 0&&typeof O=="string")de=O,J=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(J)?(J=J>>>0,de===void 0&&(de="utf8")):(de=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const me=this.length-O;if((J===void 0||J>me)&&(J=me),B.length>0&&(J<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");let Ae=!1;for(;;)switch(de){case"hex":return Ie(this,B,O,J);case"utf8":case"utf-8":return Ze(this,B,O,J);case"ascii":case"latin1":case"binary":return Pe(this,B,O,J);case"base64":return ht(this,B,O,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ot(this,B,O,J);default:if(Ae)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),Ae=!0}},V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pt(H,B,O){return B===0&&O===H.length?F.fromByteArray(H):F.fromByteArray(H.slice(B,O))}function ye(H,B,O){O=Math.min(H.length,O);const J=[];let de=B;for(;de<O;){const me=H[de];let Ae=null,At=me>239?4:me>223?3:me>191?2:1;if(de+At<=O){let St,bt,Ht,xt;switch(At){case 1:me<128&&(Ae=me);break;case 2:St=H[de+1],(St&192)===128&&(xt=(me&31)<<6|St&63,xt>127&&(Ae=xt));break;case 3:St=H[de+1],bt=H[de+2],(St&192)===128&&(bt&192)===128&&(xt=(me&15)<<12|(St&63)<<6|bt&63,xt>2047&&(xt<55296||xt>57343)&&(Ae=xt));break;case 4:St=H[de+1],bt=H[de+2],Ht=H[de+3],(St&192)===128&&(bt&192)===128&&(Ht&192)===128&&(xt=(me&15)<<18|(St&63)<<12|(bt&63)<<6|Ht&63,xt>65535&&xt<1114112&&(Ae=xt))}}Ae===null?(Ae=65533,At=1):Ae>65535&&(Ae-=65536,J.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),J.push(Ae),de+=At}return Ce(J)}const xe=4096;function Ce(H){const B=H.length;if(B<=xe)return String.fromCharCode.apply(String,H);let O="",J=0;for(;J<B;)O+=String.fromCharCode.apply(String,H.slice(J,J+=xe));return O}function Re(H,B,O){let J="";O=Math.min(H.length,O);for(let de=B;de<O;++de)J+=String.fromCharCode(H[de]&127);return J}function De(H,B,O){let J="";O=Math.min(H.length,O);for(let de=B;de<O;++de)J+=String.fromCharCode(H[de]);return J}function Me(H,B,O){const J=H.length;(!B||B<0)&&(B=0),(!O||O<0||O>J)&&(O=J);let de="";for(let me=B;me<O;++me)de+=Ge[H[me]];return de}function Te(H,B,O){const J=H.slice(B,O);let de="";for(let me=0;me<J.length-1;me+=2)de+=String.fromCharCode(J[me]+J[me+1]*256);return de}V.prototype.slice=function(B,O){const J=this.length;B=~~B,O=O===void 0?J:~~O,B<0?(B+=J,B<0&&(B=0)):B>J&&(B=J),O<0?(O+=J,O<0&&(O=0)):O>J&&(O=J),O<B&&(O=B);const de=this.subarray(B,O);return Object.setPrototypeOf(de,V.prototype),de};function Fe(H,B,O){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+B>O)throw new RangeError("Trying to access beyond buffer length")}V.prototype.readUintLE=V.prototype.readUIntLE=function(B,O,J){B=B>>>0,O=O>>>0,J||Fe(B,O,this.length);let de=this[B],me=1,Ae=0;for(;++Ae<O&&(me*=256);)de+=this[B+Ae]*me;return de},V.prototype.readUintBE=V.prototype.readUIntBE=function(B,O,J){B=B>>>0,O=O>>>0,J||Fe(B,O,this.length);let de=this[B+--O],me=1;for(;O>0&&(me*=256);)de+=this[B+--O]*me;return de},V.prototype.readUint8=V.prototype.readUInt8=function(B,O){return B=B>>>0,O||Fe(B,1,this.length),this[B]},V.prototype.readUint16LE=V.prototype.readUInt16LE=function(B,O){return B=B>>>0,O||Fe(B,2,this.length),this[B]|this[B+1]<<8},V.prototype.readUint16BE=V.prototype.readUInt16BE=function(B,O){return B=B>>>0,O||Fe(B,2,this.length),this[B]<<8|this[B+1]},V.prototype.readUint32LE=V.prototype.readUInt32LE=function(B,O){return B=B>>>0,O||Fe(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},V.prototype.readUint32BE=V.prototype.readUInt32BE=function(B,O){return B=B>>>0,O||Fe(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},V.prototype.readBigUInt64LE=kt(function(B){B=B>>>0,ce(B,"offset");const O=this[B],J=this[B+7];(O===void 0||J===void 0)&&pe(B,this.length-8);const de=O+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,me=this[++B]+this[++B]*2**8+this[++B]*2**16+J*2**24;return BigInt(de)+(BigInt(me)<<BigInt(32))}),V.prototype.readBigUInt64BE=kt(function(B){B=B>>>0,ce(B,"offset");const O=this[B],J=this[B+7];(O===void 0||J===void 0)&&pe(B,this.length-8);const de=O*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],me=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+J;return(BigInt(de)<<BigInt(32))+BigInt(me)}),V.prototype.readIntLE=function(B,O,J){B=B>>>0,O=O>>>0,J||Fe(B,O,this.length);let de=this[B],me=1,Ae=0;for(;++Ae<O&&(me*=256);)de+=this[B+Ae]*me;return me*=128,de>=me&&(de-=Math.pow(2,8*O)),de},V.prototype.readIntBE=function(B,O,J){B=B>>>0,O=O>>>0,J||Fe(B,O,this.length);let de=O,me=1,Ae=this[B+--de];for(;de>0&&(me*=256);)Ae+=this[B+--de]*me;return me*=128,Ae>=me&&(Ae-=Math.pow(2,8*O)),Ae},V.prototype.readInt8=function(B,O){return B=B>>>0,O||Fe(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},V.prototype.readInt16LE=function(B,O){B=B>>>0,O||Fe(B,2,this.length);const J=this[B]|this[B+1]<<8;return J&32768?J|4294901760:J},V.prototype.readInt16BE=function(B,O){B=B>>>0,O||Fe(B,2,this.length);const J=this[B+1]|this[B]<<8;return J&32768?J|4294901760:J},V.prototype.readInt32LE=function(B,O){return B=B>>>0,O||Fe(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},V.prototype.readInt32BE=function(B,O){return B=B>>>0,O||Fe(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},V.prototype.readBigInt64LE=kt(function(B){B=B>>>0,ce(B,"offset");const O=this[B],J=this[B+7];(O===void 0||J===void 0)&&pe(B,this.length-8);const de=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(J<<24);return(BigInt(de)<<BigInt(32))+BigInt(O+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),V.prototype.readBigInt64BE=kt(function(B){B=B>>>0,ce(B,"offset");const O=this[B],J=this[B+7];(O===void 0||J===void 0)&&pe(B,this.length-8);const de=(O<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(de)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+J)}),V.prototype.readFloatLE=function(B,O){return B=B>>>0,O||Fe(B,4,this.length),Y.read(this,B,!0,23,4)},V.prototype.readFloatBE=function(B,O){return B=B>>>0,O||Fe(B,4,this.length),Y.read(this,B,!1,23,4)},V.prototype.readDoubleLE=function(B,O){return B=B>>>0,O||Fe(B,8,this.length),Y.read(this,B,!0,52,8)},V.prototype.readDoubleBE=function(B,O){return B=B>>>0,O||Fe(B,8,this.length),Y.read(this,B,!1,52,8)};function Se(H,B,O,J,de,me){if(!V.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>de||B<me)throw new RangeError('"value" argument is out of bounds');if(O+J>H.length)throw new RangeError("Index out of range")}V.prototype.writeUintLE=V.prototype.writeUIntLE=function(B,O,J,de){if(B=+B,O=O>>>0,J=J>>>0,!de){const At=Math.pow(2,8*J)-1;Se(this,B,O,J,At,0)}let me=1,Ae=0;for(this[O]=B&255;++Ae<J&&(me*=256);)this[O+Ae]=B/me&255;return O+J},V.prototype.writeUintBE=V.prototype.writeUIntBE=function(B,O,J,de){if(B=+B,O=O>>>0,J=J>>>0,!de){const At=Math.pow(2,8*J)-1;Se(this,B,O,J,At,0)}let me=J-1,Ae=1;for(this[O+me]=B&255;--me>=0&&(Ae*=256);)this[O+me]=B/Ae&255;return O+J},V.prototype.writeUint8=V.prototype.writeUInt8=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,1,255,0),this[O]=B&255,O+1},V.prototype.writeUint16LE=V.prototype.writeUInt16LE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,2,65535,0),this[O]=B&255,this[O+1]=B>>>8,O+2},V.prototype.writeUint16BE=V.prototype.writeUInt16BE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,2,65535,0),this[O]=B>>>8,this[O+1]=B&255,O+2},V.prototype.writeUint32LE=V.prototype.writeUInt32LE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,4,4294967295,0),this[O+3]=B>>>24,this[O+2]=B>>>16,this[O+1]=B>>>8,this[O]=B&255,O+4},V.prototype.writeUint32BE=V.prototype.writeUInt32BE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,4,4294967295,0),this[O]=B>>>24,this[O+1]=B>>>16,this[O+2]=B>>>8,this[O+3]=B&255,O+4};function We(H,B,O,J,de){X(B,J,de,H,O,7);let me=Number(B&BigInt(4294967295));H[O++]=me,me=me>>8,H[O++]=me,me=me>>8,H[O++]=me,me=me>>8,H[O++]=me;let Ae=Number(B>>BigInt(32)&BigInt(4294967295));return H[O++]=Ae,Ae=Ae>>8,H[O++]=Ae,Ae=Ae>>8,H[O++]=Ae,Ae=Ae>>8,H[O++]=Ae,O}function vt(H,B,O,J,de){X(B,J,de,H,O,7);let me=Number(B&BigInt(4294967295));H[O+7]=me,me=me>>8,H[O+6]=me,me=me>>8,H[O+5]=me,me=me>>8,H[O+4]=me;let Ae=Number(B>>BigInt(32)&BigInt(4294967295));return H[O+3]=Ae,Ae=Ae>>8,H[O+2]=Ae,Ae=Ae>>8,H[O+1]=Ae,Ae=Ae>>8,H[O]=Ae,O+8}V.prototype.writeBigUInt64LE=kt(function(B,O=0){return We(this,B,O,BigInt(0),BigInt("0xffffffffffffffff"))}),V.prototype.writeBigUInt64BE=kt(function(B,O=0){return vt(this,B,O,BigInt(0),BigInt("0xffffffffffffffff"))}),V.prototype.writeIntLE=function(B,O,J,de){if(B=+B,O=O>>>0,!de){const St=Math.pow(2,8*J-1);Se(this,B,O,J,St-1,-St)}let me=0,Ae=1,At=0;for(this[O]=B&255;++me<J&&(Ae*=256);)B<0&&At===0&&this[O+me-1]!==0&&(At=1),this[O+me]=(B/Ae>>0)-At&255;return O+J},V.prototype.writeIntBE=function(B,O,J,de){if(B=+B,O=O>>>0,!de){const St=Math.pow(2,8*J-1);Se(this,B,O,J,St-1,-St)}let me=J-1,Ae=1,At=0;for(this[O+me]=B&255;--me>=0&&(Ae*=256);)B<0&&At===0&&this[O+me+1]!==0&&(At=1),this[O+me]=(B/Ae>>0)-At&255;return O+J},V.prototype.writeInt8=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,1,127,-128),B<0&&(B=255+B+1),this[O]=B&255,O+1},V.prototype.writeInt16LE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,2,32767,-32768),this[O]=B&255,this[O+1]=B>>>8,O+2},V.prototype.writeInt16BE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,2,32767,-32768),this[O]=B>>>8,this[O+1]=B&255,O+2},V.prototype.writeInt32LE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,4,2147483647,-2147483648),this[O]=B&255,this[O+1]=B>>>8,this[O+2]=B>>>16,this[O+3]=B>>>24,O+4},V.prototype.writeInt32BE=function(B,O,J){return B=+B,O=O>>>0,J||Se(this,B,O,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[O]=B>>>24,this[O+1]=B>>>16,this[O+2]=B>>>8,this[O+3]=B&255,O+4},V.prototype.writeBigInt64LE=kt(function(B,O=0){return We(this,B,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),V.prototype.writeBigInt64BE=kt(function(B,O=0){return vt(this,B,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Qe(H,B,O,J,de,me){if(O+J>H.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Ue(H,B,O,J,de){return B=+B,O=O>>>0,de||Qe(H,B,O,4),Y.write(H,B,O,J,23,4),O+4}V.prototype.writeFloatLE=function(B,O,J){return Ue(this,B,O,!0,J)},V.prototype.writeFloatBE=function(B,O,J){return Ue(this,B,O,!1,J)};function at(H,B,O,J,de){return B=+B,O=O>>>0,de||Qe(H,B,O,8),Y.write(H,B,O,J,52,8),O+8}V.prototype.writeDoubleLE=function(B,O,J){return at(this,B,O,!0,J)},V.prototype.writeDoubleBE=function(B,O,J){return at(this,B,O,!1,J)},V.prototype.copy=function(B,O,J,de){if(!V.isBuffer(B))throw new TypeError("argument should be a Buffer");if(J||(J=0),!de&&de!==0&&(de=this.length),O>=B.length&&(O=B.length),O||(O=0),de>0&&de<J&&(de=J),de===J||B.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),B.length-O<de-J&&(de=B.length-O+J);const me=de-J;return this===B&&typeof ne.prototype.copyWithin=="function"?this.copyWithin(O,J,de):ne.prototype.set.call(B,this.subarray(J,de),O),me},V.prototype.fill=function(B,O,J,de){if(typeof B=="string"){if(typeof O=="string"?(de=O,O=0,J=this.length):typeof J=="string"&&(de=J,J=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!V.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(B.length===1){const Ae=B.charCodeAt(0);(de==="utf8"&&Ae<128||de==="latin1")&&(B=Ae)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(O<0||this.length<O||this.length<J)throw new RangeError("Out of range index");if(J<=O)return this;O=O>>>0,J=J===void 0?this.length:J>>>0,B||(B=0);let me;if(typeof B=="number")for(me=O;me<J;++me)this[me]=B;else{const Ae=V.isBuffer(B)?B:V.from(B,de),At=Ae.length;if(At===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(me=0;me<J-O;++me)this[me+O]=Ae[me%At]}return this};const nt={};function W(H,B,O){nt[H]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(de){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:de,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(H,B){return`The "${H}" argument must be of type number. Received type ${typeof B}`},TypeError),W("ERR_OUT_OF_RANGE",function(H,B,O){let J=`The value of "${H}" is out of range.`,de=O;return Number.isInteger(O)&&Math.abs(O)>2**32?de=P(String(O)):typeof O=="bigint"&&(de=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(de=P(de)),de+="n"),J+=` It must be ${B}. Received ${de}`,J},RangeError);function P(H){let B="",O=H.length;const J=H[0]==="-"?1:0;for(;O>=J+4;O-=3)B=`_${H.slice(O-3,O)}${B}`;return`${H.slice(0,O)}${B}`}function R(H,B,O){ce(B,"offset"),(H[B]===void 0||H[B+O]===void 0)&&pe(B,H.length-(O+1))}function X(H,B,O,J,de,me){if(H>O||H<B){const Ae=typeof B=="bigint"?"n":"";let At;throw B===0||B===BigInt(0)?At=`>= 0${Ae} and < 2${Ae} ** ${(me+1)*8}${Ae}`:At=`>= -(2${Ae} ** ${(me+1)*8-1}${Ae}) and < 2 ** ${(me+1)*8-1}${Ae}`,new nt.ERR_OUT_OF_RANGE("value",At,H)}R(J,de,me)}function ce(H,B){if(typeof H!="number")throw new nt.ERR_INVALID_ARG_TYPE(B,"number",H)}function pe(H,B,O){throw Math.floor(H)!==H?(ce(H,O),new nt.ERR_OUT_OF_RANGE("offset","an integer",H)):B<0?new nt.ERR_BUFFER_OUT_OF_BOUNDS:new nt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,H)}const we=/[^+/0-9A-Za-z-_]/g;function it(H){if(H=H.split("=")[0],H=H.trim().replace(we,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function tt(H,B){B=B||1/0;let O;const J=H.length;let de=null;const me=[];for(let Ae=0;Ae<J;++Ae){if(O=H.charCodeAt(Ae),O>55295&&O<57344){if(!de){if(O>56319){(B-=3)>-1&&me.push(239,191,189);continue}else if(Ae+1===J){(B-=3)>-1&&me.push(239,191,189);continue}de=O;continue}if(O<56320){(B-=3)>-1&&me.push(239,191,189),de=O;continue}O=(de-55296<<10|O-56320)+65536}else de&&(B-=3)>-1&&me.push(239,191,189);if(de=null,O<128){if((B-=1)<0)break;me.push(O)}else if(O<2048){if((B-=2)<0)break;me.push(O>>6|192,O&63|128)}else if(O<65536){if((B-=3)<0)break;me.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((B-=4)<0)break;me.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return me}function rt(H){const B=[];for(let O=0;O<H.length;++O)B.push(H.charCodeAt(O)&255);return B}function _t(H,B){let O,J,de;const me=[];for(let Ae=0;Ae<H.length&&!((B-=2)<0);++Ae)O=H.charCodeAt(Ae),J=O>>8,de=O%256,me.push(de),me.push(J);return me}function Ke(H){return F.toByteArray(it(H))}function It(H,B,O,J){let de;for(de=0;de<J&&!(de+O>=B.length||de>=H.length);++de)B[de+O]=H[de];return de}function He(H,B){return H instanceof B||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===B.name}function Rt(H){return H!==H}const Ge=(function(){const H="0123456789abcdef",B=new Array(256);for(let O=0;O<16;++O){const J=O*16;for(let de=0;de<16;++de)B[J+de]=H[O]+H[de]}return B})();function kt(H){return typeof BigInt>"u"?pt:H}function pt(){throw new Error("BigInt not supported")}})(e);const z=e.Buffer;n.Blob=e.Blob,n.BlobOptions=e.BlobOptions,n.Buffer=e.Buffer,n.File=e.File,n.FileOptions=e.FileOptions,n.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,n.SlowBuffer=e.SlowBuffer,n.TranscodeEncoding=e.TranscodeEncoding,n.atob=e.atob,n.btoa=e.btoa,n.constants=e.constants,n.default=z,n.isAscii=e.isAscii,n.isUtf8=e.isUtf8,n.kMaxLength=e.kMaxLength,n.kStringMaxLength=e.kStringMaxLength,n.resolveObjectURL=e.resolveObjectURL,n.transcode=e.transcode})(Op)),Op}var m8=ud.exports,d1;function Wg(){return d1||(d1=1,(function(n){(function(e,t){function r(D,f){if(!D)throw new Error(f||"Assertion failed")}function i(D,f){D.super_=f;var y=function(){};y.prototype=f.prototype,D.prototype=new y,D.prototype.constructor=D}function s(D,f,y){if(s.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((f==="le"||f==="be")&&(y=f,f=10),this._init(D||0,f||10,y||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=Vg().Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,y){return f.cmp(y)>0?f:y},s.min=function(f,y){return f.cmp(y)<0?f:y},s.prototype._init=function(f,y,E){if(typeof f=="number")return this._initNumber(f,y,E);if(typeof f=="object")return this._initArray(f,y,E);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),f=f.toString().replace(/\s+/g,"");var U=0;f[0]==="-"&&(U++,this.negative=1),U<f.length&&(y===16?this._parseHex(f,U,E):(this._parseBase(f,y,U),E==="le"&&this._initArray(this.toArray(),y,E)))},s.prototype._initNumber=function(f,y,E){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),y,E)},s.prototype._initArray=function(f,y,E){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var L,N,b=0;if(E==="be")for(U=f.length-1,L=0;U>=0;U-=3)N=f[U]|f[U-1]<<8|f[U-2]<<16,this.words[L]|=N<<b&67108863,this.words[L+1]=N>>>26-b&67108863,b+=24,b>=26&&(b-=26,L++);else if(E==="le")for(U=0,L=0;U<f.length;U+=3)N=f[U]|f[U+1]<<8|f[U+2]<<16,this.words[L]|=N<<b&67108863,this.words[L+1]=N>>>26-b&67108863,b+=24,b>=26&&(b-=26,L++);return this._strip()};function c(D,f){var y=D.charCodeAt(f);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;r(!1,"Invalid character in "+D)}function d(D,f,y){var E=c(D,y);return y-1>=f&&(E|=c(D,y-1)<<4),E}s.prototype._parseHex=function(f,y,E){this.length=Math.ceil((f.length-y)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var L=0,N=0,b;if(E==="be")for(U=f.length-1;U>=y;U-=2)b=d(f,y,U)<<L,this.words[N]|=b&67108863,L>=18?(L-=18,N+=1,this.words[N]|=b>>>26):L+=8;else{var w=f.length-y;for(U=w%2===0?y+1:y;U<f.length;U+=2)b=d(f,y,U)<<L,this.words[N]|=b&67108863,L>=18?(L-=18,N+=1,this.words[N]|=b>>>26):L+=8}this._strip()};function p(D,f,y,E){for(var U=0,L=0,N=Math.min(D.length,y),b=f;b<N;b++){var w=D.charCodeAt(b)-48;U*=E,w>=49?L=w-49+10:w>=17?L=w-17+10:L=w,r(w>=0&&L<E,"Invalid character"),U+=L}return U}s.prototype._parseBase=function(f,y,E){this.words=[0],this.length=1;for(var U=0,L=1;L<=67108863;L*=y)U++;U--,L=L/y|0;for(var N=f.length-E,b=N%U,w=Math.min(N,N-b)+E,h=0,x=E;x<w;x+=U)h=p(f,x,x+U,y),this.imuln(L),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(b!==0){var j=1;for(h=p(f,x,f.length,y),x=0;x<b;x++)j*=y;this.imuln(j),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var y=0;y<this.length;y++)f.words[y]=this.words[y];f.length=this.length,f.negative=this.negative,f.red=this.red};function m(D,f){D.words=f.words,D.length=f.length,D.negative=f.negative,D.red=f.red}if(s.prototype._move=function(f){m(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=k}catch{s.prototype.inspect=k}else s.prototype.inspect=k;function k(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,y){f=f||10,y=y|0||1;var E;if(f===16||f==="hex"){E="";for(var U=0,L=0,N=0;N<this.length;N++){var b=this.words[N],w=((b<<U|L)&16777215).toString(16);L=b>>>24-U&16777215,U+=2,U>=26&&(U-=26,N--),L!==0||N!==this.length-1?E=_[6-w.length]+w+E:E=w+E}for(L!==0&&(E=L.toString(16)+E);E.length%y!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(f===(f|0)&&f>=2&&f<=36){var h=v[f],x=C[f];E="";var j=this.clone();for(j.negative=0;!j.isZero();){var q=j.modrn(x).toString(f);j=j.idivn(x),j.isZero()?E=q+E:E=_[h-q.length]+q+E}for(this.isZero()&&(E="0"+E);E.length%y!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},l&&(s.prototype.toBuffer=function(f,y){return this.toArrayLike(l,f,y)}),s.prototype.toArray=function(f,y){return this.toArrayLike(Array,f,y)};var I=function(f,y){return f.allocUnsafe?f.allocUnsafe(y):new f(y)};s.prototype.toArrayLike=function(f,y,E){this._strip();var U=this.byteLength(),L=E||Math.max(1,U);r(U<=L,"byte array longer than desired length"),r(L>0,"Requested array length <= 0");var N=I(f,L),b=y==="le"?"LE":"BE";return this["_toArrayLike"+b](N,U),N},s.prototype._toArrayLikeLE=function(f,y){for(var E=0,U=0,L=0,N=0;L<this.length;L++){var b=this.words[L]<<N|U;f[E++]=b&255,E<f.length&&(f[E++]=b>>8&255),E<f.length&&(f[E++]=b>>16&255),N===6?(E<f.length&&(f[E++]=b>>24&255),U=0,N=0):(U=b>>>24,N+=2)}if(E<f.length)for(f[E++]=U;E<f.length;)f[E++]=0},s.prototype._toArrayLikeBE=function(f,y){for(var E=f.length-1,U=0,L=0,N=0;L<this.length;L++){var b=this.words[L]<<N|U;f[E--]=b&255,E>=0&&(f[E--]=b>>8&255),E>=0&&(f[E--]=b>>16&255),N===6?(E>=0&&(f[E--]=b>>24&255),U=0,N=0):(U=b>>>24,N+=2)}if(E>=0)for(f[E--]=U;E>=0;)f[E--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var y=f,E=0;return y>=4096&&(E+=13,y>>>=13),y>=64&&(E+=7,y>>>=7),y>=8&&(E+=4,y>>>=4),y>=2&&(E+=2,y>>>=2),E+y},s.prototype._zeroBits=function(f){if(f===0)return 26;var y=f,E=0;return(y&8191)===0&&(E+=13,y>>>=13),(y&127)===0&&(E+=7,y>>>=7),(y&15)===0&&(E+=4,y>>>=4),(y&3)===0&&(E+=2,y>>>=2),(y&1)===0&&E++,E},s.prototype.bitLength=function(){var f=this.words[this.length-1],y=this._countBits(f);return(this.length-1)*26+y};function T(D){for(var f=new Array(D.bitLength()),y=0;y<f.length;y++){var E=y/26|0,U=y%26;f[y]=D.words[E]>>>U&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,y=0;y<this.length;y++){var E=this._zeroBits(this.words[y]);if(f+=E,E!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]|f.words[y];return this._strip()},s.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var y;this.length>f.length?y=f:y=this;for(var E=0;E<y.length;E++)this.words[E]=this.words[E]&f.words[E];return this.length=y.length,this._strip()},s.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var y,E;this.length>f.length?(y=this,E=f):(y=f,E=this);for(var U=0;U<E.length;U++)this.words[U]=y.words[U]^E.words[U];if(this!==y)for(;U<y.length;U++)this.words[U]=y.words[U];return this.length=y.length,this._strip()},s.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var y=Math.ceil(f/26)|0,E=f%26;this._expand(y),E>0&&y--;for(var U=0;U<y;U++)this.words[U]=~this.words[U]&67108863;return E>0&&(this.words[U]=~this.words[U]&67108863>>26-E),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,y){r(typeof f=="number"&&f>=0);var E=f/26|0,U=f%26;return this._expand(E+1),y?this.words[E]=this.words[E]|1<<U:this.words[E]=this.words[E]&~(1<<U),this._strip()},s.prototype.iadd=function(f){var y;if(this.negative!==0&&f.negative===0)return this.negative=0,y=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,y=this.isub(f),f.negative=1,y._normSign();var E,U;this.length>f.length?(E=this,U=f):(E=f,U=this);for(var L=0,N=0;N<U.length;N++)y=(E.words[N]|0)+(U.words[N]|0)+L,this.words[N]=y&67108863,L=y>>>26;for(;L!==0&&N<E.length;N++)y=(E.words[N]|0)+L,this.words[N]=y&67108863,L=y>>>26;if(this.length=E.length,L!==0)this.words[this.length]=L,this.length++;else if(E!==this)for(;N<E.length;N++)this.words[N]=E.words[N];return this},s.prototype.add=function(f){var y;return f.negative!==0&&this.negative===0?(f.negative=0,y=this.sub(f),f.negative^=1,y):f.negative===0&&this.negative!==0?(this.negative=0,y=f.sub(this),this.negative=1,y):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var y=this.iadd(f);return f.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var E=this.cmp(f);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,L;E>0?(U=this,L=f):(U=f,L=this);for(var N=0,b=0;b<L.length;b++)y=(U.words[b]|0)-(L.words[b]|0)+N,N=y>>26,this.words[b]=y&67108863;for(;N!==0&&b<U.length;b++)y=(U.words[b]|0)+N,N=y>>26,this.words[b]=y&67108863;if(N===0&&b<U.length&&U!==this)for(;b<U.length;b++)this.words[b]=U.words[b];return this.length=Math.max(this.length,b),U!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function z(D,f,y){y.negative=f.negative^D.negative;var E=D.length+f.length|0;y.length=E,E=E-1|0;var U=D.words[0]|0,L=f.words[0]|0,N=U*L,b=N&67108863,w=N/67108864|0;y.words[0]=b;for(var h=1;h<E;h++){for(var x=w>>>26,j=w&67108863,q=Math.min(h,f.length-1),re=Math.max(0,h-D.length+1);re<=q;re++){var le=h-re|0;U=D.words[le]|0,L=f.words[re]|0,N=U*L+j,x+=N/67108864|0,j=N&67108863}y.words[h]=j|0,w=x|0}return w!==0?y.words[h]=w|0:y.length--,y._strip()}var K=function(f,y,E){var U=f.words,L=y.words,N=E.words,b=0,w,h,x,j=U[0]|0,q=j&8191,re=j>>>13,le=U[1]|0,fe=le&8191,Ie=le>>>13,Ze=U[2]|0,Pe=Ze&8191,ht=Ze>>>13,Ot=U[3]|0,Pt=Ot&8191,ye=Ot>>>13,xe=U[4]|0,Ce=xe&8191,Re=xe>>>13,De=U[5]|0,Me=De&8191,Te=De>>>13,Fe=U[6]|0,Se=Fe&8191,We=Fe>>>13,vt=U[7]|0,Qe=vt&8191,Ue=vt>>>13,at=U[8]|0,nt=at&8191,W=at>>>13,P=U[9]|0,R=P&8191,X=P>>>13,ce=L[0]|0,pe=ce&8191,we=ce>>>13,it=L[1]|0,tt=it&8191,rt=it>>>13,_t=L[2]|0,Ke=_t&8191,It=_t>>>13,He=L[3]|0,Rt=He&8191,Ge=He>>>13,kt=L[4]|0,pt=kt&8191,H=kt>>>13,B=L[5]|0,O=B&8191,J=B>>>13,de=L[6]|0,me=de&8191,Ae=de>>>13,At=L[7]|0,St=At&8191,bt=At>>>13,Ht=L[8]|0,xt=Ht&8191,gn=Ht>>>13,ao=L[9]|0,cn=ao&8191,un=ao>>>13;E.negative=f.negative^y.negative,E.length=19,w=Math.imul(q,pe),h=Math.imul(q,we),h=h+Math.imul(re,pe)|0,x=Math.imul(re,we);var Qa=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(Qa>>>26)|0,Qa&=67108863,w=Math.imul(fe,pe),h=Math.imul(fe,we),h=h+Math.imul(Ie,pe)|0,x=Math.imul(Ie,we),w=w+Math.imul(q,tt)|0,h=h+Math.imul(q,rt)|0,h=h+Math.imul(re,tt)|0,x=x+Math.imul(re,rt)|0;var Fs=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,w=Math.imul(Pe,pe),h=Math.imul(Pe,we),h=h+Math.imul(ht,pe)|0,x=Math.imul(ht,we),w=w+Math.imul(fe,tt)|0,h=h+Math.imul(fe,rt)|0,h=h+Math.imul(Ie,tt)|0,x=x+Math.imul(Ie,rt)|0,w=w+Math.imul(q,Ke)|0,h=h+Math.imul(q,It)|0,h=h+Math.imul(re,Ke)|0,x=x+Math.imul(re,It)|0;var Us=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(Us>>>26)|0,Us&=67108863,w=Math.imul(Pt,pe),h=Math.imul(Pt,we),h=h+Math.imul(ye,pe)|0,x=Math.imul(ye,we),w=w+Math.imul(Pe,tt)|0,h=h+Math.imul(Pe,rt)|0,h=h+Math.imul(ht,tt)|0,x=x+Math.imul(ht,rt)|0,w=w+Math.imul(fe,Ke)|0,h=h+Math.imul(fe,It)|0,h=h+Math.imul(Ie,Ke)|0,x=x+Math.imul(Ie,It)|0,w=w+Math.imul(q,Rt)|0,h=h+Math.imul(q,Ge)|0,h=h+Math.imul(re,Rt)|0,x=x+Math.imul(re,Ge)|0;var zs=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(zs>>>26)|0,zs&=67108863,w=Math.imul(Ce,pe),h=Math.imul(Ce,we),h=h+Math.imul(Re,pe)|0,x=Math.imul(Re,we),w=w+Math.imul(Pt,tt)|0,h=h+Math.imul(Pt,rt)|0,h=h+Math.imul(ye,tt)|0,x=x+Math.imul(ye,rt)|0,w=w+Math.imul(Pe,Ke)|0,h=h+Math.imul(Pe,It)|0,h=h+Math.imul(ht,Ke)|0,x=x+Math.imul(ht,It)|0,w=w+Math.imul(fe,Rt)|0,h=h+Math.imul(fe,Ge)|0,h=h+Math.imul(Ie,Rt)|0,x=x+Math.imul(Ie,Ge)|0,w=w+Math.imul(q,pt)|0,h=h+Math.imul(q,H)|0,h=h+Math.imul(re,pt)|0,x=x+Math.imul(re,H)|0;var $s=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+($s>>>26)|0,$s&=67108863,w=Math.imul(Me,pe),h=Math.imul(Me,we),h=h+Math.imul(Te,pe)|0,x=Math.imul(Te,we),w=w+Math.imul(Ce,tt)|0,h=h+Math.imul(Ce,rt)|0,h=h+Math.imul(Re,tt)|0,x=x+Math.imul(Re,rt)|0,w=w+Math.imul(Pt,Ke)|0,h=h+Math.imul(Pt,It)|0,h=h+Math.imul(ye,Ke)|0,x=x+Math.imul(ye,It)|0,w=w+Math.imul(Pe,Rt)|0,h=h+Math.imul(Pe,Ge)|0,h=h+Math.imul(ht,Rt)|0,x=x+Math.imul(ht,Ge)|0,w=w+Math.imul(fe,pt)|0,h=h+Math.imul(fe,H)|0,h=h+Math.imul(Ie,pt)|0,x=x+Math.imul(Ie,H)|0,w=w+Math.imul(q,O)|0,h=h+Math.imul(q,J)|0,h=h+Math.imul(re,O)|0,x=x+Math.imul(re,J)|0;var Ja=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(Ja>>>26)|0,Ja&=67108863,w=Math.imul(Se,pe),h=Math.imul(Se,we),h=h+Math.imul(We,pe)|0,x=Math.imul(We,we),w=w+Math.imul(Me,tt)|0,h=h+Math.imul(Me,rt)|0,h=h+Math.imul(Te,tt)|0,x=x+Math.imul(Te,rt)|0,w=w+Math.imul(Ce,Ke)|0,h=h+Math.imul(Ce,It)|0,h=h+Math.imul(Re,Ke)|0,x=x+Math.imul(Re,It)|0,w=w+Math.imul(Pt,Rt)|0,h=h+Math.imul(Pt,Ge)|0,h=h+Math.imul(ye,Rt)|0,x=x+Math.imul(ye,Ge)|0,w=w+Math.imul(Pe,pt)|0,h=h+Math.imul(Pe,H)|0,h=h+Math.imul(ht,pt)|0,x=x+Math.imul(ht,H)|0,w=w+Math.imul(fe,O)|0,h=h+Math.imul(fe,J)|0,h=h+Math.imul(Ie,O)|0,x=x+Math.imul(Ie,J)|0,w=w+Math.imul(q,me)|0,h=h+Math.imul(q,Ae)|0,h=h+Math.imul(re,me)|0,x=x+Math.imul(re,Ae)|0;var el=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(el>>>26)|0,el&=67108863,w=Math.imul(Qe,pe),h=Math.imul(Qe,we),h=h+Math.imul(Ue,pe)|0,x=Math.imul(Ue,we),w=w+Math.imul(Se,tt)|0,h=h+Math.imul(Se,rt)|0,h=h+Math.imul(We,tt)|0,x=x+Math.imul(We,rt)|0,w=w+Math.imul(Me,Ke)|0,h=h+Math.imul(Me,It)|0,h=h+Math.imul(Te,Ke)|0,x=x+Math.imul(Te,It)|0,w=w+Math.imul(Ce,Rt)|0,h=h+Math.imul(Ce,Ge)|0,h=h+Math.imul(Re,Rt)|0,x=x+Math.imul(Re,Ge)|0,w=w+Math.imul(Pt,pt)|0,h=h+Math.imul(Pt,H)|0,h=h+Math.imul(ye,pt)|0,x=x+Math.imul(ye,H)|0,w=w+Math.imul(Pe,O)|0,h=h+Math.imul(Pe,J)|0,h=h+Math.imul(ht,O)|0,x=x+Math.imul(ht,J)|0,w=w+Math.imul(fe,me)|0,h=h+Math.imul(fe,Ae)|0,h=h+Math.imul(Ie,me)|0,x=x+Math.imul(Ie,Ae)|0,w=w+Math.imul(q,St)|0,h=h+Math.imul(q,bt)|0,h=h+Math.imul(re,St)|0,x=x+Math.imul(re,bt)|0;var tn=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(tn>>>26)|0,tn&=67108863,w=Math.imul(nt,pe),h=Math.imul(nt,we),h=h+Math.imul(W,pe)|0,x=Math.imul(W,we),w=w+Math.imul(Qe,tt)|0,h=h+Math.imul(Qe,rt)|0,h=h+Math.imul(Ue,tt)|0,x=x+Math.imul(Ue,rt)|0,w=w+Math.imul(Se,Ke)|0,h=h+Math.imul(Se,It)|0,h=h+Math.imul(We,Ke)|0,x=x+Math.imul(We,It)|0,w=w+Math.imul(Me,Rt)|0,h=h+Math.imul(Me,Ge)|0,h=h+Math.imul(Te,Rt)|0,x=x+Math.imul(Te,Ge)|0,w=w+Math.imul(Ce,pt)|0,h=h+Math.imul(Ce,H)|0,h=h+Math.imul(Re,pt)|0,x=x+Math.imul(Re,H)|0,w=w+Math.imul(Pt,O)|0,h=h+Math.imul(Pt,J)|0,h=h+Math.imul(ye,O)|0,x=x+Math.imul(ye,J)|0,w=w+Math.imul(Pe,me)|0,h=h+Math.imul(Pe,Ae)|0,h=h+Math.imul(ht,me)|0,x=x+Math.imul(ht,Ae)|0,w=w+Math.imul(fe,St)|0,h=h+Math.imul(fe,bt)|0,h=h+Math.imul(Ie,St)|0,x=x+Math.imul(Ie,bt)|0,w=w+Math.imul(q,xt)|0,h=h+Math.imul(q,gn)|0,h=h+Math.imul(re,xt)|0,x=x+Math.imul(re,gn)|0;var tl=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(tl>>>26)|0,tl&=67108863,w=Math.imul(R,pe),h=Math.imul(R,we),h=h+Math.imul(X,pe)|0,x=Math.imul(X,we),w=w+Math.imul(nt,tt)|0,h=h+Math.imul(nt,rt)|0,h=h+Math.imul(W,tt)|0,x=x+Math.imul(W,rt)|0,w=w+Math.imul(Qe,Ke)|0,h=h+Math.imul(Qe,It)|0,h=h+Math.imul(Ue,Ke)|0,x=x+Math.imul(Ue,It)|0,w=w+Math.imul(Se,Rt)|0,h=h+Math.imul(Se,Ge)|0,h=h+Math.imul(We,Rt)|0,x=x+Math.imul(We,Ge)|0,w=w+Math.imul(Me,pt)|0,h=h+Math.imul(Me,H)|0,h=h+Math.imul(Te,pt)|0,x=x+Math.imul(Te,H)|0,w=w+Math.imul(Ce,O)|0,h=h+Math.imul(Ce,J)|0,h=h+Math.imul(Re,O)|0,x=x+Math.imul(Re,J)|0,w=w+Math.imul(Pt,me)|0,h=h+Math.imul(Pt,Ae)|0,h=h+Math.imul(ye,me)|0,x=x+Math.imul(ye,Ae)|0,w=w+Math.imul(Pe,St)|0,h=h+Math.imul(Pe,bt)|0,h=h+Math.imul(ht,St)|0,x=x+Math.imul(ht,bt)|0,w=w+Math.imul(fe,xt)|0,h=h+Math.imul(fe,gn)|0,h=h+Math.imul(Ie,xt)|0,x=x+Math.imul(Ie,gn)|0,w=w+Math.imul(q,cn)|0,h=h+Math.imul(q,un)|0,h=h+Math.imul(re,cn)|0,x=x+Math.imul(re,un)|0;var Ji=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,w=Math.imul(R,tt),h=Math.imul(R,rt),h=h+Math.imul(X,tt)|0,x=Math.imul(X,rt),w=w+Math.imul(nt,Ke)|0,h=h+Math.imul(nt,It)|0,h=h+Math.imul(W,Ke)|0,x=x+Math.imul(W,It)|0,w=w+Math.imul(Qe,Rt)|0,h=h+Math.imul(Qe,Ge)|0,h=h+Math.imul(Ue,Rt)|0,x=x+Math.imul(Ue,Ge)|0,w=w+Math.imul(Se,pt)|0,h=h+Math.imul(Se,H)|0,h=h+Math.imul(We,pt)|0,x=x+Math.imul(We,H)|0,w=w+Math.imul(Me,O)|0,h=h+Math.imul(Me,J)|0,h=h+Math.imul(Te,O)|0,x=x+Math.imul(Te,J)|0,w=w+Math.imul(Ce,me)|0,h=h+Math.imul(Ce,Ae)|0,h=h+Math.imul(Re,me)|0,x=x+Math.imul(Re,Ae)|0,w=w+Math.imul(Pt,St)|0,h=h+Math.imul(Pt,bt)|0,h=h+Math.imul(ye,St)|0,x=x+Math.imul(ye,bt)|0,w=w+Math.imul(Pe,xt)|0,h=h+Math.imul(Pe,gn)|0,h=h+Math.imul(ht,xt)|0,x=x+Math.imul(ht,gn)|0,w=w+Math.imul(fe,cn)|0,h=h+Math.imul(fe,un)|0,h=h+Math.imul(Ie,cn)|0,x=x+Math.imul(Ie,un)|0;var Vs=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(Vs>>>26)|0,Vs&=67108863,w=Math.imul(R,Ke),h=Math.imul(R,It),h=h+Math.imul(X,Ke)|0,x=Math.imul(X,It),w=w+Math.imul(nt,Rt)|0,h=h+Math.imul(nt,Ge)|0,h=h+Math.imul(W,Rt)|0,x=x+Math.imul(W,Ge)|0,w=w+Math.imul(Qe,pt)|0,h=h+Math.imul(Qe,H)|0,h=h+Math.imul(Ue,pt)|0,x=x+Math.imul(Ue,H)|0,w=w+Math.imul(Se,O)|0,h=h+Math.imul(Se,J)|0,h=h+Math.imul(We,O)|0,x=x+Math.imul(We,J)|0,w=w+Math.imul(Me,me)|0,h=h+Math.imul(Me,Ae)|0,h=h+Math.imul(Te,me)|0,x=x+Math.imul(Te,Ae)|0,w=w+Math.imul(Ce,St)|0,h=h+Math.imul(Ce,bt)|0,h=h+Math.imul(Re,St)|0,x=x+Math.imul(Re,bt)|0,w=w+Math.imul(Pt,xt)|0,h=h+Math.imul(Pt,gn)|0,h=h+Math.imul(ye,xt)|0,x=x+Math.imul(ye,gn)|0,w=w+Math.imul(Pe,cn)|0,h=h+Math.imul(Pe,un)|0,h=h+Math.imul(ht,cn)|0,x=x+Math.imul(ht,un)|0;var li=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(li>>>26)|0,li&=67108863,w=Math.imul(R,Rt),h=Math.imul(R,Ge),h=h+Math.imul(X,Rt)|0,x=Math.imul(X,Ge),w=w+Math.imul(nt,pt)|0,h=h+Math.imul(nt,H)|0,h=h+Math.imul(W,pt)|0,x=x+Math.imul(W,H)|0,w=w+Math.imul(Qe,O)|0,h=h+Math.imul(Qe,J)|0,h=h+Math.imul(Ue,O)|0,x=x+Math.imul(Ue,J)|0,w=w+Math.imul(Se,me)|0,h=h+Math.imul(Se,Ae)|0,h=h+Math.imul(We,me)|0,x=x+Math.imul(We,Ae)|0,w=w+Math.imul(Me,St)|0,h=h+Math.imul(Me,bt)|0,h=h+Math.imul(Te,St)|0,x=x+Math.imul(Te,bt)|0,w=w+Math.imul(Ce,xt)|0,h=h+Math.imul(Ce,gn)|0,h=h+Math.imul(Re,xt)|0,x=x+Math.imul(Re,gn)|0,w=w+Math.imul(Pt,cn)|0,h=h+Math.imul(Pt,un)|0,h=h+Math.imul(ye,cn)|0,x=x+Math.imul(ye,un)|0;var nl=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(nl>>>26)|0,nl&=67108863,w=Math.imul(R,pt),h=Math.imul(R,H),h=h+Math.imul(X,pt)|0,x=Math.imul(X,H),w=w+Math.imul(nt,O)|0,h=h+Math.imul(nt,J)|0,h=h+Math.imul(W,O)|0,x=x+Math.imul(W,J)|0,w=w+Math.imul(Qe,me)|0,h=h+Math.imul(Qe,Ae)|0,h=h+Math.imul(Ue,me)|0,x=x+Math.imul(Ue,Ae)|0,w=w+Math.imul(Se,St)|0,h=h+Math.imul(Se,bt)|0,h=h+Math.imul(We,St)|0,x=x+Math.imul(We,bt)|0,w=w+Math.imul(Me,xt)|0,h=h+Math.imul(Me,gn)|0,h=h+Math.imul(Te,xt)|0,x=x+Math.imul(Te,gn)|0,w=w+Math.imul(Ce,cn)|0,h=h+Math.imul(Ce,un)|0,h=h+Math.imul(Re,cn)|0,x=x+Math.imul(Re,un)|0;var Ws=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,w=Math.imul(R,O),h=Math.imul(R,J),h=h+Math.imul(X,O)|0,x=Math.imul(X,J),w=w+Math.imul(nt,me)|0,h=h+Math.imul(nt,Ae)|0,h=h+Math.imul(W,me)|0,x=x+Math.imul(W,Ae)|0,w=w+Math.imul(Qe,St)|0,h=h+Math.imul(Qe,bt)|0,h=h+Math.imul(Ue,St)|0,x=x+Math.imul(Ue,bt)|0,w=w+Math.imul(Se,xt)|0,h=h+Math.imul(Se,gn)|0,h=h+Math.imul(We,xt)|0,x=x+Math.imul(We,gn)|0,w=w+Math.imul(Me,cn)|0,h=h+Math.imul(Me,un)|0,h=h+Math.imul(Te,cn)|0,x=x+Math.imul(Te,un)|0;var ci=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(ci>>>26)|0,ci&=67108863,w=Math.imul(R,me),h=Math.imul(R,Ae),h=h+Math.imul(X,me)|0,x=Math.imul(X,Ae),w=w+Math.imul(nt,St)|0,h=h+Math.imul(nt,bt)|0,h=h+Math.imul(W,St)|0,x=x+Math.imul(W,bt)|0,w=w+Math.imul(Qe,xt)|0,h=h+Math.imul(Qe,gn)|0,h=h+Math.imul(Ue,xt)|0,x=x+Math.imul(Ue,gn)|0,w=w+Math.imul(Se,cn)|0,h=h+Math.imul(Se,un)|0,h=h+Math.imul(We,cn)|0,x=x+Math.imul(We,un)|0;var cr=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,w=Math.imul(R,St),h=Math.imul(R,bt),h=h+Math.imul(X,St)|0,x=Math.imul(X,bt),w=w+Math.imul(nt,xt)|0,h=h+Math.imul(nt,gn)|0,h=h+Math.imul(W,xt)|0,x=x+Math.imul(W,gn)|0,w=w+Math.imul(Qe,cn)|0,h=h+Math.imul(Qe,un)|0,h=h+Math.imul(Ue,cn)|0,x=x+Math.imul(Ue,un)|0;var rl=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(rl>>>26)|0,rl&=67108863,w=Math.imul(R,xt),h=Math.imul(R,gn),h=h+Math.imul(X,xt)|0,x=Math.imul(X,gn),w=w+Math.imul(nt,cn)|0,h=h+Math.imul(nt,un)|0,h=h+Math.imul(W,cn)|0,x=x+Math.imul(W,un)|0;var nr=(b+w|0)+((h&8191)<<13)|0;b=(x+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,w=Math.imul(R,cn),h=Math.imul(R,un),h=h+Math.imul(X,cn)|0,x=Math.imul(X,un);var ol=(b+w|0)+((h&8191)<<13)|0;return b=(x+(h>>>13)|0)+(ol>>>26)|0,ol&=67108863,N[0]=Qa,N[1]=Fs,N[2]=Us,N[3]=zs,N[4]=$s,N[5]=Ja,N[6]=el,N[7]=tn,N[8]=tl,N[9]=Ji,N[10]=Vs,N[11]=li,N[12]=nl,N[13]=Ws,N[14]=ci,N[15]=cr,N[16]=rl,N[17]=nr,N[18]=ol,b!==0&&(N[19]=b,E.length++),E};Math.imul||(K=z);function F(D,f,y){y.negative=f.negative^D.negative,y.length=D.length+f.length;for(var E=0,U=0,L=0;L<y.length-1;L++){var N=U;U=0;for(var b=E&67108863,w=Math.min(L,f.length-1),h=Math.max(0,L-D.length+1);h<=w;h++){var x=L-h,j=D.words[x]|0,q=f.words[h]|0,re=j*q,le=re&67108863;N=N+(re/67108864|0)|0,le=le+b|0,b=le&67108863,N=N+(le>>>26)|0,U+=N>>>26,N&=67108863}y.words[L]=b,E=N,N=U}return E!==0?y.words[L]=E:y.length--,y._strip()}function Y(D,f,y){return F(D,f,y)}s.prototype.mulTo=function(f,y){var E,U=this.length+f.length;return this.length===10&&f.length===10?E=K(this,f,y):U<63?E=z(this,f,y):U<1024?E=F(this,f,y):E=Y(this,f,y),E},s.prototype.mul=function(f){var y=new s(null);return y.words=new Array(this.length+f.length),this.mulTo(f,y)},s.prototype.mulf=function(f){var y=new s(null);return y.words=new Array(this.length+f.length),Y(this,f,y)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var y=f<0;y&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var E=0,U=0;U<this.length;U++){var L=(this.words[U]|0)*f,N=(L&67108863)+(E&67108863);E>>=26,E+=L/67108864|0,E+=N>>>26,this.words[U]=N&67108863}return E!==0&&(this.words[U]=E,this.length++),this.length=f===0?1:this.length,y?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var y=T(f);if(y.length===0)return new s(1);for(var E=this,U=0;U<y.length&&y[U]===0;U++,E=E.sqr());if(++U<y.length)for(var L=E.sqr();U<y.length;U++,L=L.sqr())y[U]!==0&&(E=E.mul(L));return E},s.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var y=f%26,E=(f-y)/26,U=67108863>>>26-y<<26-y,L;if(y!==0){var N=0;for(L=0;L<this.length;L++){var b=this.words[L]&U,w=(this.words[L]|0)-b<<y;this.words[L]=w|N,N=b>>>26-y}N&&(this.words[L]=N,this.length++)}if(E!==0){for(L=this.length-1;L>=0;L--)this.words[L+E]=this.words[L];for(L=0;L<E;L++)this.words[L]=0;this.length+=E}return this._strip()},s.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,y,E){r(typeof f=="number"&&f>=0);var U;y?U=(y-y%26)/26:U=0;var L=f%26,N=Math.min((f-L)/26,this.length),b=67108863^67108863>>>L<<L,w=E;if(U-=N,U=Math.max(0,U),w){for(var h=0;h<N;h++)w.words[h]=this.words[h];w.length=N}if(N!==0)if(this.length>N)for(this.length-=N,h=0;h<this.length;h++)this.words[h]=this.words[h+N];else this.words[0]=0,this.length=1;var x=0;for(h=this.length-1;h>=0&&(x!==0||h>=U);h--){var j=this.words[h]|0;this.words[h]=x<<26-L|j>>>L,x=j&b}return w&&x!==0&&(w.words[w.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,y,E){return r(this.negative===0),this.iushrn(f,y,E)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var y=f%26,E=(f-y)/26,U=1<<y;if(this.length<=E)return!1;var L=this.words[E];return!!(L&U)},s.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var y=f%26,E=(f-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(y!==0&&E++,this.length=Math.min(E,this.length),y!==0){var U=67108863^67108863>>>y<<y;this.words[this.length-1]&=U}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,y,E){var U=f.length+E,L;this._expand(U);var N,b=0;for(L=0;L<f.length;L++){N=(this.words[L+E]|0)+b;var w=(f.words[L]|0)*y;N-=w&67108863,b=(N>>26)-(w/67108864|0),this.words[L+E]=N&67108863}for(;L<this.length-E;L++)N=(this.words[L+E]|0)+b,b=N>>26,this.words[L+E]=N&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,L=0;L<this.length;L++)N=-(this.words[L]|0)+b,b=N>>26,this.words[L]=N&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,y){var E=this.length-f.length,U=this.clone(),L=f,N=L.words[L.length-1]|0,b=this._countBits(N);E=26-b,E!==0&&(L=L.ushln(E),U.iushln(E),N=L.words[L.length-1]|0);var w=U.length-L.length,h;if(y!=="mod"){h=new s(null),h.length=w+1,h.words=new Array(h.length);for(var x=0;x<h.length;x++)h.words[x]=0}var j=U.clone()._ishlnsubmul(L,1,w);j.negative===0&&(U=j,h&&(h.words[w]=1));for(var q=w-1;q>=0;q--){var re=(U.words[L.length+q]|0)*67108864+(U.words[L.length+q-1]|0);for(re=Math.min(re/N|0,67108863),U._ishlnsubmul(L,re,q);U.negative!==0;)re--,U.negative=0,U._ishlnsubmul(L,1,q),U.isZero()||(U.negative^=1);h&&(h.words[q]=re)}return h&&h._strip(),U._strip(),y!=="div"&&E!==0&&U.iushrn(E),{div:h||null,mod:U}},s.prototype.divmod=function(f,y,E){if(r(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var U,L,N;return this.negative!==0&&f.negative===0?(N=this.neg().divmod(f,y),y!=="mod"&&(U=N.div.neg()),y!=="div"&&(L=N.mod.neg(),E&&L.negative!==0&&L.iadd(f)),{div:U,mod:L}):this.negative===0&&f.negative!==0?(N=this.divmod(f.neg(),y),y!=="mod"&&(U=N.div.neg()),{div:U,mod:N.mod}):(this.negative&f.negative)!==0?(N=this.neg().divmod(f.neg(),y),y!=="div"&&(L=N.mod.neg(),E&&L.negative!==0&&L.isub(f)),{div:N.div,mod:L}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?y==="div"?{div:this.divn(f.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,y)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var y=this.divmod(f);if(y.mod.isZero())return y.div;var E=y.div.negative!==0?y.mod.isub(f):y.mod,U=f.ushrn(1),L=f.andln(1),N=E.cmp(U);return N<0||L===1&&N===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(f){var y=f<0;y&&(f=-f),r(f<=67108863);for(var E=(1<<26)%f,U=0,L=this.length-1;L>=0;L--)U=(E*U+(this.words[L]|0))%f;return y?-U:U},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var y=f<0;y&&(f=-f),r(f<=67108863);for(var E=0,U=this.length-1;U>=0;U--){var L=(this.words[U]|0)+E*67108864;this.words[U]=L/f|0,E=L%f}return this._strip(),y?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var y=this,E=f.clone();y.negative!==0?y=y.umod(f):y=y.clone();for(var U=new s(1),L=new s(0),N=new s(0),b=new s(1),w=0;y.isEven()&&E.isEven();)y.iushrn(1),E.iushrn(1),++w;for(var h=E.clone(),x=y.clone();!y.isZero();){for(var j=0,q=1;(y.words[0]&q)===0&&j<26;++j,q<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(U.isOdd()||L.isOdd())&&(U.iadd(h),L.isub(x)),U.iushrn(1),L.iushrn(1);for(var re=0,le=1;(E.words[0]&le)===0&&re<26;++re,le<<=1);if(re>0)for(E.iushrn(re);re-- >0;)(N.isOdd()||b.isOdd())&&(N.iadd(h),b.isub(x)),N.iushrn(1),b.iushrn(1);y.cmp(E)>=0?(y.isub(E),U.isub(N),L.isub(b)):(E.isub(y),N.isub(U),b.isub(L))}return{a:N,b,gcd:E.iushln(w)}},s.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var y=this,E=f.clone();y.negative!==0?y=y.umod(f):y=y.clone();for(var U=new s(1),L=new s(0),N=E.clone();y.cmpn(1)>0&&E.cmpn(1)>0;){for(var b=0,w=1;(y.words[0]&w)===0&&b<26;++b,w<<=1);if(b>0)for(y.iushrn(b);b-- >0;)U.isOdd()&&U.iadd(N),U.iushrn(1);for(var h=0,x=1;(E.words[0]&x)===0&&h<26;++h,x<<=1);if(h>0)for(E.iushrn(h);h-- >0;)L.isOdd()&&L.iadd(N),L.iushrn(1);y.cmp(E)>=0?(y.isub(E),U.isub(L)):(E.isub(y),L.isub(U))}var j;return y.cmpn(1)===0?j=U:j=L,j.cmpn(0)<0&&j.iadd(f),j},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var y=this.clone(),E=f.clone();y.negative=0,E.negative=0;for(var U=0;y.isEven()&&E.isEven();U++)y.iushrn(1),E.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;E.isEven();)E.iushrn(1);var L=y.cmp(E);if(L<0){var N=y;y=E,E=N}else if(L===0||E.cmpn(1)===0)break;y.isub(E)}while(!0);return E.iushln(U)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){r(typeof f=="number");var y=f%26,E=(f-y)/26,U=1<<y;if(this.length<=E)return this._expand(E+1),this.words[E]|=U,this;for(var L=U,N=E;L!==0&&N<this.length;N++){var b=this.words[N]|0;b+=L,L=b>>>26,b&=67108863,this.words[N]=b}return L!==0&&(this.words[N]=L,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var y=f<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var E;if(this.length>1)E=1;else{y&&(f=-f),r(f<=67108863,"Number is too big");var U=this.words[0]|0;E=U===f?0:U<f?-1:1}return this.negative!==0?-E|0:E},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var y=this.ucmp(f);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var y=0,E=this.length-1;E>=0;E--){var U=this.words[E]|0,L=f.words[E]|0;if(U!==L){U<L?y=-1:U>L&&(y=1);break}}return y},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new ee(f)},s.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var te={k256:null,p224:null,p192:null,p25519:null};function se(D,f){this.name=D,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}se.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},se.prototype.ireduce=function(f){var y=f,E;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),E=y.bitLength();while(E>this.n);var U=E<this.n?-1:y.ucmp(this.p);return U===0?(y.words[0]=0,y.length=1):U>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},se.prototype.split=function(f,y){f.iushrn(this.n,0,y)},se.prototype.imulK=function(f){return f.imul(this.k)};function ne(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ne,se),ne.prototype.split=function(f,y){for(var E=4194303,U=Math.min(f.length,9),L=0;L<U;L++)y.words[L]=f.words[L];if(y.length=U,f.length<=9){f.words[0]=0,f.length=1;return}var N=f.words[9];for(y.words[y.length++]=N&E,L=10;L<f.length;L++){var b=f.words[L]|0;f.words[L-10]=(b&E)<<4|N>>>22,N=b}N>>>=22,f.words[L-10]=N,N===0&&f.length>10?f.length-=10:f.length-=9},ne.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var y=0,E=0;E<f.length;E++){var U=f.words[E]|0;y+=U*977,f.words[E]=y&67108863,y=U*64+(y/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function ae(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ae,se);function Q(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Q,se);function Z(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,se),Z.prototype.imulK=function(f){for(var y=0,E=0;E<f.length;E++){var U=(f.words[E]|0)*19+y,L=U&67108863;U>>>=26,f.words[E]=L,y=U}return y!==0&&(f.words[f.length++]=y),f},s._prime=function(f){if(te[f])return te[f];var y;if(f==="k256")y=new ne;else if(f==="p224")y=new ae;else if(f==="p192")y=new Q;else if(f==="p25519")y=new Z;else throw new Error("Unknown prime "+f);return te[f]=y,y};function ee(D){if(typeof D=="string"){var f=s._prime(D);this.m=f.p,this.prime=f}else r(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}ee.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},ee.prototype._verify2=function(f,y){r((f.negative|y.negative)===0,"red works only with positives"),r(f.red&&f.red===y.red,"red works only with red numbers")},ee.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(m(f,f.umod(this.m)._forceRed(this)),f)},ee.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},ee.prototype.add=function(f,y){this._verify2(f,y);var E=f.add(y);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},ee.prototype.iadd=function(f,y){this._verify2(f,y);var E=f.iadd(y);return E.cmp(this.m)>=0&&E.isub(this.m),E},ee.prototype.sub=function(f,y){this._verify2(f,y);var E=f.sub(y);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},ee.prototype.isub=function(f,y){this._verify2(f,y);var E=f.isub(y);return E.cmpn(0)<0&&E.iadd(this.m),E},ee.prototype.shl=function(f,y){return this._verify1(f),this.imod(f.ushln(y))},ee.prototype.imul=function(f,y){return this._verify2(f,y),this.imod(f.imul(y))},ee.prototype.mul=function(f,y){return this._verify2(f,y),this.imod(f.mul(y))},ee.prototype.isqr=function(f){return this.imul(f,f.clone())},ee.prototype.sqr=function(f){return this.mul(f,f)},ee.prototype.sqrt=function(f){if(f.isZero())return f.clone();var y=this.m.andln(3);if(r(y%2===1),y===3){var E=this.m.add(new s(1)).iushrn(2);return this.pow(f,E)}for(var U=this.m.subn(1),L=0;!U.isZero()&&U.andln(1)===0;)L++,U.iushrn(1);r(!U.isZero());var N=new s(1).toRed(this),b=N.redNeg(),w=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);this.pow(h,w).cmp(b)!==0;)h.redIAdd(b);for(var x=this.pow(h,U),j=this.pow(f,U.addn(1).iushrn(1)),q=this.pow(f,U),re=L;q.cmp(N)!==0;){for(var le=q,fe=0;le.cmp(N)!==0;fe++)le=le.redSqr();r(fe<re);var Ie=this.pow(x,new s(1).iushln(re-fe-1));j=j.redMul(Ie),x=Ie.redSqr(),q=q.redMul(x),re=fe}return j},ee.prototype.invm=function(f){var y=f._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},ee.prototype.pow=function(f,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return f.clone();var E=4,U=new Array(1<<E);U[0]=new s(1).toRed(this),U[1]=f;for(var L=2;L<U.length;L++)U[L]=this.mul(U[L-1],f);var N=U[0],b=0,w=0,h=y.bitLength()%26;for(h===0&&(h=26),L=y.length-1;L>=0;L--){for(var x=y.words[L],j=h-1;j>=0;j--){var q=x>>j&1;if(N!==U[0]&&(N=this.sqr(N)),q===0&&b===0){w=0;continue}b<<=1,b|=q,w++,!(w!==E&&(L!==0||j!==0))&&(N=this.mul(N,U[b]),w=0,b=0)}h=26}return N},ee.prototype.convertTo=function(f){var y=f.umod(this.m);return y===f?y.clone():y},ee.prototype.convertFrom=function(f){var y=f.clone();return y.red=null,y},s.mont=function(f){return new V(f)};function V(D){ee.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(V,ee),V.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},V.prototype.convertFrom=function(f){var y=this.imod(f.mul(this.rinv));return y.red=null,y},V.prototype.imul=function(f,y){if(f.isZero()||y.isZero())return f.words[0]=0,f.length=1,f;var E=f.imul(y),U=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=E.isub(U).iushrn(this.shift),N=L;return L.cmp(this.m)>=0?N=L.isub(this.m):L.cmpn(0)<0&&(N=L.iadd(this.m)),N._forceRed(this)},V.prototype.mul=function(f,y){if(f.isZero()||y.isZero())return new s(0)._forceRed(this);var E=f.mul(y),U=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=E.isub(U).iushrn(this.shift),N=L;return L.cmp(this.m)>=0?N=L.isub(this.m):L.cmpn(0)<0&&(N=L.iadd(this.m)),N._forceRed(this)},V.prototype.invm=function(f){var y=this.imod(f._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(n,m8)})(ud)),ud.exports}var g8=Wg();const sr=Xi(g8);var qu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var f1;function y8(){return f1||(f1=1,(function(n,e){var t=Vg(),r=t.Buffer;function i(l,c){for(var d in l)c[d]=l[d]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=s);function s(l,c,d){return r(l,c,d)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(l,c,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,d)},s.alloc=function(l,c,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var p=r(l);return c!==void 0?typeof d=="string"?p.fill(c,d):p.fill(c):p.fill(0),p},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}})(qu,qu.exports)),qu.exports}var Dp,h1;function w8(){if(h1)return Dp;h1=1;var n=y8().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<t.length;s++){var l=t.charAt(s),c=l.charCodeAt(0);if(r[c]!==255)throw new TypeError(l+" is ambiguous");r[c]=s}var d=t.length,p=t.charAt(0),m=Math.log(d)/Math.log(256),k=Math.log(256)/Math.log(d);function _(I){if((Array.isArray(I)||I instanceof Uint8Array)&&(I=n.from(I)),!n.isBuffer(I))throw new TypeError("Expected Buffer");if(I.length===0)return"";for(var T=0,z=0,K=0,F=I.length;K!==F&&I[K]===0;)K++,T++;for(var Y=(F-K)*k+1>>>0,te=new Uint8Array(Y);K!==F;){for(var se=I[K],ne=0,ae=Y-1;(se!==0||ne<z)&&ae!==-1;ae--,ne++)se+=256*te[ae]>>>0,te[ae]=se%d>>>0,se=se/d>>>0;if(se!==0)throw new Error("Non-zero carry");z=ne,K++}for(var Q=Y-z;Q!==Y&&te[Q]===0;)Q++;for(var Z=p.repeat(T);Q<Y;++Q)Z+=t.charAt(te[Q]);return Z}function v(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return n.alloc(0);for(var T=0,z=0,K=0;I[T]===p;)z++,T++;for(var F=(I.length-T)*m+1>>>0,Y=new Uint8Array(F);T<I.length;){var te=I.charCodeAt(T);if(te>255)return;var se=r[te];if(se===255)return;for(var ne=0,ae=F-1;(se!==0||ne<K)&&ae!==-1;ae--,ne++)se+=d*Y[ae]>>>0,Y[ae]=se%256>>>0,se=se/256>>>0;if(se!==0)throw new Error("Non-zero carry");K=ne,T++}for(var Q=F-K;Q!==F&&Y[Q]===0;)Q++;var Z=n.allocUnsafe(z+(F-Q));Z.fill(0,0,z);for(var ee=z;Q!==F;)Z[ee++]=Y[Q++];return Z}function C(I){var T=v(I);if(T)return T;throw new Error("Non-base"+d+" character")}return{encode:_,decodeUnsafe:v,decode:C}}return Dp=e,Dp}var jp,p1;function PE(){if(p1)return jp;p1=1;var n=w8(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return jp=n(e),jp}var v8=PE();const xn=Xi(v8),Pd=aE;var qt={};function Zo(n,e,t){return e<=n&&n<=t}function hf(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function x8(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===t-1)i.push(65533);else{var l=n.charCodeAt(r+1);if(56320<=l&&l<=57343){var c=s&1023,d=l&1023;i.push(65536+(c<<10)+d),r+=1}else i.push(65533)}r+=1}return i}function b8(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Rd=-1;function Kg(n){this.tokens=[].slice.call(n)}Kg.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Rd},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var ja=-1;function Fp(n,e){if(n)throw TypeError("Decoder error");return e||65533}var Td="utf-8";function Cd(n,e){if(!(this instanceof Cd))return new Cd(n,e);if(n=n!==void 0?String(n).toLowerCase():Td,n!==Td)throw new Error("Encoding not supported. Only utf-8 is supported");e=hf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Cd.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=hf(t),this._streaming||(this._decoder=new k8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new Kg(r),s=[],l;!i.endOfStream()&&(l=this._decoder.handler(i,i.read()),l!==ja);)l!==null&&(Array.isArray(l)?s.push.apply(s,l):s.push(l));if(!this._streaming){do{if(l=this._decoder.handler(i,i.read()),l===ja)break;l!==null&&(Array.isArray(l)?s.push.apply(s,l):s.push(l))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),b8(s)}};function Nd(n,e){if(!(this instanceof Nd))return new Nd(n,e);if(n=n!==void 0?String(n).toLowerCase():Td,n!==Td)throw new Error("Encoding not supported. Only utf-8 is supported");e=hf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Nd.prototype={encode:function(e,t){e=e?String(e):"",t=hf(t),this._streaming||(this._encoder=new S8(this._options)),this._streaming=!!t.stream;for(var r=[],i=new Kg(x8(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==ja);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==ja;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function k8(n){var e=n.fatal,t=0,r=0,i=0,s=128,l=191;this.handler=function(c,d){if(d===Rd&&i!==0)return i=0,Fp(e);if(d===Rd)return ja;if(i===0){if(Zo(d,0,127))return d;if(Zo(d,194,223))i=1,t=d-192;else if(Zo(d,224,239))d===224&&(s=160),d===237&&(l=159),i=2,t=d-224;else if(Zo(d,240,244))d===240&&(s=144),d===244&&(l=143),i=3,t=d-240;else return Fp(e);return t=t<<6*i,null}if(!Zo(d,s,l))return t=i=r=0,s=128,l=191,c.prepend(d),Fp(e);if(s=128,l=191,r+=1,t+=d-128<<6*(i-r),r!==i)return null;var p=t;return t=i=r=0,p}}function S8(n){n.fatal,this.handler=function(e,t){if(t===Rd)return ja;if(Zo(t,0,127))return t;var r,i;Zo(t,128,2047)?(r=1,i=192):Zo(t,2048,65535)?(r=2,i=224):Zo(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var l=t>>6*(r-1);s.push(128|l&63),r-=1}return s}}const E8=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Cd,TextEncoder:Nd},Symbol.toStringTag,{value:"Module"})),A8=cg(E8);var m1;function _8(){if(m1)return qt;m1=1;var n=qt&&qt.__createBinding||(Object.create?(function(Q,Z,ee,V){V===void 0&&(V=ee),Object.defineProperty(Q,V,{enumerable:!0,get:function(){return Z[ee]}})}):(function(Q,Z,ee,V){V===void 0&&(V=ee),Q[V]=Z[ee]})),e=qt&&qt.__setModuleDefault||(Object.create?(function(Q,Z){Object.defineProperty(Q,"default",{enumerable:!0,value:Z})}):function(Q,Z){Q.default=Z}),t=qt&&qt.__decorate||function(Q,Z,ee,V){var D=arguments.length,f=D<3?Z:V===null?V=Object.getOwnPropertyDescriptor(Z,ee):V,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(Q,Z,ee,V);else for(var E=Q.length-1;E>=0;E--)(y=Q[E])&&(f=(D<3?y(f):D>3?y(Z,ee,f):y(Z,ee))||f);return D>3&&f&&Object.defineProperty(Z,ee,f),f},r=qt&&qt.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var Z={};if(Q!=null)for(var ee in Q)ee!=="default"&&Object.hasOwnProperty.call(Q,ee)&&n(Z,Q,ee);return e(Z,Q),Z},i=qt&&qt.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(qt,"__esModule",{value:!0}),qt.deserializeUnchecked=qt.deserialize=qt.serialize=qt.BinaryReader=qt.BinaryWriter=qt.BorshError=qt.baseDecode=qt.baseEncode=void 0;const s=i(Wg()),l=i(PE()),c=r(A8),d=typeof TextDecoder!="function"?c.TextDecoder:TextDecoder,p=new d("utf-8",{fatal:!0});function m(Q){return typeof Q=="string"&&(Q=ct.from(Q,"utf8")),l.default.encode(ct.from(Q))}qt.baseEncode=m;function k(Q){return ct.from(l.default.decode(Q))}qt.baseDecode=k;const _=1024;class v extends Error{constructor(Z){super(Z),this.fieldPath=[],this.originalMessage=Z}addToFieldPath(Z){this.fieldPath.splice(0,0,Z),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}qt.BorshError=v;class C{constructor(){this.buf=ct.alloc(_),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=ct.concat([this.buf,ct.alloc(_)]))}writeU8(Z){this.maybeResize(),this.buf.writeUInt8(Z,this.length),this.length+=1}writeU16(Z){this.maybeResize(),this.buf.writeUInt16LE(Z,this.length),this.length+=2}writeU32(Z){this.maybeResize(),this.buf.writeUInt32LE(Z,this.length),this.length+=4}writeU64(Z){this.maybeResize(),this.writeBuffer(ct.from(new s.default(Z).toArray("le",8)))}writeU128(Z){this.maybeResize(),this.writeBuffer(ct.from(new s.default(Z).toArray("le",16)))}writeU256(Z){this.maybeResize(),this.writeBuffer(ct.from(new s.default(Z).toArray("le",32)))}writeU512(Z){this.maybeResize(),this.writeBuffer(ct.from(new s.default(Z).toArray("le",64)))}writeBuffer(Z){this.buf=ct.concat([ct.from(this.buf.subarray(0,this.length)),Z,ct.alloc(_)]),this.length+=Z.length}writeString(Z){this.maybeResize();const ee=ct.from(Z,"utf8");this.writeU32(ee.length),this.writeBuffer(ee)}writeFixedArray(Z){this.writeBuffer(ct.from(Z))}writeArray(Z,ee){this.maybeResize(),this.writeU32(Z.length);for(const V of Z)this.maybeResize(),ee(V)}toArray(){return this.buf.subarray(0,this.length)}}qt.BinaryWriter=C;function I(Q,Z,ee){const V=ee.value;ee.value=function(...D){try{return V.apply(this,D)}catch(f){if(f instanceof RangeError){const y=f.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(y)>=0)throw new v("Reached the end of buffer when deserializing")}throw f}}}class T{constructor(Z){this.buf=Z,this.offset=0}readU8(){const Z=this.buf.readUInt8(this.offset);return this.offset+=1,Z}readU16(){const Z=this.buf.readUInt16LE(this.offset);return this.offset+=2,Z}readU32(){const Z=this.buf.readUInt32LE(this.offset);return this.offset+=4,Z}readU64(){const Z=this.readBuffer(8);return new s.default(Z,"le")}readU128(){const Z=this.readBuffer(16);return new s.default(Z,"le")}readU256(){const Z=this.readBuffer(32);return new s.default(Z,"le")}readU512(){const Z=this.readBuffer(64);return new s.default(Z,"le")}readBuffer(Z){if(this.offset+Z>this.buf.length)throw new v(`Expected buffer length ${Z} isn't within bounds`);const ee=this.buf.slice(this.offset,this.offset+Z);return this.offset+=Z,ee}readString(){const Z=this.readU32(),ee=this.readBuffer(Z);try{return p.decode(ee)}catch(V){throw new v(`Error decoding UTF-8 string: ${V}`)}}readFixedArray(Z){return new Uint8Array(this.readBuffer(Z))}readArray(Z){const ee=this.readU32(),V=Array();for(let D=0;D<ee;++D)V.push(Z());return V}}t([I],T.prototype,"readU8",null),t([I],T.prototype,"readU16",null),t([I],T.prototype,"readU32",null),t([I],T.prototype,"readU64",null),t([I],T.prototype,"readU128",null),t([I],T.prototype,"readU256",null),t([I],T.prototype,"readU512",null),t([I],T.prototype,"readString",null),t([I],T.prototype,"readFixedArray",null),t([I],T.prototype,"readArray",null),qt.BinaryReader=T;function z(Q){return Q.charAt(0).toUpperCase()+Q.slice(1)}function K(Q,Z,ee,V,D){try{if(typeof V=="string")D[`write${z(V)}`](ee);else if(V instanceof Array)if(typeof V[0]=="number"){if(ee.length!==V[0])throw new v(`Expecting byte array of length ${V[0]}, but got ${ee.length} bytes`);D.writeFixedArray(ee)}else if(V.length===2&&typeof V[1]=="number"){if(ee.length!==V[1])throw new v(`Expecting byte array of length ${V[1]}, but got ${ee.length} bytes`);for(let f=0;f<V[1];f++)K(Q,null,ee[f],V[0],D)}else D.writeArray(ee,f=>{K(Q,Z,f,V[0],D)});else if(V.kind!==void 0)switch(V.kind){case"option":{ee==null?D.writeU8(0):(D.writeU8(1),K(Q,Z,ee,V.type,D));break}case"map":{D.writeU32(ee.size),ee.forEach((f,y)=>{K(Q,Z,y,V.key,D),K(Q,Z,f,V.value,D)});break}default:throw new v(`FieldType ${V} unrecognized`)}else F(Q,ee,D)}catch(f){throw f instanceof v&&f.addToFieldPath(Z),f}}function F(Q,Z,ee){if(typeof Z.borshSerialize=="function"){Z.borshSerialize(ee);return}const V=Q.get(Z.constructor);if(!V)throw new v(`Class ${Z.constructor.name} is missing in schema`);if(V.kind==="struct")V.fields.map(([D,f])=>{K(Q,D,Z[D],f,ee)});else if(V.kind==="enum"){const D=Z[V.field];for(let f=0;f<V.values.length;++f){const[y,E]=V.values[f];if(y===D){ee.writeU8(f),K(Q,y,Z[y],E,ee);break}}}else throw new v(`Unexpected schema kind: ${V.kind} for ${Z.constructor.name}`)}function Y(Q,Z,ee=C){const V=new ee;return F(Q,Z,V),V.toArray()}qt.serialize=Y;function te(Q,Z,ee,V){try{if(typeof ee=="string")return V[`read${z(ee)}`]();if(ee instanceof Array){if(typeof ee[0]=="number")return V.readFixedArray(ee[0]);if(typeof ee[1]=="number"){const D=[];for(let f=0;f<ee[1];f++)D.push(te(Q,null,ee[0],V));return D}else return V.readArray(()=>te(Q,Z,ee[0],V))}if(ee.kind==="option")return V.readU8()?te(Q,Z,ee.type,V):void 0;if(ee.kind==="map"){let D=new Map;const f=V.readU32();for(let y=0;y<f;y++){const E=te(Q,Z,ee.key,V),U=te(Q,Z,ee.value,V);D.set(E,U)}return D}return se(Q,ee,V)}catch(D){throw D instanceof v&&D.addToFieldPath(Z),D}}function se(Q,Z,ee){if(typeof Z.borshDeserialize=="function")return Z.borshDeserialize(ee);const V=Q.get(Z);if(!V)throw new v(`Class ${Z.name} is missing in schema`);if(V.kind==="struct"){const D={};for(const[f,y]of Q.get(Z).fields)D[f]=te(Q,f,y,ee);return new Z(D)}if(V.kind==="enum"){const D=ee.readU8();if(D>=V.values.length)throw new v(`Enum index: ${D} is out of range`);const[f,y]=V.values[D],E=te(Q,f,y,ee);return new Z({[f]:E})}throw new v(`Unexpected schema kind: ${V.kind} for ${Z.constructor.name}`)}function ne(Q,Z,ee,V=T){const D=new V(ee),f=se(Q,Z,D);if(D.offset<ee.length)throw new v(`Unexpected ${ee.length-D.offset} bytes after deserialized data`);return f}qt.deserialize=ne;function ae(Q,Z,ee,V=T){const D=new V(ee);return se(Q,Z,D)}return qt.deserializeUnchecked=ae,qt}var Up=_8(),ke={},g1;function I8(){if(g1)return ke;g1=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.s16=ke.s8=ke.nu64be=ke.u48be=ke.u40be=ke.u32be=ke.u24be=ke.u16be=ke.nu64=ke.u48=ke.u40=ke.u32=ke.u24=ke.u16=ke.u8=ke.offset=ke.greedy=ke.Constant=ke.UTF8=ke.CString=ke.Blob=ke.Boolean=ke.BitField=ke.BitStructure=ke.VariantLayout=ke.Union=ke.UnionLayoutDiscriminator=ke.UnionDiscriminator=ke.Structure=ke.Sequence=ke.DoubleBE=ke.Double=ke.FloatBE=ke.Float=ke.NearInt64BE=ke.NearInt64=ke.NearUInt64BE=ke.NearUInt64=ke.IntBE=ke.Int=ke.UIntBE=ke.UInt=ke.OffsetLayout=ke.GreedyCount=ke.ExternalLayout=ke.bindConstructorLayout=ke.nameWithProperty=ke.Layout=ke.uint8ArrayToBuffer=ke.checkUint8Array=void 0,ke.constant=ke.utf8=ke.cstr=ke.blob=ke.unionLayoutDiscriminator=ke.union=ke.seq=ke.bits=ke.struct=ke.f64be=ke.f64=ke.f32be=ke.f32=ke.ns64be=ke.s48be=ke.s40be=ke.s32be=ke.s24be=ke.s16be=ke.ns64=ke.s48=ke.s40=ke.s32=ke.s24=void 0;const n=Vg();function e(h){if(!(h instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ke.checkUint8Array=e;function t(h){return e(h),n.Buffer.from(h.buffer,h.byteOffset,h.length)}ke.uint8ArrayToBuffer=t;class r{constructor(x,j){if(!Number.isInteger(x))throw new TypeError("span must be an integer");this.span=x,this.property=j}makeDestinationObject(){return{}}getSpan(x,j){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(x){const j=Object.create(this.constructor.prototype);return Object.assign(j,this),j.property=x,j}fromArray(x){}}ke.Layout=r;function i(h,x){return x.property?h+"["+x.property+"]":h}ke.nameWithProperty=i;function s(h,x){if(typeof h!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(h,"layout_"))throw new Error("Class is already bound to a layout");if(!(x&&x instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(x,"boundConstructor_"))throw new Error("layout is already bound to a constructor");h.layout_=x,x.boundConstructor_=h,x.makeDestinationObject=(()=>new h),Object.defineProperty(h.prototype,"encode",{value(j,q){return x.encode(this,j,q)},writable:!0}),Object.defineProperty(h,"decode",{value(j,q){return x.decode(j,q)},writable:!0})}ke.bindConstructorLayout=s;class l extends r{isCount(){throw new Error("ExternalLayout is abstract")}}ke.ExternalLayout=l;class c extends l{constructor(x=1,j){if(!Number.isInteger(x)||0>=x)throw new TypeError("elementSpan must be a (positive) integer");super(-1,j),this.elementSpan=x}isCount(){return!0}decode(x,j=0){e(x);const q=x.length-j;return Math.floor(q/this.elementSpan)}encode(x,j,q){return 0}}ke.GreedyCount=c;class d extends l{constructor(x,j=0,q){if(!(x instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(j))throw new TypeError("offset must be integer or undefined");super(x.span,q||x.property),this.layout=x,this.offset=j}isCount(){return this.layout instanceof p||this.layout instanceof m}decode(x,j=0){return this.layout.decode(x,j+this.offset)}encode(x,j,q=0){return this.layout.encode(x,j,q+this.offset)}}ke.OffsetLayout=d;class p extends r{constructor(x,j){if(super(x,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,j=0){return t(x).readUIntLE(j,this.span)}encode(x,j,q=0){return t(j).writeUIntLE(x,q,this.span),this.span}}ke.UInt=p;class m extends r{constructor(x,j){if(super(x,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,j=0){return t(x).readUIntBE(j,this.span)}encode(x,j,q=0){return t(j).writeUIntBE(x,q,this.span),this.span}}ke.UIntBE=m;class k extends r{constructor(x,j){if(super(x,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,j=0){return t(x).readIntLE(j,this.span)}encode(x,j,q=0){return t(j).writeIntLE(x,q,this.span),this.span}}ke.Int=k;class _ extends r{constructor(x,j){if(super(x,j),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,j=0){return t(x).readIntBE(j,this.span)}encode(x,j,q=0){return t(j).writeIntBE(x,q,this.span),this.span}}ke.IntBE=_;const v=Math.pow(2,32);function C(h){const x=Math.floor(h/v),j=h-x*v;return{hi32:x,lo32:j}}function I(h,x){return h*v+x}class T extends r{constructor(x){super(8,x)}decode(x,j=0){const q=t(x),re=q.readUInt32LE(j),le=q.readUInt32LE(j+4);return I(le,re)}encode(x,j,q=0){const re=C(x),le=t(j);return le.writeUInt32LE(re.lo32,q),le.writeUInt32LE(re.hi32,q+4),8}}ke.NearUInt64=T;class z extends r{constructor(x){super(8,x)}decode(x,j=0){const q=t(x),re=q.readUInt32BE(j),le=q.readUInt32BE(j+4);return I(re,le)}encode(x,j,q=0){const re=C(x),le=t(j);return le.writeUInt32BE(re.hi32,q),le.writeUInt32BE(re.lo32,q+4),8}}ke.NearUInt64BE=z;class K extends r{constructor(x){super(8,x)}decode(x,j=0){const q=t(x),re=q.readUInt32LE(j),le=q.readInt32LE(j+4);return I(le,re)}encode(x,j,q=0){const re=C(x),le=t(j);return le.writeUInt32LE(re.lo32,q),le.writeInt32LE(re.hi32,q+4),8}}ke.NearInt64=K;class F extends r{constructor(x){super(8,x)}decode(x,j=0){const q=t(x),re=q.readInt32BE(j),le=q.readUInt32BE(j+4);return I(re,le)}encode(x,j,q=0){const re=C(x),le=t(j);return le.writeInt32BE(re.hi32,q),le.writeUInt32BE(re.lo32,q+4),8}}ke.NearInt64BE=F;class Y extends r{constructor(x){super(4,x)}decode(x,j=0){return t(x).readFloatLE(j)}encode(x,j,q=0){return t(j).writeFloatLE(x,q),4}}ke.Float=Y;class te extends r{constructor(x){super(4,x)}decode(x,j=0){return t(x).readFloatBE(j)}encode(x,j,q=0){return t(j).writeFloatBE(x,q),4}}ke.FloatBE=te;class se extends r{constructor(x){super(8,x)}decode(x,j=0){return t(x).readDoubleLE(j)}encode(x,j,q=0){return t(j).writeDoubleLE(x,q),8}}ke.Double=se;class ne extends r{constructor(x){super(8,x)}decode(x,j=0){return t(x).readDoubleBE(j)}encode(x,j,q=0){return t(j).writeDoubleBE(x,q),8}}ke.DoubleBE=ne;class ae extends r{constructor(x,j,q){if(!(x instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(j instanceof l&&j.isCount()||Number.isInteger(j)&&0<=j))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let re=-1;!(j instanceof l)&&0<x.span&&(re=j*x.span),super(re,q),this.elementLayout=x,this.count=j}getSpan(x,j=0){if(0<=this.span)return this.span;let q=0,re=this.count;if(re instanceof l&&(re=re.decode(x,j)),0<this.elementLayout.span)q=re*this.elementLayout.span;else{let le=0;for(;le<re;)q+=this.elementLayout.getSpan(x,j+q),++le}return q}decode(x,j=0){const q=[];let re=0,le=this.count;for(le instanceof l&&(le=le.decode(x,j));re<le;)q.push(this.elementLayout.decode(x,j)),j+=this.elementLayout.getSpan(x,j),re+=1;return q}encode(x,j,q=0){const re=this.elementLayout,le=x.reduce((fe,Ie)=>fe+re.encode(Ie,j,q+fe),0);return this.count instanceof l&&this.count.encode(x.length,j,q),le}}ke.Sequence=ae;class Q extends r{constructor(x,j,q){if(!(Array.isArray(x)&&x.reduce((le,fe)=>le&&fe instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof j=="boolean"&&q===void 0&&(q=j,j=void 0);for(const le of x)if(0>le.span&&le.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let re=-1;try{re=x.reduce((le,fe)=>le+fe.getSpan(),0)}catch{}super(re,j),this.fields=x,this.decodePrefixes=!!q}getSpan(x,j=0){if(0<=this.span)return this.span;let q=0;try{q=this.fields.reduce((re,le)=>{const fe=le.getSpan(x,j);return j+=fe,re+fe},0)}catch{throw new RangeError("indeterminate span")}return q}decode(x,j=0){e(x);const q=this.makeDestinationObject();for(const re of this.fields)if(re.property!==void 0&&(q[re.property]=re.decode(x,j)),j+=re.getSpan(x,j),this.decodePrefixes&&x.length===j)break;return q}encode(x,j,q=0){const re=q;let le=0,fe=0;for(const Ie of this.fields){let Ze=Ie.span;if(fe=0<Ze?Ze:0,Ie.property!==void 0){const Pe=x[Ie.property];Pe!==void 0&&(fe=Ie.encode(Pe,j,q),0>Ze&&(Ze=Ie.getSpan(j,q)))}le=q,q+=Ze}return le+fe-re}fromArray(x){const j=this.makeDestinationObject();for(const q of this.fields)q.property!==void 0&&0<x.length&&(j[q.property]=x.shift());return j}layoutFor(x){if(typeof x!="string")throw new TypeError("property must be string");for(const j of this.fields)if(j.property===x)return j}offsetOf(x){if(typeof x!="string")throw new TypeError("property must be string");let j=0;for(const q of this.fields){if(q.property===x)return j;0>q.span?j=-1:0<=j&&(j+=q.span)}}}ke.Structure=Q;class Z{constructor(x){this.property=x}decode(x,j){throw new Error("UnionDiscriminator is abstract")}encode(x,j,q){throw new Error("UnionDiscriminator is abstract")}}ke.UnionDiscriminator=Z;class ee extends Z{constructor(x,j){if(!(x instanceof l&&x.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(j||x.property||"variant"),this.layout=x}decode(x,j){return this.layout.decode(x,j)}encode(x,j,q){return this.layout.encode(x,j,q)}}ke.UnionLayoutDiscriminator=ee;class V extends r{constructor(x,j,q){let re;if(x instanceof p||x instanceof m)re=new ee(new d(x));else if(x instanceof l&&x.isCount())re=new ee(x);else if(x instanceof Z)re=x;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(j===void 0&&(j=null),!(j===null||j instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(j!==null){if(0>j.span)throw new Error("defaultLayout must have constant span");j.property===void 0&&(j=j.replicate("content"))}let le=-1;j&&(le=j.span,0<=le&&(x instanceof p||x instanceof m)&&(le+=re.layout.span)),super(le,q),this.discriminator=re,this.usesPrefixDiscriminator=x instanceof p||x instanceof m,this.defaultLayout=j,this.registry={};let fe=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Ie){return fe(Ie)},this.configGetSourceVariant=function(Ie){fe=Ie.bind(this)}}getSpan(x,j=0){if(0<=this.span)return this.span;const q=this.getVariant(x,j);if(!q)throw new Error("unable to determine span for unrecognized variant");return q.getSpan(x,j)}defaultGetSourceVariant(x){if(Object.prototype.hasOwnProperty.call(x,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(x,this.defaultLayout.property))return;const j=this.registry[x[this.discriminator.property]];if(j&&(!j.layout||j.property&&Object.prototype.hasOwnProperty.call(x,j.property)))return j}else for(const j in this.registry){const q=this.registry[j];if(q.property&&Object.prototype.hasOwnProperty.call(x,q.property))return q}throw new Error("unable to infer src variant")}decode(x,j=0){let q;const re=this.discriminator,le=re.decode(x,j),fe=this.registry[le];if(fe===void 0){const Ie=this.defaultLayout;let Ze=0;this.usesPrefixDiscriminator&&(Ze=re.layout.span),q=this.makeDestinationObject(),q[re.property]=le,q[Ie.property]=Ie.decode(x,j+Ze)}else q=fe.decode(x,j);return q}encode(x,j,q=0){const re=this.getSourceVariant(x);if(re===void 0){const le=this.discriminator,fe=this.defaultLayout;let Ie=0;return this.usesPrefixDiscriminator&&(Ie=le.layout.span),le.encode(x[le.property],j,q),Ie+fe.encode(x[fe.property],j,q+Ie)}return re.encode(x,j,q)}addVariant(x,j,q){const re=new D(this,x,j,q);return this.registry[x]=re,re}getVariant(x,j=0){let q;return x instanceof Uint8Array?q=this.discriminator.decode(x,j):q=x,this.registry[q]}}ke.Union=V;class D extends r{constructor(x,j,q,re){if(!(x instanceof V))throw new TypeError("union must be a Union");if(!Number.isInteger(j)||0>j)throw new TypeError("variant must be a (non-negative) integer");if(typeof q=="string"&&re===void 0&&(re=q,q=null),q){if(!(q instanceof r))throw new TypeError("layout must be a Layout");if(x.defaultLayout!==null&&0<=q.span&&q.span>x.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof re!="string")throw new TypeError("variant must have a String property")}let le=x.span;0>x.span&&(le=q?q.span:0,0<=le&&x.usesPrefixDiscriminator&&(le+=x.discriminator.layout.span)),super(le,re),this.union=x,this.variant=j,this.layout=q||null}getSpan(x,j=0){if(0<=this.span)return this.span;let q=0;this.union.usesPrefixDiscriminator&&(q=this.union.discriminator.layout.span);let re=0;return this.layout&&(re=this.layout.getSpan(x,j+q)),q+re}decode(x,j=0){const q=this.makeDestinationObject();if(this!==this.union.getVariant(x,j))throw new Error("variant mismatch");let re=0;return this.union.usesPrefixDiscriminator&&(re=this.union.discriminator.layout.span),this.layout?q[this.property]=this.layout.decode(x,j+re):this.property?q[this.property]=!0:this.union.usesPrefixDiscriminator&&(q[this.union.discriminator.property]=this.variant),q}encode(x,j,q=0){let re=0;if(this.union.usesPrefixDiscriminator&&(re=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(x,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,j,q);let le=re;if(this.layout&&(this.layout.encode(x[this.property],j,q+re),le+=this.layout.getSpan(j,q+re),0<=this.union.span&&le>this.union.span))throw new Error("encoded variant overruns containing union");return le}fromArray(x){if(this.layout)return this.layout.fromArray(x)}}ke.VariantLayout=D;function f(h){return 0>h&&(h+=4294967296),h}class y extends r{constructor(x,j,q){if(!(x instanceof p||x instanceof m))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof j=="string"&&q===void 0&&(q=j,j=!1),4<x.span)throw new RangeError("word cannot exceed 32 bits");super(x.span,q),this.word=x,this.msb=!!j,this.fields=[];let re=0;this._packedSetValue=function(le){return re=f(le),this},this._packedGetValue=function(){return re}}decode(x,j=0){const q=this.makeDestinationObject(),re=this.word.decode(x,j);this._packedSetValue(re);for(const le of this.fields)le.property!==void 0&&(q[le.property]=le.decode(x));return q}encode(x,j,q=0){const re=this.word.decode(j,q);this._packedSetValue(re);for(const le of this.fields)if(le.property!==void 0){const fe=x[le.property];fe!==void 0&&le.encode(fe)}return this.word.encode(this._packedGetValue(),j,q)}addField(x,j){const q=new E(this,x,j);return this.fields.push(q),q}addBoolean(x){const j=new U(this,x);return this.fields.push(j),j}fieldFor(x){if(typeof x!="string")throw new TypeError("property must be string");for(const j of this.fields)if(j.property===x)return j}}ke.BitStructure=y;class E{constructor(x,j,q){if(!(x instanceof y))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(j)||0>=j)throw new TypeError("bits must be positive integer");const re=8*x.span,le=x.fields.reduce((fe,Ie)=>fe+Ie.bits,0);if(j+le>re)throw new Error("bits too long for span remainder ("+(re-le)+" of "+re+" remain)");this.container=x,this.bits=j,this.valueMask=(1<<j)-1,j===32&&(this.valueMask=4294967295),this.start=le,this.container.msb&&(this.start=re-le-j),this.wordMask=f(this.valueMask<<this.start),this.property=q}decode(x,j){const q=this.container._packedGetValue();return f(q&this.wordMask)>>>this.start}encode(x){if(typeof x!="number"||!Number.isInteger(x)||x!==f(x&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const j=this.container._packedGetValue(),q=f(x<<this.start);this.container._packedSetValue(f(j&~this.wordMask)|q)}}ke.BitField=E;class U extends E{constructor(x,j){super(x,1,j)}decode(x,j){return!!super.decode(x,j)}encode(x){typeof x=="boolean"&&(x=+x),super.encode(x)}}ke.Boolean=U;class L extends r{constructor(x,j){if(!(x instanceof l&&x.isCount()||Number.isInteger(x)&&0<=x))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let q=-1;x instanceof l||(q=x),super(q,j),this.length=x}getSpan(x,j){let q=this.span;return 0>q&&(q=this.length.decode(x,j)),q}decode(x,j=0){let q=this.span;return 0>q&&(q=this.length.decode(x,j)),t(x).slice(j,j+q)}encode(x,j,q){let re=this.length;if(this.length instanceof l&&(re=x.length),!(x instanceof Uint8Array&&re===x.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+re+") Uint8Array as src");if(q+re>j.length)throw new RangeError("encoding overruns Uint8Array");const le=t(x);return t(j).write(le.toString("hex"),q,re,"hex"),this.length instanceof l&&this.length.encode(re,j,q),re}}ke.Blob=L;class N extends r{constructor(x){super(-1,x)}getSpan(x,j=0){e(x);let q=j;for(;q<x.length&&x[q]!==0;)q+=1;return 1+q-j}decode(x,j=0){const q=this.getSpan(x,j);return t(x).slice(j,j+q-1).toString("utf-8")}encode(x,j,q=0){typeof x!="string"&&(x=String(x));const re=n.Buffer.from(x,"utf8"),le=re.length;if(q+le>j.length)throw new RangeError("encoding overruns Buffer");const fe=t(j);return re.copy(fe,q),fe[q+le]=0,le+1}}ke.CString=N;class b extends r{constructor(x,j){if(typeof x=="string"&&j===void 0&&(j=x,x=void 0),x===void 0)x=-1;else if(!Number.isInteger(x))throw new TypeError("maxSpan must be an integer");super(-1,j),this.maxSpan=x}getSpan(x,j=0){return e(x),x.length-j}decode(x,j=0){const q=this.getSpan(x,j);if(0<=this.maxSpan&&this.maxSpan<q)throw new RangeError("text length exceeds maxSpan");return t(x).slice(j,j+q).toString("utf-8")}encode(x,j,q=0){typeof x!="string"&&(x=String(x));const re=n.Buffer.from(x,"utf8"),le=re.length;if(0<=this.maxSpan&&this.maxSpan<le)throw new RangeError("text length exceeds maxSpan");if(q+le>j.length)throw new RangeError("encoding overruns Buffer");return re.copy(t(j),q),le}}ke.UTF8=b;class w extends r{constructor(x,j){super(0,j),this.value=x}decode(x,j){return this.value}encode(x,j,q){return 0}}return ke.Constant=w,ke.greedy=((h,x)=>new c(h,x)),ke.offset=((h,x,j)=>new d(h,x,j)),ke.u8=(h=>new p(1,h)),ke.u16=(h=>new p(2,h)),ke.u24=(h=>new p(3,h)),ke.u32=(h=>new p(4,h)),ke.u40=(h=>new p(5,h)),ke.u48=(h=>new p(6,h)),ke.nu64=(h=>new T(h)),ke.u16be=(h=>new m(2,h)),ke.u24be=(h=>new m(3,h)),ke.u32be=(h=>new m(4,h)),ke.u40be=(h=>new m(5,h)),ke.u48be=(h=>new m(6,h)),ke.nu64be=(h=>new z(h)),ke.s8=(h=>new k(1,h)),ke.s16=(h=>new k(2,h)),ke.s24=(h=>new k(3,h)),ke.s32=(h=>new k(4,h)),ke.s40=(h=>new k(5,h)),ke.s48=(h=>new k(6,h)),ke.ns64=(h=>new K(h)),ke.s16be=(h=>new _(2,h)),ke.s24be=(h=>new _(3,h)),ke.s32be=(h=>new _(4,h)),ke.s40be=(h=>new _(5,h)),ke.s48be=(h=>new _(6,h)),ke.ns64be=(h=>new F(h)),ke.f32=(h=>new Y(h)),ke.f32be=(h=>new te(h)),ke.f64=(h=>new se(h)),ke.f64be=(h=>new ne(h)),ke.struct=((h,x,j)=>new Q(h,x,j)),ke.bits=((h,x,j)=>new y(h,x,j)),ke.seq=((h,x,j)=>new ae(h,x,j)),ke.union=((h,x,j)=>new V(h,x,j)),ke.unionLayoutDiscriminator=((h,x)=>new ee(h,x)),ke.blob=((h,x)=>new L(h,x)),ke.cstr=(h=>new N(h)),ke.utf8=((h,x)=>new b(h,x)),ke.constant=((h,x)=>new w(h,x)),ke}var oe=I8(),P8=8078e3,R8=8078001,T8=8078004,C8=8078005,N8=8078006,B8=8078011;function RE(n){return Array.isArray(n)?"%5B"+n.map(RE).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function M8([n,e]){return`${n}=${RE(e)}`}function L8(n){const e=Object.entries(n).map(M8).join("&");return btoa(e)}function O8(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${L8(e)}'`),`${t}\``}}var Pa=class extends Error{cause=this.cause;context;constructor(...[n,e]){let t,r;if(e){const{cause:s,...l}=e;s&&(r={cause:s}),Object.keys(l).length>0&&(t=l)}const i=O8(n,t);super(i,r),this.context={__code:n,...t},this.name="SolanaError"}};function D8(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function j8(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(D8(e,n));return n.write(e,t,0),t}})}function F8(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function xa(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function U8(n,e){if(xa(n)!==xa(e))throw new Pa(T8);if(xa(n)&&xa(e)&&n.fixedSize!==e.fixedSize)throw new Pa(C8,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!xa(n)&&!xa(e)&&n.maxSize!==e.maxSize)throw new Pa(N8,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function z8(n,e,t=0){if(e.length-t<=0)throw new Pa(P8,{codecDescription:n})}function $8(n,e,t,r=0){const i=t.length-r;if(i<e)throw new Pa(R8,{bytesLength:i,codecDescription:n,expected:e})}function V8(n,e,t,r){if(r<e||r>t)throw new Pa(B8,{codecDescription:n,max:t,min:e,value:r})}function TE(n){return n?.endian!==1}function W8(n){return j8({fixedSize:n.size,write(e,t,r){n.range&&V8(n.name,n.range[0],n.range[1],e);const i=new ArrayBuffer(n.size);return n.set(new DataView(i),e,TE(n.config)),t.set(new Uint8Array(i),r),r+n.size}})}function K8(n){return F8({fixedSize:n.size,read(e,t=0){z8(n.name,e,t),$8(n.name,n.size,e,t);const r=new DataView(q8(e,t,n.size));return[n.get(r,TE(n.config)),t+n.size]}})}function q8(n,e,t){const r=n.byteOffset+(e??0),i=t??n.byteLength;return n.buffer.slice(r,r+i)}var CE=(n={})=>W8({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),H8=(n={})=>K8({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),G8=(n={})=>U8(CE(n),H8(n));let Y8=class extends TypeError{constructor(e,t){let r;const{message:i,explanation:s,...l}=e,{path:c}=e,d=c.length===0?i:`At path: ${c.join(".")} -- ${i}`;super(s??d),s!=null&&(this.cause=d),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function Z8(n){return vc(n)&&typeof n[Symbol.iterator]=="function"}function vc(n){return typeof n=="object"&&n!=null}function Bd(n){return vc(n)&&!Array.isArray(n)}function oo(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function X8(n){const{done:e,value:t}=n.next();return e?void 0:t}function Q8(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:l}=t,{refinement:c,message:d=`Expected a value of type \`${l}\`${c?` with refinement \`${c}\``:""}, but received: \`${oo(r)}\``}=n;return{value:r,type:l,refinement:c,key:i[i.length-1],path:i,branch:s,...n,message:d}}function*y1(n,e,t,r){Z8(n)||(n=[n]);for(const i of n){const s=Q8(i,e,t,r);s&&(yield s)}}function*qg(n,e,t={}){const{path:r=[],branch:i=[n],coerce:s=!1,mask:l=!1}=t,c={path:r,branch:i,mask:l};s&&(n=e.coercer(n,c));let d="valid";for(const p of e.validator(n,c))p.explanation=t.message,d="not_valid",yield[p,void 0];for(let[p,m,k]of e.entries(n,c)){const _=qg(m,k,{path:p===void 0?r:[...r,p],branch:p===void 0?i:[...i,m],coerce:s,mask:l,message:t.message});for(const v of _)v[0]?(d=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):s&&(m=v[1],p===void 0?n=m:n instanceof Map?n.set(p,m):n instanceof Set?n.add(m):vc(n)&&(m!==void 0||p in n)&&(n[p]=m))}if(d!=="not_valid")for(const p of e.refiner(n,c))p.explanation=t.message,d="not_refined",yield[p,void 0];d==="valid"&&(yield[void 0,n])}let Bo=class{constructor(e){const{type:t,schema:r,validator:i,refiner:s,coercer:l=d=>d,entries:c=function*(){}}=e;this.type=t,this.schema=r,this.entries=c,this.coercer=l,i?this.validator=(d,p)=>{const m=i(d,p);return y1(m,p,this,d)}:this.validator=()=>[],s?this.refiner=(d,p)=>{const m=s(d,p);return y1(m,p,this,d)}:this.refiner=()=>[]}assert(e,t){return NE(e,this,t)}create(e,t){return qe(e,this,t)}is(e){return BE(e,this)}mask(e,t){return J8(e,this,t)}validate(e,t={}){return xc(e,this,t)}};function NE(n,e,t){const r=xc(n,e,{message:t});if(r[0])throw r[0]}function qe(n,e,t){const r=xc(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function J8(n,e,t){const r=xc(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function BE(n,e){return!xc(n,e)[0]}function xc(n,e,t={}){const r=qg(n,e,t),i=X8(r);return i[0]?[new Y8(i[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,i[1]]}function Ms(n,e){return new Bo({type:n,schema:null,validator:e})}function e4(){return Ms("any",()=>!0)}function Ye(n){return new Bo({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${oo(e)}`}})}function To(){return Ms("boolean",n=>typeof n=="boolean")}function Hg(n){return Ms("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${oo(e)}`)}function hn(n){const e=oo(n),t=typeof n;return new Bo({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${oo(r)}`}})}function t4(){return Ms("never",()=>!1)}function Xe(n){return new Bo({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ve(){return Ms("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${oo(n)}`)}function gt(n){return new Bo({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function ME(n,e){return new Bo({type:"record",schema:null,*entries(t){if(vc(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Bd(t)||`Expected an object, but received: ${oo(t)}`},coercer(t){return Bd(t)?{...t}:t}})}function $e(){return Ms("string",n=>typeof n=="string"||`Expected a string, but received: ${oo(n)}`)}function Gg(n){const e=t4();return new Bo({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${oo(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Oe(n){const e=Object.keys(n);return new Bo({type:"type",schema:n,*entries(t){if(vc(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Bd(t)||`Expected an object, but received: ${oo(t)}`},coercer(t){return Bd(t)?{...t}:t}})}function lr(n){const e=n.map(t=>t.type).join(" | ");return new Bo({type:"union",schema:null,coercer(t,r){for(const i of n){const[s,l]=i.validate(t,{coerce:!0,mask:r.mask});if(!s)return l}return t},validator(t,r){const i=[];for(const s of n){const[...l]=qg(t,s,r),[c]=l;if(c[0])for(const[d]of l)d&&i.push(d);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${oo(t)}`,...i]}})}function Ga(){return Ms("unknown",()=>!0)}function bc(n,e,t){return new Bo({...n,coercer:(r,i)=>BE(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var Hu,n4=new Uint8Array(16);function LE(){if(!Hu&&(Hu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Hu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hu(n4)}const r4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function pf(n){return typeof n=="string"&&r4.test(n)}var zn=[];for(var zp=0;zp<256;++zp)zn.push((zp+256).toString(16).substr(1));function mf(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(zn[n[e+0]]+zn[n[e+1]]+zn[n[e+2]]+zn[n[e+3]]+"-"+zn[n[e+4]]+zn[n[e+5]]+"-"+zn[n[e+6]]+zn[n[e+7]]+"-"+zn[n[e+8]]+zn[n[e+9]]+"-"+zn[n[e+10]]+zn[n[e+11]]+zn[n[e+12]]+zn[n[e+13]]+zn[n[e+14]]+zn[n[e+15]]).toLowerCase();if(!pf(t))throw TypeError("Stringified UUID is invalid");return t}var w1,$p,Vp=0,Wp=0;function o4(n,e,t){var r=e&&t||0,i=e||new Array(16);n=n||{};var s=n.node||w1,l=n.clockseq!==void 0?n.clockseq:$p;if(s==null||l==null){var c=n.random||(n.rng||LE)();s==null&&(s=w1=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),l==null&&(l=$p=(c[6]<<8|c[7])&16383)}var d=n.msecs!==void 0?n.msecs:Date.now(),p=n.nsecs!==void 0?n.nsecs:Wp+1,m=d-Vp+(p-Wp)/1e4;if(m<0&&n.clockseq===void 0&&(l=l+1&16383),(m<0||d>Vp)&&n.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Vp=d,Wp=p,$p=l,d+=122192928e5;var k=((d&268435455)*1e4+p)%4294967296;i[r++]=k>>>24&255,i[r++]=k>>>16&255,i[r++]=k>>>8&255,i[r++]=k&255;var _=d/4294967296*1e4&268435455;i[r++]=_>>>8&255,i[r++]=_&255,i[r++]=_>>>24&15|16,i[r++]=_>>>16&255,i[r++]=l>>>8|128,i[r++]=l&255;for(var v=0;v<6;++v)i[r+v]=s[v];return e||mf(i)}function OE(n){if(!pf(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function i4(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var s4="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function DE(n,e,t){function r(i,s,l,c){if(typeof i=="string"&&(i=i4(i)),typeof s=="string"&&(s=OE(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+i.length);if(d.set(s),d.set(i,s.length),d=t(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,l){c=c||0;for(var p=0;p<16;++p)l[c+p]=d[p];return l}return mf(d)}try{r.name=n}catch{}return r.DNS=s4,r.URL=a4,r}function l4(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return c4(u4(d4(n),n.length*8))}function c4(n){for(var e=[],t=n.length*32,r="0123456789abcdef",i=0;i<t;i+=8){var s=n[i>>5]>>>i%32&255,l=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(l)}return e}function jE(n){return(n+64>>>9<<4)+14+1}function u4(n,e){n[e>>5]|=128<<e%32,n[jE(e)-1]=e;for(var t=1732584193,r=-271733879,i=-1732584194,s=271733878,l=0;l<n.length;l+=16){var c=t,d=r,p=i,m=s;t=Zn(t,r,i,s,n[l],7,-680876936),s=Zn(s,t,r,i,n[l+1],12,-389564586),i=Zn(i,s,t,r,n[l+2],17,606105819),r=Zn(r,i,s,t,n[l+3],22,-1044525330),t=Zn(t,r,i,s,n[l+4],7,-176418897),s=Zn(s,t,r,i,n[l+5],12,1200080426),i=Zn(i,s,t,r,n[l+6],17,-1473231341),r=Zn(r,i,s,t,n[l+7],22,-45705983),t=Zn(t,r,i,s,n[l+8],7,1770035416),s=Zn(s,t,r,i,n[l+9],12,-1958414417),i=Zn(i,s,t,r,n[l+10],17,-42063),r=Zn(r,i,s,t,n[l+11],22,-1990404162),t=Zn(t,r,i,s,n[l+12],7,1804603682),s=Zn(s,t,r,i,n[l+13],12,-40341101),i=Zn(i,s,t,r,n[l+14],17,-1502002290),r=Zn(r,i,s,t,n[l+15],22,1236535329),t=Xn(t,r,i,s,n[l+1],5,-165796510),s=Xn(s,t,r,i,n[l+6],9,-1069501632),i=Xn(i,s,t,r,n[l+11],14,643717713),r=Xn(r,i,s,t,n[l],20,-373897302),t=Xn(t,r,i,s,n[l+5],5,-701558691),s=Xn(s,t,r,i,n[l+10],9,38016083),i=Xn(i,s,t,r,n[l+15],14,-660478335),r=Xn(r,i,s,t,n[l+4],20,-405537848),t=Xn(t,r,i,s,n[l+9],5,568446438),s=Xn(s,t,r,i,n[l+14],9,-1019803690),i=Xn(i,s,t,r,n[l+3],14,-187363961),r=Xn(r,i,s,t,n[l+8],20,1163531501),t=Xn(t,r,i,s,n[l+13],5,-1444681467),s=Xn(s,t,r,i,n[l+2],9,-51403784),i=Xn(i,s,t,r,n[l+7],14,1735328473),r=Xn(r,i,s,t,n[l+12],20,-1926607734),t=Qn(t,r,i,s,n[l+5],4,-378558),s=Qn(s,t,r,i,n[l+8],11,-2022574463),i=Qn(i,s,t,r,n[l+11],16,1839030562),r=Qn(r,i,s,t,n[l+14],23,-35309556),t=Qn(t,r,i,s,n[l+1],4,-1530992060),s=Qn(s,t,r,i,n[l+4],11,1272893353),i=Qn(i,s,t,r,n[l+7],16,-155497632),r=Qn(r,i,s,t,n[l+10],23,-1094730640),t=Qn(t,r,i,s,n[l+13],4,681279174),s=Qn(s,t,r,i,n[l],11,-358537222),i=Qn(i,s,t,r,n[l+3],16,-722521979),r=Qn(r,i,s,t,n[l+6],23,76029189),t=Qn(t,r,i,s,n[l+9],4,-640364487),s=Qn(s,t,r,i,n[l+12],11,-421815835),i=Qn(i,s,t,r,n[l+15],16,530742520),r=Qn(r,i,s,t,n[l+2],23,-995338651),t=Jn(t,r,i,s,n[l],6,-198630844),s=Jn(s,t,r,i,n[l+7],10,1126891415),i=Jn(i,s,t,r,n[l+14],15,-1416354905),r=Jn(r,i,s,t,n[l+5],21,-57434055),t=Jn(t,r,i,s,n[l+12],6,1700485571),s=Jn(s,t,r,i,n[l+3],10,-1894986606),i=Jn(i,s,t,r,n[l+10],15,-1051523),r=Jn(r,i,s,t,n[l+1],21,-2054922799),t=Jn(t,r,i,s,n[l+8],6,1873313359),s=Jn(s,t,r,i,n[l+15],10,-30611744),i=Jn(i,s,t,r,n[l+6],15,-1560198380),r=Jn(r,i,s,t,n[l+13],21,1309151649),t=Jn(t,r,i,s,n[l+4],6,-145523070),s=Jn(s,t,r,i,n[l+11],10,-1120210379),i=Jn(i,s,t,r,n[l+2],15,718787259),r=Jn(r,i,s,t,n[l+9],21,-343485551),t=$i(t,c),r=$i(r,d),i=$i(i,p),s=$i(s,m)}return[t,r,i,s]}function d4(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(jE(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function $i(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function f4(n,e){return n<<e|n>>>32-e}function gf(n,e,t,r,i,s){return $i(f4($i($i(e,n),$i(r,s)),i),t)}function Zn(n,e,t,r,i,s,l){return gf(e&t|~e&r,n,e,i,s,l)}function Xn(n,e,t,r,i,s,l){return gf(e&r|t&~r,n,e,i,s,l)}function Qn(n,e,t,r,i,s,l){return gf(e^t^r,n,e,i,s,l)}function Jn(n,e,t,r,i,s,l){return gf(t^(e|~r),n,e,i,s,l)}var h4=DE("v3",48,l4);function p4(n,e,t){n=n||{};var r=n.random||(n.rng||LE)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return mf(r)}function m4(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function Kp(n,e){return n<<e|n>>>32-e}function g4(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var s=n.length/4+2,l=Math.ceil(s/16),c=new Array(l),d=0;d<l;++d){for(var p=new Uint32Array(16),m=0;m<16;++m)p[m]=n[d*64+m*4]<<24|n[d*64+m*4+1]<<16|n[d*64+m*4+2]<<8|n[d*64+m*4+3];c[d]=p}c[l-1][14]=(n.length-1)*8/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=(n.length-1)*8&4294967295;for(var k=0;k<l;++k){for(var _=new Uint32Array(80),v=0;v<16;++v)_[v]=c[k][v];for(var C=16;C<80;++C)_[C]=Kp(_[C-3]^_[C-8]^_[C-14]^_[C-16],1);for(var I=t[0],T=t[1],z=t[2],K=t[3],F=t[4],Y=0;Y<80;++Y){var te=Math.floor(Y/20),se=Kp(I,5)+m4(te,T,z,K)+F+e[te]+_[Y]>>>0;F=K,K=z,z=Kp(T,30)>>>0,T=I,I=se}t[0]=t[0]+I>>>0,t[1]=t[1]+T>>>0,t[2]=t[2]+z>>>0,t[3]=t[3]+K>>>0,t[4]=t[4]+F>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var y4=DE("v5",80,g4);const w4="00000000-0000-0000-0000-000000000000";function v4(n){if(!pf(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const x4=Object.freeze(Object.defineProperty({__proto__:null,NIL:w4,parse:OE,stringify:mf,v1:o4,v3:h4,v4:p4,v5:y4,validate:pf,version:v4},Symbol.toStringTag,{value:"Module"})),FE=cg(x4);var qp,v1;function b4(){if(v1)return qp;v1=1;const n=FE.v4;return qp=function(t,r,i,s){if(typeof t!="string")throw new TypeError(t+" must be a string");s=s||{};const l=typeof s.version=="number"?s.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const c={method:t};if(l===2&&(c.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");c.params=r}if(typeof i>"u"){const d=typeof s.generator=="function"?s.generator:function(){return n()};c.id=d(c,s)}else l===2&&i===null?s.notificationIdNull&&(c.id=null):c.id=i;return c},qp}var Hp,x1;function k4(){if(x1)return Hp;x1=1;const n=FE.v4,e=b4(),t=function(r,i){if(!(this instanceof t))return new t(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return n()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return Hp=t,t.prototype.request=function(r,i,s,l){const c=this;let d=null;const p=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&p)throw new TypeError("JSON-RPC 1.0 does not support batching");if(p||!p&&r&&typeof r=="object"&&typeof i=="function")l=i,d=r;else{typeof s=="function"&&(l=s,s=void 0);const _=typeof l=="function";try{d=e(r,i,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(v){if(_)return l(v);throw v}if(!_)return d}let k;try{k=JSON.stringify(d,this.options.replacer)}catch(_){return l(_)}return this.callServer(k,function(_,v){c._parseResponse(_,v,l)}),d},t.prototype._parseResponse=function(r,i,s){if(r){s(r);return}if(!i)return s();let l;try{l=JSON.parse(i,this.options.reviver)}catch(c){return s(c)}if(s.length===3)if(Array.isArray(l)){const c=function(p){return typeof p.error<"u"},d=function(p){return!c(p)};return s(null,l.filter(c),l.filter(d))}else return s(null,l.error,l.result);s(null,l)},Hp}var S4=k4();const E4=Xi(S4);var Gp={exports:{}},b1;function A4(){return b1||(b1=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(d,p,m){this.fn=d,this.context=p,this.once=m||!1}function s(d,p,m,k,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,k||d,_),C=t?t+p:p;return d._events[C]?d._events[C].fn?d._events[C]=[d._events[C],v]:d._events[C].push(v):(d._events[C]=v,d._eventsCount++),d}function l(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],m,k;if(this._eventsCount===0)return p;for(k in m=this._events)e.call(m,k)&&p.push(t?k.slice(1):k);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},c.prototype.listeners=function(p){var m=t?t+p:p,k=this._events[m];if(!k)return[];if(k.fn)return[k.fn];for(var _=0,v=k.length,C=new Array(v);_<v;_++)C[_]=k[_].fn;return C},c.prototype.listenerCount=function(p){var m=t?t+p:p,k=this._events[m];return k?k.fn?1:k.length:0},c.prototype.emit=function(p,m,k,_,v,C){var I=t?t+p:p;if(!this._events[I])return!1;var T=this._events[I],z=arguments.length,K,F;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),z){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,k),!0;case 4:return T.fn.call(T.context,m,k,_),!0;case 5:return T.fn.call(T.context,m,k,_,v),!0;case 6:return T.fn.call(T.context,m,k,_,v,C),!0}for(F=1,K=new Array(z-1);F<z;F++)K[F-1]=arguments[F];T.fn.apply(T.context,K)}else{var Y=T.length,te;for(F=0;F<Y;F++)switch(T[F].once&&this.removeListener(p,T[F].fn,void 0,!0),z){case 1:T[F].fn.call(T[F].context);break;case 2:T[F].fn.call(T[F].context,m);break;case 3:T[F].fn.call(T[F].context,m,k);break;case 4:T[F].fn.call(T[F].context,m,k,_);break;default:if(!K)for(te=1,K=new Array(z-1);te<z;te++)K[te-1]=arguments[te];T[F].fn.apply(T[F].context,K)}}return!0},c.prototype.on=function(p,m,k){return s(this,p,m,k,!1)},c.prototype.once=function(p,m,k){return s(this,p,m,k,!0)},c.prototype.removeListener=function(p,m,k,_){var v=t?t+p:p;if(!this._events[v])return this;if(!m)return l(this,v),this;var C=this._events[v];if(C.fn)C.fn===m&&(!_||C.once)&&(!k||C.context===k)&&l(this,v);else{for(var I=0,T=[],z=C.length;I<z;I++)(C[I].fn!==m||_&&!C[I].once||k&&C[I].context!==k)&&T.push(C[I]);T.length?this._events[v]=T.length===1?T[0]:T:l(this,v)}return this},c.prototype.removeAllListeners=function(p){var m;return p?(m=t?t+p:p,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(Gp)),Gp.exports}var _4=A4();const UE=Xi(_4);var I4=class extends UE{socket;constructor(n,e,t){super(),this.socket=new window.WebSocket(n,t),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(n,e,t){const r=t||e;try{this.socket.send(n),r()}catch(i){r(i)}}close(n,e){this.socket.close(n,e)}addEventListener(n,e,t){this.socket.addEventListener(n,e,t)}};function P4(n,e){return new I4(n,e)}var R4=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},T4=class extends UE{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(n,e="ws://localhost:8080",{autoconnect:t=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...l}={},c,d){super(),this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=t,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),d?this.dataPack=d:this.dataPack=new R4,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,e,t,r){return!r&&typeof t=="object"&&(r=t,t=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const l=this.generate_request_id(n,e),c={jsonrpc:"2.0",method:n,params:e||void 0,id:l};this.socket.send(this.dataPack.encode(c),r,d=>{if(d)return s(d);this.queue[l]={promise:[i,s]},t&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],s(new Error("reply timeout"))},t))})})}async login(n){const e=await this.call("rpc.login",n);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(n,e){return new Promise((t,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:n,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return r(s);t()})})}async subscribe(n){typeof n=="string"&&(n=[n]);const e=await this.call("rpc.on",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+e[n]);return e}async unsubscribe(n){typeof n=="string"&&(n=[n]);const e=await this.call("rpc.off",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(n,e){this.socket&&this.socket.close(n||1e3,e)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(n,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=ut.from(t).toString());try{t=this.dataPack.decode(t)}catch{return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const r=[t.notification];if(t.params.constructor===Object)r.push(t.params);else for(let i=0;i<t.params.length;i++)r.push(t.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:t,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",t,r),0),this.ready=!1,this.socket=void 0,t!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(n,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",t,r),1))})}};const C4=BigInt(0),zl=BigInt(1),N4=BigInt(2),B4=BigInt(7),M4=BigInt(256),L4=BigInt(113),zE=[],$E=[],VE=[];for(let n=0,e=zl,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],zE.push(2*(5*r+t)),$E.push((n+1)*(n+2)/2%64);let i=C4;for(let s=0;s<7;s++)e=(e<<zl^(e>>B4)*L4)%M4,e&N4&&(i^=zl<<(zl<<BigInt(s))-zl);VE.push(i)}const WE=iE(VE,!0),O4=WE[0],D4=WE[1],k1=(n,e,t)=>t>32?A3(n,e,t):S3(n,e,t),S1=(n,e,t)=>t>32?_3(n,e,t):E3(n,e,t);function j4(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)t[l]=n[l]^n[l+10]^n[l+20]^n[l+30]^n[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,d=(l+2)%10,p=t[d],m=t[d+1],k=k1(p,m,1)^t[c],_=S1(p,m,1)^t[c+1];for(let v=0;v<50;v+=10)n[l+v]^=k,n[l+v+1]^=_}let i=n[2],s=n[3];for(let l=0;l<24;l++){const c=$E[l],d=k1(i,s,c),p=S1(i,s,c),m=zE[l];i=n[m],s=n[m+1],n[m]=d,n[m+1]=p}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)t[c]=n[l+c];for(let c=0;c<10;c++)n[l+c]^=~t[(c+2)%10]&t[(c+4)%10]}n[0]^=O4[r],n[1]^=D4[r]}Gi(t)}class Yg extends Og{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,sc(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=h3(this.state)}clone(){return this._cloneInto()}keccak(){Xv(this.state32),j4(this.state32,this.rounds),Xv(this.state32),this.posOut=0,this.pos=0}update(e){Oa(this),e=df(e),oi(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const l=Math.min(t-this.pos,i-s);for(let c=0;c<l;c++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Oa(this,!1),oi(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Gi(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:l}=this;return e||(e=new Yg(t,r,i,l,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}}const F4=(n,e,t)=>Dg(()=>new Yg(e,n,t)),E1=F4(1,136,256/8);class KE extends Og{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tE(e);const r=df(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=e.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),Gi(s)}update(e){return Oa(this),this.iHash.update(e),this}digestInto(e){Oa(this),oi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=l,e.outputLen=c,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qE=(n,e,t)=>new KE(n,e).update(t).digest();qE.create=(n,e)=>new KE(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const A1=(n,e)=>(n+(n>=0?e:-e)/HE)/e;function U4(n,e,t){const[[r,i],[s,l]]=e,c=A1(l*n,t),d=A1(-i*n,t);let p=n-c*r-d*s,m=-c*i-d*l;const k=p<Jo,_=m<Jo;k&&(p=-p),_&&(m=-m);const v=yc(Math.ceil(uE(t)/2))+Ra;if(p<Jo||p>=v||m<Jo||m>=v)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:k,k1:p,k2neg:_,k2:m}}function $m(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function Yp(n,e){const t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return Ps(t.lowS,"lowS"),Ps(t.prehash,"prehash"),t.format!==void 0&&$m(t.format),t}class z4 extends Error{constructor(e=""){super(e)}}const Go={Err:z4,_tlv:{encode:(n,e)=>{const{Err:t}=Go;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,i=Ku(r);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const s=r>127?Ku(i.length/2|128):"";return Ku(n)+s+i+e},decode(n,e){const{Err:t}=Go;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let l=0;if(!s)l=i;else{const d=i&127;if(!d)throw new t("tlv.decode(long): indefinite length not supported");if(d>4)throw new t("tlv.decode(long): byte length is too big");const p=e.subarray(r,r+d);if(p.length!==d)throw new t("tlv.decode: length bytes not complete");if(p[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const m of p)l=l<<8|m;if(r+=d,l<128)throw new t("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new t("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(n){const{Err:e}=Go;if(n<Jo)throw new e("integer: negative integers are not allowed");let t=Ku(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=Go;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ff(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=Go,i=vn("signature",n),{v:s,l}=r.decode(48,i);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:d}=r.decode(2,s),{v:p,l:m}=r.decode(2,d);if(m.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(c),s:t.decode(p)}},hexFromSig(n){const{_tlv:e,_int:t}=Go,r=e.encode(2,t.encode(n.r)),i=e.encode(2,t.encode(n.s)),s=r+i;return e.encode(48,s)}},Jo=BigInt(0),Ra=BigInt(1),HE=BigInt(2),Gu=BigInt(3),$4=BigInt(4);function ka(n,e){const{BYTES:t}=n;let r;if(typeof e=="bigint")r=e;else{let i=vn("private key",e);try{r=n.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function V4(n,e={}){const t=_E("weierstrass",n,e),{Fp:r,Fn:i}=t;let s=t.CURVE;const{h:l,n:c}=s;wc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=e;if(d&&(!r.is0(s.a)||typeof d.beta!="bigint"||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const p=YE(r,i);function m(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function k(V,D,f){const{x:y,y:E}=D.toAffine(),U=r.toBytes(y);if(Ps(f,"isCompressed"),f){m();const L=!r.isOdd(E);return xo(GE(L),U)}else return xo(Uint8Array.of(4),U,r.toBytes(E))}function _(V){to(V,void 0,"Point");const{publicKey:D,publicKeyUncompressed:f}=p,y=V.length,E=V[0],U=V.subarray(1);if(y===D&&(E===2||E===3)){const L=r.fromBytes(U);if(!r.isValid(L))throw new Error("bad point: is not on curve, wrong x");const N=I(L);let b;try{b=r.sqrt(N)}catch(x){const j=x instanceof Error?": "+x.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}m();const w=r.isOdd(b);return(E&1)===1!==w&&(b=r.neg(b)),{x:L,y:b}}else if(y===f&&E===4){const L=r.BYTES,N=r.fromBytes(U.subarray(0,L)),b=r.fromBytes(U.subarray(L,L*2));if(!T(N,b))throw new Error("bad point: is not on curve");return{x:N,y:b}}else throw new Error(`bad point: got length ${y}, expected compressed=${D} or uncompressed=${f}`)}const v=e.toBytes||k,C=e.fromBytes||_;function I(V){const D=r.sqr(V),f=r.mul(D,V);return r.add(r.add(f,r.mul(V,s.a)),s.b)}function T(V,D){const f=r.sqr(D),y=I(V);return r.eql(f,y)}if(!T(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const z=r.mul(r.pow(s.a,Gu),$4),K=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(z,K)))throw new Error("bad curve params: a or b");function F(V,D,f=!1){if(!r.isValid(D)||f&&r.is0(D))throw new Error(`bad point coordinate ${V}`);return D}function Y(V){if(!(V instanceof Q))throw new Error("ProjectivePoint expected")}function te(V){if(!d||!d.basises)throw new Error("no endo");return U4(V,d.basises,i.ORDER)}const se=_d((V,D)=>{const{X:f,Y:y,Z:E}=V;if(r.eql(E,r.ONE))return{x:f,y};const U=V.is0();D==null&&(D=U?r.ONE:r.inv(E));const L=r.mul(f,D),N=r.mul(y,D),b=r.mul(E,D);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(b,r.ONE))throw new Error("invZ was invalid");return{x:L,y:N}}),ne=_d(V=>{if(V.is0()){if(e.allowInfinityPoint&&!r.is0(V.Y))return;throw new Error("bad point: ZERO")}const{x:D,y:f}=V.toAffine();if(!r.isValid(D)||!r.isValid(f))throw new Error("bad point: x or y not field elements");if(!T(D,f))throw new Error("bad point: equation left != right");if(!V.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ae(V,D,f,y,E){return f=new Q(r.mul(f.X,V),f.Y,f.Z),D=Id(y,D),f=Id(E,f),D.add(f)}class Q{constructor(D,f,y){this.X=F("x",D),this.Y=F("y",f,!0),this.Z=F("z",y),Object.freeze(this)}static CURVE(){return s}static fromAffine(D){const{x:f,y}=D||{};if(!D||!r.isValid(f)||!r.isValid(y))throw new Error("invalid affine point");if(D instanceof Q)throw new Error("projective point not allowed");return r.is0(f)&&r.is0(y)?Q.ZERO:new Q(f,y,r.ONE)}static fromBytes(D){const f=Q.fromAffine(C(to(D,void 0,"point")));return f.assertValidity(),f}static fromHex(D){return Q.fromBytes(vn("pointHex",D))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(D=8,f=!0){return ee.createCache(this,D),f||this.multiply(Gu),this}assertValidity(){ne(this)}hasEvenY(){const{y:D}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(D)}equals(D){Y(D);const{X:f,Y:y,Z:E}=this,{X:U,Y:L,Z:N}=D,b=r.eql(r.mul(f,N),r.mul(U,E)),w=r.eql(r.mul(y,N),r.mul(L,E));return b&&w}negate(){return new Q(this.X,r.neg(this.Y),this.Z)}double(){const{a:D,b:f}=s,y=r.mul(f,Gu),{X:E,Y:U,Z:L}=this;let N=r.ZERO,b=r.ZERO,w=r.ZERO,h=r.mul(E,E),x=r.mul(U,U),j=r.mul(L,L),q=r.mul(E,U);return q=r.add(q,q),w=r.mul(E,L),w=r.add(w,w),N=r.mul(D,w),b=r.mul(y,j),b=r.add(N,b),N=r.sub(x,b),b=r.add(x,b),b=r.mul(N,b),N=r.mul(q,N),w=r.mul(y,w),j=r.mul(D,j),q=r.sub(h,j),q=r.mul(D,q),q=r.add(q,w),w=r.add(h,h),h=r.add(w,h),h=r.add(h,j),h=r.mul(h,q),b=r.add(b,h),j=r.mul(U,L),j=r.add(j,j),h=r.mul(j,q),N=r.sub(N,h),w=r.mul(j,x),w=r.add(w,w),w=r.add(w,w),new Q(N,b,w)}add(D){Y(D);const{X:f,Y:y,Z:E}=this,{X:U,Y:L,Z:N}=D;let b=r.ZERO,w=r.ZERO,h=r.ZERO;const x=s.a,j=r.mul(s.b,Gu);let q=r.mul(f,U),re=r.mul(y,L),le=r.mul(E,N),fe=r.add(f,y),Ie=r.add(U,L);fe=r.mul(fe,Ie),Ie=r.add(q,re),fe=r.sub(fe,Ie),Ie=r.add(f,E);let Ze=r.add(U,N);return Ie=r.mul(Ie,Ze),Ze=r.add(q,le),Ie=r.sub(Ie,Ze),Ze=r.add(y,E),b=r.add(L,N),Ze=r.mul(Ze,b),b=r.add(re,le),Ze=r.sub(Ze,b),h=r.mul(x,Ie),b=r.mul(j,le),h=r.add(b,h),b=r.sub(re,h),h=r.add(re,h),w=r.mul(b,h),re=r.add(q,q),re=r.add(re,q),le=r.mul(x,le),Ie=r.mul(j,Ie),re=r.add(re,le),le=r.sub(q,le),le=r.mul(x,le),Ie=r.add(Ie,le),q=r.mul(re,Ie),w=r.add(w,q),q=r.mul(Ze,Ie),b=r.mul(fe,b),b=r.sub(b,q),q=r.mul(fe,re),h=r.mul(Ze,h),h=r.add(h,q),new Q(b,w,h)}subtract(D){return this.add(D.negate())}is0(){return this.equals(Q.ZERO)}multiply(D){const{endo:f}=e;if(!i.isValidNot0(D))throw new Error("invalid scalar: out of range");let y,E;const U=L=>ee.cached(this,L,N=>ws(Q,N));if(f){const{k1neg:L,k1:N,k2neg:b,k2:w}=te(D),{p:h,f:x}=U(N),{p:j,f:q}=U(w);E=x.add(q),y=ae(f.beta,h,j,L,b)}else{const{p:L,f:N}=U(D);y=L,E=N}return ws(Q,[y,E])[0]}multiplyUnsafe(D){const{endo:f}=e,y=this;if(!i.isValid(D))throw new Error("invalid scalar: out of range");if(D===Jo||y.is0())return Q.ZERO;if(D===Ra)return y;if(ee.hasCache(this))return this.multiply(D);if(f){const{k1neg:E,k1:U,k2neg:L,k2:N}=te(D),{p1:b,p2:w}=J3(Q,y,U,N);return ae(f.beta,b,w,E,L)}else return ee.unsafe(y,D)}multiplyAndAddUnsafe(D,f,y){const E=this.multiplyUnsafe(f).add(D.multiplyUnsafe(y));return E.is0()?void 0:E}toAffine(D){return se(this,D)}isTorsionFree(){const{isTorsionFree:D}=e;return l===Ra?!0:D?D(Q,this):ee.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:D}=e;return l===Ra?this:D?D(Q,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(D=!0){return Ps(D,"isCompressed"),this.assertValidity(),v(Q,this,D)}toHex(D=!0){return As(this.toBytes(D))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(D=!0){return this.toBytes(D)}_setWindowSize(D){this.precompute(D)}static normalizeZ(D){return ws(Q,D)}static msm(D,f){return AE(Q,i,D,f)}static fromPrivateKey(D){return Q.BASE.multiply(ka(i,D))}}Q.BASE=new Q(s.Gx,s.Gy,r.ONE),Q.ZERO=new Q(r.ZERO,r.ONE,r.ZERO),Q.Fp=r,Q.Fn=i;const Z=i.BITS,ee=new EE(Q,e.endo?Math.ceil(Z/2):Z);return Q.BASE.precompute(8),Q}function GE(n){return Uint8Array.of(n?2:3)}function YE(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function W4(n,e={}){const{Fn:t}=n,r=e.randomBytes||jg,i=Object.assign(YE(n.Fp,t),{seed:bE(t.ORDER)});function s(v){try{return!!ka(t,v)}catch{return!1}}function l(v,C){const{publicKey:I,publicKeyUncompressed:T}=i;try{const z=v.length;return C===!0&&z!==I||C===!1&&z!==T?!1:!!n.fromBytes(v)}catch{return!1}}function c(v=r(i.seed)){return Z3(to(v,i.seed,"seed"),t.ORDER)}function d(v,C=!0){return n.BASE.multiply(ka(t,v)).toBytes(C)}function p(v){const C=c(v);return{secretKey:C,publicKey:d(C)}}function m(v){if(typeof v=="bigint")return!1;if(v instanceof n)return!0;const{secretKey:C,publicKey:I,publicKeyUncompressed:T}=i;if(t.allowedLengths||C===I)return;const z=vn("key",v).length;return z===I||z===T}function k(v,C,I=!0){if(m(v)===!0)throw new Error("first arg must be private key");if(m(C)===!1)throw new Error("second arg must be public key");const T=ka(t,v);return n.fromHex(C).multiply(T).toBytes(I)}return Object.freeze({getPublicKey:d,getSharedSecret:k,keygen:p,Point:n,utils:{isValidSecretKey:s,isValidPublicKey:l,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:v=>ka(t,v),precompute(v=8,C=n.BASE){return C.precompute(v,!1)}},lengths:i})}function K4(n,e,t={}){tE(e),wc(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||jg,i=t.hmac||((f,...y)=>qE(e,f,xo(...y))),{Fp:s,Fn:l}=n,{ORDER:c,BITS:d}=l,{keygen:p,getPublicKey:m,getSharedSecret:k,utils:_,lengths:v}=W4(n,t),C={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},I="compact";function T(f){const y=c>>Ra;return f>y}function z(f,y){if(!l.isValidNot0(y))throw new Error(`invalid signature ${f}: out of range 1..Point.Fn.ORDER`);return y}function K(f,y){$m(y);const E=v.signature,U=y==="compact"?E:y==="recovered"?E+1:void 0;return to(f,U,`${y} signature`)}class F{constructor(y,E,U){this.r=z("r",y),this.s=z("s",E),U!=null&&(this.recovery=U),Object.freeze(this)}static fromBytes(y,E=I){K(y,E);let U;if(E==="der"){const{r:w,s:h}=Go.toSig(to(y));return new F(w,h)}E==="recovered"&&(U=y[0],E="compact",y=y.subarray(1));const L=l.BYTES,N=y.subarray(0,L),b=y.subarray(L,L*2);return new F(l.fromBytes(N),l.fromBytes(b),U)}static fromHex(y,E){return this.fromBytes(Ad(y),E)}addRecoveryBit(y){return new F(this.r,this.s,y)}recoverPublicKey(y){const E=s.ORDER,{r:U,s:L,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(c*HE<E&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const w=N===2||N===3?U+c:U;if(!s.isValid(w))throw new Error("recovery id 2 or 3 invalid");const h=s.toBytes(w),x=n.fromBytes(xo(GE((N&1)===0),h)),j=l.inv(w),q=te(vn("msgHash",y)),re=l.create(-q*j),le=l.create(L*j),fe=n.BASE.multiplyUnsafe(re).add(x.multiplyUnsafe(le));if(fe.is0())throw new Error("point at infinify");return fe.assertValidity(),fe}hasHighS(){return T(this.s)}toBytes(y=I){if($m(y),y==="der")return Ad(Go.hexFromSig(this));const E=l.toBytes(this.r),U=l.toBytes(this.s);if(y==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return xo(Uint8Array.of(this.recovery),E,U)}return xo(E,U)}toHex(y){return As(this.toBytes(y))}assertValidity(){}static fromCompact(y){return F.fromBytes(vn("sig",y),"compact")}static fromDER(y){return F.fromBytes(vn("sig",y),"der")}normalizeS(){return this.hasHighS()?new F(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return As(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return As(this.toBytes("compact"))}}const Y=t.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");const E=ff(y),U=y.length*8-d;return U>0?E>>BigInt(U):E},te=t.bits2int_modN||function(y){return l.create(Y(y))},se=yc(d);function ne(f){return zm("num < 2^"+d,f,Jo,se),l.toBytes(f)}function ae(f,y){return to(f,void 0,"message"),y?to(e(f),void 0,"prehashed message"):f}function Q(f,y,E){if(["recovered","canonical"].some(re=>re in E))throw new Error("sign() legacy options not supported");const{lowS:U,prehash:L,extraEntropy:N}=Yp(E,C);f=ae(f,L);const b=te(f),w=ka(l,y),h=[ne(w),ne(b)];if(N!=null&&N!==!1){const re=N===!0?r(v.secretKey):N;h.push(vn("extraEntropy",re))}const x=xo(...h),j=b;function q(re){const le=Y(re);if(!l.isValidNot0(le))return;const fe=l.inv(le),Ie=n.BASE.multiply(le).toAffine(),Ze=l.create(Ie.x);if(Ze===Jo)return;const Pe=l.create(fe*l.create(j+Ze*w));if(Pe===Jo)return;let ht=(Ie.x===Ze?0:2)|Number(Ie.y&Ra),Ot=Pe;return U&&T(Pe)&&(Ot=l.neg(Pe),ht^=1),new F(Ze,Ot,ht)}return{seed:x,k2sig:q}}function Z(f,y,E={}){f=vn("message",f);const{seed:U,k2sig:L}=Q(f,y,E);return U3(e.outputLen,l.BYTES,i)(U,L)}function ee(f){let y;const E=typeof f=="string"||gc(f),U=!E&&f!==null&&typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint";if(!E&&!U)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(U)y=new F(f.r,f.s);else if(E){try{y=F.fromBytes(vn("sig",f),"der")}catch(L){if(!(L instanceof Go.Err))throw L}if(!y)try{y=F.fromBytes(vn("sig",f),"compact")}catch{return!1}}return y||!1}function V(f,y,E,U={}){const{lowS:L,prehash:N,format:b}=Yp(U,C);if(E=vn("publicKey",E),y=ae(vn("message",y),N),"strict"in U)throw new Error("options.strict was renamed to lowS");const w=b===void 0?ee(f):F.fromBytes(vn("sig",f),b);if(w===!1)return!1;try{const h=n.fromBytes(E);if(L&&w.hasHighS())return!1;const{r:x,s:j}=w,q=te(y),re=l.inv(j),le=l.create(q*re),fe=l.create(x*re),Ie=n.BASE.multiplyUnsafe(le).add(h.multiplyUnsafe(fe));return Ie.is0()?!1:l.create(Ie.x)===x}catch{return!1}}function D(f,y,E={}){const{prehash:U}=Yp(E,C);return y=ae(y,U),F.fromBytes(f,"recovered").recoverPublicKey(y).toBytes()}return Object.freeze({keygen:p,getPublicKey:m,getSharedSecret:k,utils:_,lengths:v,Point:n,sign:Z,verify:V,recoverPublicKey:D,Signature:F,hash:e})}function q4(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const i=Bs(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),s={Fp:t,Fn:i,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:s}}function H4(n){const{CURVE:e,curveOpts:t}=q4(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function G4(n,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,vE(t.Fn.ORDER,t.Fn.BITS))})}function Y4(n){const{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:i}=H4(n),s=V4(e,t),l=K4(s,r,i);return G4(n,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Z4(n,e){const t=r=>Y4({...n,hash:r});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zg={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},X4={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},_1=BigInt(2);function Q4(n){const e=Zg.p,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),l=BigInt(23),c=BigInt(44),d=BigInt(88),p=n*n*n%e,m=p*p*n%e,k=wn(m,t,e)*m%e,_=wn(k,t,e)*m%e,v=wn(_,_1,e)*p%e,C=wn(v,i,e)*v%e,I=wn(C,s,e)*C%e,T=wn(I,c,e)*I%e,z=wn(T,d,e)*T%e,K=wn(z,c,e)*I%e,F=wn(K,t,e)*m%e,Y=wn(F,l,e)*C%e,te=wn(Y,r,e)*p%e,se=wn(te,_1,e);if(!Vm.eql(Vm.sqr(se),n))throw new Error("Cannot find square root");return se}const Vm=Bs(Zg.p,{sqrt:Q4}),Xg=Z4({...Zg,Fp:Vm,lowS:!0,endo:X4},aE),J4=Ha.utils.randomPrivateKey,I1=()=>{const n=Ha.utils.randomPrivateKey(),e=Md(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Md=Ha.getPublicKey;function P1(n){try{return Ha.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Qg=(n,e)=>Ha.sign(n,e.slice(0,32)),e6=Ha.verify,Bt=n=>ut.isBuffer(n)?n:n instanceof Uint8Array?ut.from(n.buffer,n.byteOffset,n.byteLength):ut.from(n);let Jg=class{constructor(e){Object.assign(this,e)}encode(){return ut.from(Up.serialize(Yl,this))}static decode(e){return Up.deserialize(Yl,this,e)}static decodeUnchecked(e){return Up.deserializeUnchecked(Yl,this,e)}};class t6 extends Jg{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const Yl=new Map;var ZE;const XE=32,Io=32;function n6(n){return n._bn!==void 0}let R1=1;class _e extends Jg{constructor(e){if(super({}),this._bn=void 0,n6(e))this._bn=e._bn;else{if(typeof e=="string"){const t=xn.decode(e);if(t.length!=Io)throw new Error("Invalid public key input");this._bn=new sr(t)}else this._bn=new sr(e);if(this._bn.byteLength()>Io)throw new Error("Invalid public key input")}}static unique(){const e=new _e(R1);return R1+=1,new _e(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return xn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ut);if(e.length===Io)return e;const t=ut.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=ut.concat([e.toBuffer(),ut.from(t),r.toBuffer()]),s=Pd(i);return new _e(s)}static createProgramAddressSync(e,t){let r=ut.alloc(0);e.forEach(function(s){if(s.length>XE)throw new TypeError("Max seed length exceeded");r=ut.concat([r,Bt(s)])}),r=ut.concat([r,t.toBuffer(),ut.from("ProgramDerivedAddress")]);const i=Pd(r);if(P1(i))throw new Error("Invalid seeds, address must fall off the curve");return new _e(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(ut.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new _e(e);return P1(t.toBytes())}}ZE=_e;_e.default=new ZE("11111111111111111111111111111111");Yl.set(_e,{kind:"struct",fields:[["_bn","u256"]]});class r6{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Bt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Bt(J4()),this._publicKey=Bt(Md(this._secretKey))}get publicKey(){return new _e(this._publicKey)}get secretKey(){return ut.concat([this._secretKey,this._publicKey],64)}}const o6=new _e("BPFLoader1111111111111111111111111111111111"),Wi=1232,yf=127,lc=64;class e0 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(e0.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class t0 extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(t0.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Sa extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Sa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class cc{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,l)=>{r.set(s.toBase58(),l)});const i=s=>{const l=r.get(s.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(l=>i(l.pubkey)),data:s.data}))}}const Lt=(n="publicKey")=>oe.blob(32,n),i6=(n="signature")=>oe.blob(64,n),vs=(n="string")=>{const e=oe.struct([oe.u32("length"),oe.u32("lengthPadding"),oe.blob(oe.offset(oe.u32(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,l)=>t(s,l).chars.toString(),i.encode=(s,l,c)=>{const d={chars:ut.from(s,"utf8")};return r(d,l,c)},i.alloc=s=>oe.u32().span+oe.u32().span+ut.from(s,"utf8").length,i},s6=(n="authorized")=>oe.struct([Lt("staker"),Lt("withdrawer")],n),a6=(n="lockup")=>oe.struct([oe.ns64("unixTimestamp"),oe.ns64("epoch"),Lt("custodian")],n),l6=(n="voteInit")=>oe.struct([Lt("nodePubkey"),Lt("authorizedVoter"),Lt("authorizedWithdrawer"),oe.u8("commission")],n),c6=(n="voteAuthorizeWithSeedArgs")=>oe.struct([oe.u32("voteAuthorizationType"),Lt("currentAuthorityDerivedKeyOwnerPubkey"),vs("currentAuthorityDerivedKeySeed"),Lt("newAuthorized")],n);function QE(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return QE({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function wr(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Ir(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function zt(n,e){if(!n)throw new Error(e||"Assertion failed")}class wf{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=l=>{const c=l.toBase58();let d=r.get(c);return d===void 0&&(d={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,d)),d},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const l of e){i(l.programId).isInvoked=!0;for(const c of l.keys){const d=i(c.pubkey);d.isSigner||=c.isSigner,d.isWritable||=c.isWritable}}return new wf(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];zt(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,d])=>d.isSigner&&d.isWritable),r=e.filter(([,d])=>d.isSigner&&!d.isWritable),i=e.filter(([,d])=>!d.isSigner&&d.isWritable),s=e.filter(([,d])=>!d.isSigner&&!d.isWritable),l={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{zt(t.length>0,"Expected at least one writable signer key");const[d]=t[0];zt(d===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...t.map(([d])=>new _e(d)),...r.map(([d])=>new _e(d)),...i.map(([d])=>new _e(d)),...s.map(([d])=>new _e(d))];return[l,c]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,l]of this.keyMetaMap.entries())if(t(l)){const c=new _e(s),d=e.findIndex(p=>p.equals(c));d>=0&&(zt(d<256,"Max lookup table index exceeded"),r.push(d),i.push(c),this.keyMetaMap.delete(s))}return[r,i]}}const JE="Reached end of buffer unexpectedly";function bo(n){if(n.length===0)throw new Error(JE);return n.shift()}function vr(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(JE);return n.splice(...e)}class io{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new _e(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:xn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new cc(this.staticAccountKeys)}static compile(e){const t=wf.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),l=new cc(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:xn.encode(c.data)}));return new io({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:l})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Ir(t,e);const r=this.instructions.map(k=>{const{accounts:_,programIdIndex:v}=k,C=Array.from(xn.decode(k.data));let I=[];Ir(I,_.length);let T=[];return Ir(T,C.length),{programIdIndex:v,keyIndicesCount:ut.from(I),keyIndices:_,dataLength:ut.from(T),data:C}});let i=[];Ir(i,r.length);let s=ut.alloc(Wi);ut.from(i).copy(s);let l=i.length;r.forEach(k=>{const v=oe.struct([oe.u8("programIdIndex"),oe.blob(k.keyIndicesCount.length,"keyIndicesCount"),oe.seq(oe.u8("keyIndex"),k.keyIndices.length,"keyIndices"),oe.blob(k.dataLength.length,"dataLength"),oe.seq(oe.u8("userdatum"),k.data.length,"data")]).encode(k,s,l);l+=v}),s=s.slice(0,l);const c=oe.struct([oe.blob(1,"numRequiredSignatures"),oe.blob(1,"numReadonlySignedAccounts"),oe.blob(1,"numReadonlyUnsignedAccounts"),oe.blob(t.length,"keyCount"),oe.seq(Lt("key"),e,"keys"),Lt("recentBlockhash")]),d={numRequiredSignatures:ut.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ut.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ut.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ut.from(t),keys:this.accountKeys.map(k=>Bt(k.toBytes())),recentBlockhash:xn.decode(this.recentBlockhash)};let p=ut.alloc(2048);const m=c.encode(d,p);return s.copy(p,m),p.slice(0,m+s.length)}static from(e){let t=[...e];const r=bo(t);if(r!==(r&yf))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=bo(t),s=bo(t),l=wr(t);let c=[];for(let _=0;_<l;_++){const v=vr(t,0,Io);c.push(new _e(ut.from(v)))}const d=vr(t,0,Io),p=wr(t);let m=[];for(let _=0;_<p;_++){const v=bo(t),C=wr(t),I=vr(t,0,C),T=wr(t),z=vr(t,0,T),K=xn.encode(ut.from(z));m.push({programIdIndex:v,accounts:I,data:K})}const k={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:xn.encode(ut.from(d)),accountKeys:c,instructions:m};return new io(k)}}class Rs{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new cc(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((l,c)=>l+c.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,l=r-t-this.header.numReadonlyUnsignedAccounts;return i<l}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=wf.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const m of s){const k=t.extractTableLookup(m);if(k!==void 0){const[_,{writable:v,readonly:C}]=k;r.push(_),i.writable.push(...v),i.readonly.push(...C)}}const[l,c]=t.getMessageComponents(),p=new cc(c,i).compileInstructions(e.instructions);return new Rs({header:l,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:r})}serialize(){const e=Array();Ir(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Ir(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Ir(s,this.addressTableLookups.length);const l=oe.struct([oe.u8("prefix"),oe.struct([oe.u8("numRequiredSignatures"),oe.u8("numReadonlySignedAccounts"),oe.u8("numReadonlyUnsignedAccounts")],"header"),oe.blob(e.length,"staticAccountKeysLength"),oe.seq(Lt(),this.staticAccountKeys.length,"staticAccountKeys"),Lt("recentBlockhash"),oe.blob(r.length,"instructionsLength"),oe.blob(t.length,"serializedInstructions"),oe.blob(s.length,"addressTableLookupsLength"),oe.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(Wi),p=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:xn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},c);return c.slice(0,p)}serializeInstructions(){let e=0;const t=new Uint8Array(Wi);for(const r of this.compiledInstructions){const i=Array();Ir(i,r.accountKeyIndexes.length);const s=Array();Ir(s,r.data.length);const l=oe.struct([oe.u8("programIdIndex"),oe.blob(i.length,"encodedAccountKeyIndexesLength"),oe.seq(oe.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),oe.blob(s.length,"encodedDataLength"),oe.blob(r.data.length,"data")]);e+=l.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Wi);for(const r of this.addressTableLookups){const i=Array();Ir(i,r.writableIndexes.length);const s=Array();Ir(s,r.readonlyIndexes.length);const l=oe.struct([Lt("accountKey"),oe.blob(i.length,"encodedWritableIndexesLength"),oe.seq(oe.u8(),r.writableIndexes.length,"writableIndexes"),oe.blob(s.length,"encodedReadonlyIndexesLength"),oe.seq(oe.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=l.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=bo(t),i=r&yf;zt(r!==i,"Expected versioned message but received legacy message");const s=i;zt(s===0,`Expected versioned message with version 0 but found version ${s}`);const l={numRequiredSignatures:bo(t),numReadonlySignedAccounts:bo(t),numReadonlyUnsignedAccounts:bo(t)},c=[],d=wr(t);for(let C=0;C<d;C++)c.push(new _e(vr(t,0,Io)));const p=xn.encode(vr(t,0,Io)),m=wr(t),k=[];for(let C=0;C<m;C++){const I=bo(t),T=wr(t),z=vr(t,0,T),K=wr(t),F=new Uint8Array(vr(t,0,K));k.push({programIdIndex:I,accountKeyIndexes:z,data:F})}const _=wr(t),v=[];for(let C=0;C<_;C++){const I=new _e(vr(t,0,Io)),T=wr(t),z=vr(t,0,T),K=wr(t),F=vr(t,0,K);v.push({accountKey:I,writableIndexes:z,readonlyIndexes:F})}return new Rs({header:l,staticAccountKeys:c,recentBlockhash:p,compiledInstructions:k,addressTableLookups:v})}}const n0={deserializeMessageVersion(n){const e=n[0],t=e&yf;return t===e?"legacy":t},deserialize:n=>{const e=n0.deserializeMessageVersion(n);if(e==="legacy")return io.from(n);if(e===0)return Rs.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let qo=(function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n})({});const u6=ut.alloc(lc).fill(0);class $t{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ut.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Dt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new $t(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let I=0;I<t.length;I++)if(t[I].programId===void 0)throw new Error(`Transaction instruction index ${I} has undefined program id`);const i=[],s=[];t.forEach(I=>{I.keys.forEach(z=>{s.push({...z})});const T=I.programId.toString();i.includes(T)||i.push(T)}),i.forEach(I=>{s.push({pubkey:new _e(I),isSigner:!1,isWritable:!1})});const l=[];s.forEach(I=>{const T=I.pubkey.toString(),z=l.findIndex(K=>K.pubkey.toString()===T);z>-1?(l[z].isWritable=l[z].isWritable||I.isWritable,l[z].isSigner=l[z].isSigner||I.isSigner):l.push(I)}),l.sort(function(I,T){if(I.isSigner!==T.isSigner)return I.isSigner?-1:1;if(I.isWritable!==T.isWritable)return I.isWritable?-1:1;const z={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return I.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",z)});const c=l.findIndex(I=>I.pubkey.equals(r));if(c>-1){const[I]=l.splice(c,1);I.isSigner=!0,I.isWritable=!0,l.unshift(I)}else l.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const I of this.signatures){const T=l.findIndex(z=>z.pubkey.equals(I.publicKey));if(T>-1)l[T].isSigner||(l[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${I.publicKey.toString()}`)}let d=0,p=0,m=0;const k=[],_=[];l.forEach(({pubkey:I,isSigner:T,isWritable:z})=>{T?(k.push(I.toString()),d+=1,z||(p+=1)):(_.push(I.toString()),z||(m+=1))});const v=k.concat(_),C=t.map(I=>{const{data:T,programId:z}=I;return{programIdIndex:v.indexOf(z.toString()),accounts:I.keys.map(K=>v.indexOf(K.pubkey.toString())),data:xn.encode(T)}});return C.forEach(I=>{zt(I.programIdIndex>=0),I.accounts.forEach(T=>zt(T>=0))}),new io({header:{numRequiredSignatures:d,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:m},accountKeys:v,recentBlockhash:e,instructions:C})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const l=s.publicKey.toString();t.has(l)||(t.add(l),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const l=s.publicKey.toString();t.has(l)||(t.add(l),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=Qg(r,i.secretKey);this._addSignature(i.publicKey,Bt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){zt(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ut.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||=[]).push(s):e6(i,e,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let l="Signature verification failed.";throw s.invalid&&(l+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),s.missing&&(l+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];Ir(r,t.length);const i=r.length+t.length*64+e.length,s=ut.alloc(i);return zt(t.length<256),ut.from(r).copy(s,0),t.forEach(({signature:l},c)=>{l!==null&&(zt(l.length===64,"signature has invalid length"),ut.from(l).copy(s,r.length+c*64))}),e.copy(s,r.length+t.length*64),zt(s.length<=Wi,`Transaction too large: ${s.length} > ${Wi}`),s}get keys(){return zt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return zt(this.instructions.length===1),this.instructions[0].programId}get data(){return zt(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=wr(t);let i=[];for(let s=0;s<r;s++){const l=vr(t,0,lc);i.push(xn.encode(ut.from(l)))}return Dt.populate(io.from(t),i)}static populate(e,t=[]){const r=new Dt;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const l={signature:i==xn.encode(u6)?null:xn.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(l)}),e.instructions.forEach(i=>{const s=i.accounts.map(l=>{const c=e.accountKeys[l];return{pubkey:c,isSigner:r.signatures.some(d=>d.publicKey.toString()===c.toString())||e.isAccountSigner(l),isWritable:e.isAccountWritable(l)}});r.instructions.push(new $t({keys:s,programId:e.accountKeys[i.programIdIndex],data:xn.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class r0{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d}=r,p=l-c;zt(p>0,"Message header is invalid");const m=e.staticAccountKeys.length-l-d;zt(m>=0,"Message header is invalid");const k=e.getAccountKeys(t),_=k.get(0);if(_===void 0)throw new Error("Failed to decompile message because no account keys were found");const v=[];for(const C of i){const I=[];for(const z of C.accountKeyIndexes){const K=k.get(z);if(K===void 0)throw new Error(`Failed to find key for account key index ${z}`);const F=z<l;let Y;F?Y=z<p:z<k.staticAccountKeys.length?Y=z-l<m:Y=z-k.staticAccountKeys.length<k.accountKeysFromLookups.writable.length,I.push({pubkey:K,isSigner:z<r.numRequiredSignatures,isWritable:Y})}const T=k.get(C.programIdIndex);if(T===void 0)throw new Error(`Failed to find program id for program id index ${C.programIdIndex}`);v.push(new $t({programId:T,data:Bt(C.data),keys:I}))}return new r0({payerKey:_,instructions:v,recentBlockhash:s})}compileToLegacyMessage(){return io.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Rs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class o0{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)zt(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(lc));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Ir(t,this.signatures.length);const r=oe.struct([oe.blob(t.length,"encodedSignaturesLength"),oe.seq(i6(),this.signatures.length,"signatures"),oe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=wr(t);for(let l=0;l<i;l++)r.push(new Uint8Array(vr(t,0,lc)));const s=n0.deserialize(new Uint8Array(t));return new o0(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(l=>l.equals(i.publicKey));zt(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Qg(t,i.secretKey)}}addSignature(e,t){zt(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));zt(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const d6=160,f6=64,h6=d6/f6,e2=1e3/h6,eo=new _e("SysvarC1ock11111111111111111111111111111111"),p6=new _e("SysvarEpochSchedu1e111111111111111111111111"),m6=new _e("Sysvar1nstructions1111111111111111111111111"),dd=new _e("SysvarRecentB1ockHashes11111111111111111111"),Co=new _e("SysvarRent111111111111111111111111111111111"),g6=new _e("SysvarRewards111111111111111111111111111111"),y6=new _e("SysvarS1otHashes111111111111111111111111111"),w6=new _e("SysvarS1otHistory11111111111111111111111111"),fd=new _e("SysvarStakeHistory1111111111111111111111111");class Yi extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let c;switch(e){case"send":c=`Transaction ${t} resulted in an error. 
${r}. `+s+l;break;case"simulate":c=`Simulation failed. 
Message: ${r}. 
`+s+l;break;default:c=`Unknown action '${(d=>d)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const v6={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ft extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Ld(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let l;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)l=(await n.confirmTransaction({abortSignal:r?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:c}=e.nonceInfo,d=c.keys[0].pubkey;l=(await n.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:d,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else r?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),l=(await n.confirmTransaction(s,r&&r.commitment)).value;if(l.err)throw s!=null?new Yi({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(l)})`);return s}function ms(n){return new Promise(e=>setTimeout(e,n))}function jt(n,e){const t=n.layout.span>=0?n.layout.span:QE(n,e),r=ut.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function Wt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const t2=oe.nu64("lamportsPerSignature"),n2=oe.struct([oe.u32("version"),oe.u32("state"),Lt("authorizedPubkey"),Lt("nonce"),oe.struct([t2],"feeCalculator")]),Wm=n2.span;class vf{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=n2.decode(Bt(e),0);return new vf({authorizedPubkey:new _e(t.authorizedPubkey),nonce:new _e(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function Fa(n){const e=oe.blob(8,n),t=e.decode.bind(e),r=e.encode.bind(e),i=e,s=G8();return i.decode=(l,c)=>{const d=t(l,c);return s.decode(d)},i.encode=(l,c,d)=>{const p=s.encode(l);return r(p,c,d)},i}class x6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe.u32("instruction").decode(e.data);let i;for(const[s,l]of Object.entries(Zt))if(l.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=Wt(Zt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new _e(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Wt(Zt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=Wt(Zt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new _e(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Wt(Zt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=Wt(Zt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new _e(t),seed:r,space:i,programId:new _e(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Wt(Zt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new _e(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=Wt(Zt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new _e(t),seed:r,programId:new _e(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:l}=Wt(Zt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new _e(t),seed:r,lamports:i,space:s,programId:new _e(l)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Wt(Zt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new _e(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wt(Zt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Wt(Zt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Wt(Zt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new _e(t)}}static checkProgramId(e){if(!e.equals(Qt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Zt=Object.freeze({Create:{index:0,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports"),oe.ns64("space"),Lt("programId")])},Assign:{index:1,layout:oe.struct([oe.u32("instruction"),Lt("programId")])},Transfer:{index:2,layout:oe.struct([oe.u32("instruction"),Fa("lamports")])},CreateWithSeed:{index:3,layout:oe.struct([oe.u32("instruction"),Lt("base"),vs("seed"),oe.ns64("lamports"),oe.ns64("space"),Lt("programId")])},AdvanceNonceAccount:{index:4,layout:oe.struct([oe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:oe.struct([oe.u32("instruction"),Lt("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe.struct([oe.u32("instruction"),Lt("authorized")])},Allocate:{index:8,layout:oe.struct([oe.u32("instruction"),oe.ns64("space")])},AllocateWithSeed:{index:9,layout:oe.struct([oe.u32("instruction"),Lt("base"),vs("seed"),oe.ns64("space"),Lt("programId")])},AssignWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),Lt("base"),vs("seed"),Lt("programId")])},TransferWithSeed:{index:11,layout:oe.struct([oe.u32("instruction"),Fa("lamports"),vs("seed"),Lt("programId")])},UpgradeNonceAccount:{index:12,layout:oe.struct([oe.u32("instruction")])}});class Qt{constructor(){}static createAccount(e){const t=Zt.Create,r=jt(t,{lamports:e.lamports,space:e.space,programId:Bt(e.programId.toBuffer())});return new $t({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=Zt.TransferWithSeed;t=jt(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Bt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Zt.Transfer;t=jt(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new $t({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=Zt.AssignWithSeed;t=jt(i,{base:Bt(e.basePubkey.toBuffer()),seed:e.seed,programId:Bt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Zt.Assign;t=jt(i,{programId:Bt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $t({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Zt.CreateWithSeed,r=jt(t,{base:Bt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Bt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new $t({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Dt;"basePubkey"in e&&"seed"in e?t.add(Qt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Wm,programId:this.programId})):t.add(Qt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Wm,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Zt.InitializeNonceAccount,r=jt(t,{authorized:Bt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:Co,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new $t(i)}static nonceAdvance(e){const t=Zt.AdvanceNonceAccount,r=jt(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new $t(i)}static nonceWithdraw(e){const t=Zt.WithdrawNonceAccount,r=jt(t,{lamports:e.lamports});return new $t({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:Co,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Zt.AuthorizeNonceAccount,r=jt(t,{authorized:Bt(e.newAuthorizedPubkey.toBuffer())});return new $t({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=Zt.AllocateWithSeed;t=jt(i,{base:Bt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Bt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Zt.Allocate;t=jt(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $t({keys:r,programId:this.programId,data:t})}}Qt.programId=new _e("11111111111111111111111111111111");const b6=Wi-300;class Ts{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Ts.chunkSize)+1+1)}static async load(e,t,r,i,s){{const k=await e.getMinimumBalanceForRentExemption(s.length),_=await e.getAccountInfo(r.publicKey,"confirmed");let v=null;if(_!==null){if(_.executable)return console.error("Program load failed, account is already executable"),!1;_.data.length!==s.length&&(v=v||new Dt,v.add(Qt.allocate({accountPubkey:r.publicKey,space:s.length}))),_.owner.equals(i)||(v=v||new Dt,v.add(Qt.assign({accountPubkey:r.publicKey,programId:i}))),_.lamports<k&&(v=v||new Dt,v.add(Qt.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:k-_.lamports})))}else v=new Dt().add(Qt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:k>0?k:1,space:s.length,programId:i}));v!==null&&await Ld(e,v,[t,r],{commitment:"confirmed"})}const l=oe.struct([oe.u32("instruction"),oe.u32("offset"),oe.u32("bytesLength"),oe.u32("bytesLengthPadding"),oe.seq(oe.u8("byte"),oe.offset(oe.u32(),-8),"bytes")]),c=Ts.chunkSize;let d=0,p=s,m=[];for(;p.length>0;){const k=p.slice(0,c),_=ut.alloc(c+16);l.encode({instruction:0,offset:d,bytes:k,bytesLength:0,bytesLengthPadding:0},_);const v=new Dt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:_});m.push(Ld(e,v,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await ms(1e3/4),d+=c,p=p.slice(c)}await Promise.all(m);{const k=oe.struct([oe.u32("instruction")]),_=ut.alloc(k.span);k.encode({instruction:1},_);const v=new Dt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Co,isSigner:!1,isWritable:!1}],programId:i,data:_}),C="processed",I=await e.sendTransaction(v,[t,r],{preflightCommitment:C}),{context:T,value:z}=await e.confirmTransaction({signature:I,lastValidBlockHeight:v.lastValidBlockHeight,blockhash:v.recentBlockhash},C);if(z.err)throw new Error(`Transaction ${I} failed (${JSON.stringify(z)})`);for(;;){try{if(await e.getSlot({commitment:C})>T.slot)break}catch{}await new Promise(K=>setTimeout(K,Math.round(e2/2)))}}return!0}}Ts.chunkSize=b6;const k6=new _e("BPFLoader2111111111111111111111111111111111");class S6{static getMinNumSignatures(e){return Ts.getMinNumSignatures(e)}static load(e,t,r,i,s){return Ts.load(e,t,r,s,i)}}function E6(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zp,T1;function A6(){if(T1)return Zp;T1=1;var n=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function t(r,i){var s,l,c,d,p,m,k;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),i);if(k=n.call(r),k==="[object Array]"){for(c="[",l=r.length-1,s=0;s<l;s++)c+=t(r[s],!0)+",";return l>-1&&(c+=t(r[s],!0)),c+"]"}else if(k==="[object Object]"){for(d=e(r).sort(),l=d.length,c="",s=0;s<l;)p=d[s],m=t(r[p],!1),m!==void 0&&(c&&(c+=","),c+=JSON.stringify(p)+":"+m),s++;return"{"+c+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Zp=function(r){var i=t(r,!1);if(i!==void 0)return""+i},Zp}var _6=A6(),C1=E6(_6);const $l=32;function Xp(n){let e=0;for(;n>1;)n/=2,e++;return e}function I6(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class r2{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Xp(I6(e+$l+1))-Xp($l)-1,r=this.getSlotsInEpoch(t),i=e-(r-$l);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*$l:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Xp($l)):this.slotsPerEpoch}}var P6=globalThis.fetch;class R6 extends T4{constructor(e,t,r){const i=s=>{const l=P4(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function T6(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const N1=56;class Km{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=T6(C6,e),r=e.length-N1;zt(r>=0,"lookup table is invalid"),zt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=oe.struct([oe.seq(Lt(),i,"addresses")]).decode(e.slice(N1));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new _e(t.authority[0]):void 0,addresses:s.map(l=>new _e(l))}}}const C6={index:1,layout:oe.struct([oe.u32("typeIndex"),Fa("deactivationSlot"),oe.nu64("lastExtendedSlot"),oe.u8("lastExtendedStartIndex"),oe.u8(),oe.seq(Lt(),oe.offset(oe.u8(),-1),"authority")])},N6=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function B6(n){const e=n.match(N6);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,l=n.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),d=c==null?"":`:${c+1}`;return`${l}//${r}${d}${s}`}const mn=bc(Hg(_e),$e(),n=>new _e(n)),o2=Gg([$e(),hn("base64")]),i0=bc(Hg(ut),o2,n=>ut.from(n[0],"base64")),i2=30*1e3;function M6(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Yt(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function B1(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function s2(n){return lr([Oe({jsonrpc:hn("2.0"),id:$e(),result:n}),Oe({jsonrpc:hn("2.0"),id:$e(),error:Oe({code:Ga(),message:$e(),data:gt(e4())})})])}const L6=s2(Ga());function Nt(n){return bc(s2(n),L6,e=>"error"in e?e:{...e,result:qe(e.result,n)})}function kn(n){return Nt(Oe({context:Oe({slot:ve()}),value:n}))}function xf(n){return Oe({context:Oe({slot:ve()}),value:n})}function Qp(n,e){return n===0?new Rs({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new _e(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:xn.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new io(e)}const O6=Oe({foundation:ve(),foundationTerm:ve(),initial:ve(),taper:ve(),terminal:ve()}),D6=Nt(Ye(Xe(Oe({epoch:ve(),effectiveSlot:ve(),amount:ve(),postBalance:ve(),commission:gt(Xe(ve()))})))),j6=Ye(Oe({slot:ve(),prioritizationFee:ve()})),F6=Oe({total:ve(),validator:ve(),foundation:ve(),epoch:ve()}),U6=Oe({epoch:ve(),slotIndex:ve(),slotsInEpoch:ve(),absoluteSlot:ve(),blockHeight:gt(ve()),transactionCount:gt(ve())}),z6=Oe({slotsPerEpoch:ve(),leaderScheduleSlotOffset:ve(),warmup:To(),firstNormalEpoch:ve(),firstNormalSlot:ve()}),$6=ME($e(),Ye(ve())),Ls=Xe(lr([Oe({}),$e()])),V6=Oe({err:Ls}),W6=hn("receivedSignature"),K6=Oe({"solana-core":$e(),"feature-set":gt(ve())}),q6=Oe({program:$e(),programId:mn,parsed:Ga()}),H6=Oe({programId:mn,accounts:Ye(mn),data:$e()}),M1=kn(Oe({err:Xe(lr([Oe({}),$e()])),logs:Xe(Ye($e())),accounts:gt(Xe(Ye(Xe(Oe({executable:To(),owner:$e(),lamports:ve(),data:Ye($e()),rentEpoch:gt(ve())}))))),unitsConsumed:gt(ve()),returnData:gt(Xe(Oe({programId:$e(),data:Gg([$e(),hn("base64")])}))),innerInstructions:gt(Xe(Ye(Oe({index:ve(),instructions:Ye(lr([q6,H6]))}))))})),G6=kn(Oe({byIdentity:ME($e(),Ye(ve())),range:Oe({firstSlot:ve(),lastSlot:ve()})}));function Y6(n,e,t,r,i,s){const l=t||P6;let c;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let d;return r&&(d=async(m,k)=>{const _=await new Promise((v,C)=>{try{r(m,k,(I,T)=>v([I,T]))}catch(I){C(I)}});return await l(..._)}),new E4(async(m,k)=>{const _={method:"POST",body:m,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},YL)};try{let v=5,C,I=500;for(;d?C=await d(n,_):C=await l(n,_),!(C.status!==429||i===!0||(v-=1,v===0));)console.error(`Server responded with ${C.status} ${C.statusText}.  Retrying after ${I}ms delay...`),await ms(I),I*=2;const T=await C.text();C.ok?k(null,T):k(new Error(`${C.status} ${C.statusText}: ${T}`))}catch(v){v instanceof Error&&k(v)}},{})}function Z6(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,l)=>{if(s){i(s);return}r(l)})})}function X6(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,l)=>{if(s){r(s);return}t(l)})})}const Q6=Nt(O6),J6=Nt(F6),eL=Nt(j6),tL=Nt(U6),nL=Nt(z6),rL=Nt($6),oL=Nt(ve()),iL=kn(Oe({total:ve(),circulating:ve(),nonCirculating:ve(),nonCirculatingAccounts:Ye(mn)})),qm=Oe({amount:$e(),uiAmount:Xe(ve()),decimals:ve(),uiAmountString:gt($e())}),sL=kn(Ye(Oe({address:mn,amount:$e(),uiAmount:Xe(ve()),decimals:ve(),uiAmountString:gt($e())}))),aL=kn(Ye(Oe({pubkey:mn,account:Oe({executable:To(),owner:mn,lamports:ve(),data:i0,rentEpoch:ve()})}))),Hm=Oe({program:$e(),parsed:Ga(),space:ve()}),lL=kn(Ye(Oe({pubkey:mn,account:Oe({executable:To(),owner:mn,lamports:ve(),data:Hm,rentEpoch:ve()})}))),cL=kn(Ye(Oe({lamports:ve(),address:mn}))),uc=Oe({executable:To(),owner:mn,lamports:ve(),data:i0,rentEpoch:ve()}),uL=Oe({pubkey:mn,account:uc}),dL=bc(lr([Hg(ut),Hm]),lr([o2,Hm]),n=>Array.isArray(n)?qe(n,i0):n),Gm=Oe({executable:To(),owner:mn,lamports:ve(),data:dL,rentEpoch:ve()}),fL=Oe({pubkey:mn,account:Gm}),hL=Oe({state:lr([hn("active"),hn("inactive"),hn("activating"),hn("deactivating")]),active:ve(),inactive:ve()}),pL=Nt(Ye(Oe({signature:$e(),slot:ve(),err:Ls,memo:Xe($e()),blockTime:gt(Xe(ve()))}))),mL=Nt(Ye(Oe({signature:$e(),slot:ve(),err:Ls,memo:Xe($e()),blockTime:gt(Xe(ve()))}))),gL=Oe({subscription:ve(),result:xf(uc)}),yL=Oe({pubkey:mn,account:uc}),wL=Oe({subscription:ve(),result:xf(yL)}),vL=Oe({parent:ve(),slot:ve(),root:ve()}),xL=Oe({subscription:ve(),result:vL}),bL=lr([Oe({type:lr([hn("firstShredReceived"),hn("completed"),hn("optimisticConfirmation"),hn("root")]),slot:ve(),timestamp:ve()}),Oe({type:hn("createdBank"),parent:ve(),slot:ve(),timestamp:ve()}),Oe({type:hn("frozen"),slot:ve(),timestamp:ve(),stats:Oe({numTransactionEntries:ve(),numSuccessfulTransactions:ve(),numFailedTransactions:ve(),maxTransactionsPerEntry:ve()})}),Oe({type:hn("dead"),slot:ve(),timestamp:ve(),err:$e()})]),kL=Oe({subscription:ve(),result:bL}),SL=Oe({subscription:ve(),result:xf(lr([V6,W6]))}),EL=Oe({subscription:ve(),result:ve()}),AL=Oe({pubkey:$e(),gossip:Xe($e()),tpu:Xe($e()),rpc:Xe($e()),version:Xe($e())}),L1=Oe({votePubkey:$e(),nodePubkey:$e(),activatedStake:ve(),epochVoteAccount:To(),epochCredits:Ye(Gg([ve(),ve(),ve()])),commission:ve(),lastVote:ve(),rootSlot:Xe(ve())}),_L=Nt(Oe({current:Ye(L1),delinquent:Ye(L1)})),IL=lr([hn("processed"),hn("confirmed"),hn("finalized")]),PL=Oe({slot:ve(),confirmations:Xe(ve()),err:Ls,confirmationStatus:gt(IL)}),RL=kn(Ye(Xe(PL))),TL=Nt(ve()),a2=Oe({accountKey:mn,writableIndexes:Ye(ve()),readonlyIndexes:Ye(ve())}),s0=Oe({signatures:Ye($e()),message:Oe({accountKeys:Ye($e()),header:Oe({numRequiredSignatures:ve(),numReadonlySignedAccounts:ve(),numReadonlyUnsignedAccounts:ve()}),instructions:Ye(Oe({accounts:Ye(ve()),data:$e(),programIdIndex:ve()})),recentBlockhash:$e(),addressTableLookups:gt(Ye(a2))})}),l2=Oe({pubkey:mn,signer:To(),writable:To(),source:gt(lr([hn("transaction"),hn("lookupTable")]))}),c2=Oe({accountKeys:Ye(l2),signatures:Ye($e())}),u2=Oe({parsed:Ga(),program:$e(),programId:mn}),d2=Oe({accounts:Ye(mn),data:$e(),programId:mn}),CL=lr([d2,u2]),NL=lr([Oe({parsed:Ga(),program:$e(),programId:$e()}),Oe({accounts:Ye($e()),data:$e(),programId:$e()})]),f2=bc(CL,NL,n=>"accounts"in n?qe(n,d2):qe(n,u2)),h2=Oe({signatures:Ye($e()),message:Oe({accountKeys:Ye(l2),instructions:Ye(f2),recentBlockhash:$e(),addressTableLookups:gt(Xe(Ye(a2)))})}),Od=Oe({accountIndex:ve(),mint:$e(),owner:gt($e()),programId:gt($e()),uiTokenAmount:qm}),p2=Oe({writable:Ye(mn),readonly:Ye(mn)}),bf=Oe({err:Ls,fee:ve(),innerInstructions:gt(Xe(Ye(Oe({index:ve(),instructions:Ye(Oe({accounts:Ye(ve()),data:$e(),programIdIndex:ve()}))})))),preBalances:Ye(ve()),postBalances:Ye(ve()),logMessages:gt(Xe(Ye($e()))),preTokenBalances:gt(Xe(Ye(Od))),postTokenBalances:gt(Xe(Ye(Od))),loadedAddresses:gt(p2),computeUnitsConsumed:gt(ve()),costUnits:gt(ve())}),a0=Oe({err:Ls,fee:ve(),innerInstructions:gt(Xe(Ye(Oe({index:ve(),instructions:Ye(f2)})))),preBalances:Ye(ve()),postBalances:Ye(ve()),logMessages:gt(Xe(Ye($e()))),preTokenBalances:gt(Xe(Ye(Od))),postTokenBalances:gt(Xe(Ye(Od))),loadedAddresses:gt(p2),computeUnitsConsumed:gt(ve()),costUnits:gt(ve())}),Ya=lr([hn(0),hn("legacy")]),Os=Oe({pubkey:$e(),lamports:ve(),postBalance:Xe(ve()),rewardType:Xe($e()),commission:gt(Xe(ve()))}),BL=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),transactions:Ye(Oe({transaction:s0,meta:Xe(bf),version:gt(Ya)})),rewards:gt(Ye(Os)),blockTime:Xe(ve()),blockHeight:Xe(ve())}))),ML=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),rewards:gt(Ye(Os)),blockTime:Xe(ve()),blockHeight:Xe(ve())}))),LL=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),transactions:Ye(Oe({transaction:c2,meta:Xe(bf),version:gt(Ya)})),rewards:gt(Ye(Os)),blockTime:Xe(ve()),blockHeight:Xe(ve())}))),OL=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),transactions:Ye(Oe({transaction:h2,meta:Xe(a0),version:gt(Ya)})),rewards:gt(Ye(Os)),blockTime:Xe(ve()),blockHeight:Xe(ve())}))),DL=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),transactions:Ye(Oe({transaction:c2,meta:Xe(a0),version:gt(Ya)})),rewards:gt(Ye(Os)),blockTime:Xe(ve()),blockHeight:Xe(ve())}))),jL=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),rewards:gt(Ye(Os)),blockTime:Xe(ve()),blockHeight:Xe(ve())}))),FL=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),transactions:Ye(Oe({transaction:s0,meta:Xe(bf)})),rewards:gt(Ye(Os)),blockTime:Xe(ve())}))),O1=Nt(Xe(Oe({blockhash:$e(),previousBlockhash:$e(),parentSlot:ve(),signatures:Ye($e()),blockTime:Xe(ve())}))),Jp=Nt(Xe(Oe({slot:ve(),meta:Xe(bf),blockTime:gt(Xe(ve())),transaction:s0,version:gt(Ya)}))),Yu=Nt(Xe(Oe({slot:ve(),transaction:h2,meta:Xe(a0),blockTime:gt(Xe(ve())),version:gt(Ya)}))),UL=kn(Oe({blockhash:$e(),lastValidBlockHeight:ve()})),zL=kn(To()),$L=Oe({slot:ve(),numTransactions:ve(),numSlots:ve(),samplePeriodSecs:ve()}),VL=Nt(Ye($L)),WL=kn(Xe(Oe({feeCalculator:Oe({lamportsPerSignature:ve()})}))),KL=Nt($e()),qL=Nt($e()),HL=Oe({err:Ls,logs:Ye($e()),signature:$e()}),GL=Oe({result:xf(HL),subscription:ve()}),YL={"solana-client":"js/1.0.0-maintenance"};class l0{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const p={};return async m=>{const{commitment:k,config:_}=Yt(m),v=this._buildArgs([],k,void 0,_),C=C1(v);return p[C]=p[C]??(async()=>{try{const I=await this._rpcRequest("getBlockHeight",v),T=qe(I,Nt(ve()));if("error"in T)throw new ft(T.error,"failed to get block height information");return T.result}finally{delete p[C]}})(),await p[C]}})();let r,i,s,l,c,d;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,l=t.fetchMiddleware,c=t.disableRetryOnRateLimit,d=t.httpAgent),this._rpcEndpoint=M6(e),this._rpcWsEndpoint=r||B6(e),this._rpcClient=Y6(e,i,s,l,c,d),this._rpcRequest=Z6(this._rpcClient),this._rpcBatchRequest=X6(this._rpcClient),this._rpcWebSocket=new R6(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgs([e.toBase58()],r,void 0,i),l=await this._rpcRequest("getBalance",s),c=qe(l,kn(ve()));if("error"in c)throw new ft(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=qe(t,Nt(Xe(ve())));if("error"in r)throw new ft(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=qe(e,Nt(ve()));if("error"in t)throw new ft(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=qe(e,oL);if("error"in t)throw new ft(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=qe(r,iL);if("error"in i)throw new ft(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=qe(i,kn(qm));if("error"in s)throw new ft(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=qe(i,kn(qm));if("error"in s)throw new ft(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Yt(r);let l=[e.toBase58()];"mint"in t?l.push({mint:t.mint.toBase58()}):l.push({programId:t.programId.toBase58()});const c=this._buildArgs(l,i,"base64",s),d=await this._rpcRequest("getTokenAccountsByOwner",c),p=qe(d,aL);if("error"in p)throw new ft(p.error,`failed to get token accounts owned by account ${e.toBase58()}`);return p.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",s),c=qe(l,lL);if("error"in c)throw new ft(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=qe(i,cL);if("error"in s)throw new ft(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=qe(i,sL);if("error"in s)throw new ft(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgs([e.toBase58()],r,"base64",i),l=await this._rpcRequest("getAccountInfo",s),c=qe(l,kn(Xe(uc)));if("error"in c)throw new ft(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),l=await this._rpcRequest("getAccountInfo",s),c=qe(l,kn(Xe(Gm)));if("error"in c)throw new ft(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Yt(t),s=e.map(p=>p.toBase58()),l=this._buildArgs([s],r,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",l),d=qe(c,kn(Ye(Xe(Gm))));if("error"in d)throw new ft(d.error,`failed to get info for accounts ${s}`);return d.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Yt(t),s=e.map(p=>p.toBase58()),l=this._buildArgs([s],r,"base64",i),c=await this._rpcRequest("getMultipleAccounts",l),d=qe(c,kn(Ye(Xe(uc))));if("error"in d)throw new ft(d.error,`failed to get info for accounts ${s}`);return d.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Yt(t),l=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??s?.epoch}),c=await this._rpcRequest("getStakeActivation",l),d=qe(c,Nt(hL));if("error"in d)throw new ft(d.error,`failed to get Stake Activation ${e.toBase58()}`);return d.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Yt(t),{encoding:s,...l}=i||{},c=this._buildArgs([e.toBase58()],r,s||"base64",{...l,...l.filters?{filters:B1(l.filters)}:null}),d=await this._rpcRequest("getProgramAccounts",c),p=Ye(uL),m=l.withContext===!0?qe(d,kn(p)):qe(d,Nt(p));if("error"in m)throw new ft(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),l=await this._rpcRequest("getProgramAccounts",s),c=qe(l,Nt(Ye(fL)));if("error"in c)throw new ft(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,t){let r;if(typeof e=="string")r=e;else{const s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=xn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return zt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const l=new Promise((d,p)=>{try{r=this.onSignature(t,(k,_)=>{r=void 0;const v={context:_,value:k};d({__type:qo.PROCESSED,response:v})},e);const m=new Promise(k=>{r==null?k():i=this._onSubscriptionStateChange(r,_=>{_==="subscribed"&&k()})});(async()=>{if(await m,s)return;const k=await this.getSignatureStatus(t);if(s||k==null)return;const{context:_,value:v}=k;if(v!=null)if(v?.err)p(v.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(v.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(v.confirmationStatus==="processed"||v.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,d({__type:qo.PROCESSED,response:{context:_,value:v}})}})()}catch(m){p(m)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const l=new Promise(k=>{const _=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let v=await _();if(!s){for(;v<=r;)if(await ms(1e3),s||(v=await _(),s))return;k({__type:qo.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),p=this.getCancellationPromise(t);let m;try{const k=await Promise.race([p,d,l]);if(k.__type===qo.PROCESSED)m=k.response;else throw new e0(i)}finally{s=!0,c()}return m}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:l}}){let c=!1;const d=new Promise(v=>{let C=s,I=null;const T=async()=>{try{const{context:z,value:K}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return I=z.slot,K?.nonce}catch{return C}};(async()=>{if(C=await T(),!c)for(;;){if(s!==C){v({__type:qo.NONCE_INVALID,slotInWhichNonceDidAdvance:I});return}if(await ms(2e3),c||(C=await T(),c))return}})()}),{abortConfirmation:p,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:e,signature:l}),k=this.getCancellationPromise(t);let _;try{const v=await Promise.race([k,m,d]);if(v.__type===qo.PROCESSED)_=v.response;else{let C;for(;;){const I=await this.getSignatureStatus(l);if(I==null)break;if(I.context.slot<(v.slotInWhichNonceDidAdvance??r)){await ms(400);continue}C=I;break}if(C?.value){const I=e||"finalized",{confirmationStatus:T}=C.value;switch(I){case"processed":case"recent":if(T!=="processed"&&T!=="confirmed"&&T!=="finalized")throw new Sa(l);break;case"confirmed":case"single":case"singleGossip":if(T!=="confirmed"&&T!=="finalized")throw new Sa(l);break;case"finalized":case"max":case"root":if(T!=="finalized")throw new Sa(l);break;default:}_={context:C.context,value:{err:C.value.err}}}else throw new Sa(l)}}finally{c=!0,p()}return _}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(d=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{p=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>d({__type:qo.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:s,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let c;try{const d=await Promise.race([l,i]);if(d.__type===qo.PROCESSED)c=d.response;else throw new t0(t,d.timeoutMs/1e3)}finally{clearTimeout(r),s()}return c}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=qe(e,Nt(Ye(AL)));if("error"in t)throw new ft(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=qe(r,_L);if("error"in i)throw new ft(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Yt(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),l=qe(s,Nt(ve()));if("error"in l)throw new ft(l.error,"failed to get slot");return l.result}async getSlotLeader(e){const{commitment:t,config:r}=Yt(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),l=qe(s,Nt($e()));if("error"in l)throw new ft(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=qe(i,Nt(Ye(mn)));if("error"in s)throw new ft(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);zt(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=qe(i,RL);if("error"in s)throw new ft(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Yt(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),l=qe(s,Nt(ve()));if("error"in l)throw new ft(l.error,"failed to get transaction count");return l.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=qe(r,Q6);if("error"in i)throw new ft(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Yt(r),l=this._buildArgs([e.map(p=>p.toBase58())],i,void 0,{...s,epoch:t??s?.epoch}),c=await this._rpcRequest("getInflationReward",l),d=qe(c,D6);if("error"in d)throw new ft(d.error,"failed to get inflation reward");return d.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=qe(e,J6);if("error"in t)throw new ft(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Yt(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),l=qe(s,tL);if("error"in l)throw new ft(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=qe(e,nL);if("error"in t)throw new ft(t.error,"failed to get epoch schedule");const r=t.result;return new r2(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=qe(e,rL);if("error"in t)throw new ft(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=qe(i,TL);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=qe(t,VL);if("error"in r)throw new ft(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=qe(i,WL);if("error"in s)throw new ft(s.error,"failed to get fee calculator");const{context:l,value:c}=s.result;return{context:l,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,t){const r=Bt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),l=qe(s,kn(Xe(ve())));if("error"in l)throw new ft(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map(l=>l.toBase58()),r=t?.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=qe(i,eL);if("error"in s)throw new ft(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Yt(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),l=qe(s,UL);if("error"in l)throw new ft(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgs([e],r,void 0,i),l=await this._rpcRequest("isBlockhashValid",s),c=qe(l,zL);if("error"in c)throw new ft(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=qe(e,Nt(K6));if("error"in t)throw new ft(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=qe(e,Nt($e()));if("error"in t)throw new ft(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),l=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const c=qe(l,LL);if("error"in c)throw c.error;return c.result}case"none":{const c=qe(l,ML);if("error"in c)throw c.error;return c.result}default:{const c=qe(l,BL);if("error"in c)throw c.error;const{result:d}=c;return d?{...d,transactions:d.transactions.map(({transaction:p,meta:m,version:k})=>({meta:m,transaction:{...p,message:Qp(k,p.message)},version:k}))}:null}}}catch(c){throw new ft(c,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),l=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const c=qe(l,DL);if("error"in c)throw c.error;return c.result}case"none":{const c=qe(l,jL);if("error"in c)throw c.error;return c.result}default:{const c=qe(l,OL);if("error"in c)throw c.error;return c.result}}}catch(c){throw new ft(c,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:c,...d}=e;r=c,t=d}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),l=qe(s,G6);if("error"in l)throw new ft(l.error,"failed to get block production information");return l.result}async getTransaction(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),l=await this._rpcRequest("getTransaction",s),c=qe(l,Jp);if("error"in c)throw new ft(c.error,"failed to get transaction");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:Qp(d.version,d.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Yt(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),l=await this._rpcRequest("getTransaction",s),c=qe(l,Yu);if("error"in c)throw new ft(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Yt(t),s=e.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(d=>{const p=qe(d,Yu);if("error"in p)throw new ft(p.error,"failed to get transactions");return p.result})}async getTransactions(e,t){const{commitment:r,config:i}=Yt(t),s=e.map(d=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([d],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(d=>{const p=qe(d,Jp);if("error"in p)throw new ft(p.error,"failed to get transactions");const m=p.result;return m&&{...m,transaction:{...m.transaction,message:Qp(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getBlock",r),s=qe(i,FL);if("error"in s)throw new ft(s.error,"failed to get confirmed block");const l=s.result;if(!l)throw new Error("Confirmed block "+e+" not found");const c={...l,transactions:l.transactions.map(({transaction:d,meta:p})=>{const m=new io(d.message);return{meta:p,transaction:{...d,message:m}}})};return{...c,transactions:c.transactions.map(({transaction:d,meta:p})=>({meta:p,transaction:Dt.populate(d.message,d.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),l=qe(s,Nt(Ye(ve())));if("error"in l)throw new ft(l.error,"failed to get blocks");return l.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=qe(i,O1);if("error"in s)throw new ft(s.error,"failed to get block");const l=s.result;if(!l)throw new Error("Block "+e+" not found");return l}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=qe(i,O1);if("error"in s)throw new ft(s.error,"failed to get confirmed block");const l=s.result;if(!l)throw new Error("Confirmed block "+e+" not found");return l}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getTransaction",r),s=qe(i,Jp);if("error"in s)throw new ft(s.error,"failed to get transaction");const l=s.result;if(!l)return l;const c=new io(l.transaction.message),d=l.transaction.signatures;return{...l,transaction:Dt.populate(c,d)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=qe(i,Yu);if("error"in s)throw new ft(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(l=>{const c=qe(l,Yu);if("error"in c)throw new ft(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const d=await this.getConfirmedBlockSignatures(t,"finalized");d.signatures.length>0&&(i.until=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}let l=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>l));)try{const d=await this.getConfirmedBlockSignatures(r);d.signatures.length>0&&(i.before=d.signatures[d.signatures.length-1].toString())}catch(d){if(d instanceof Error&&d.message.includes("skipped"))continue;throw d}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(d=>d.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),l=qe(s,pL);if("error"in l)throw new ft(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),l=qe(s,mL);if("error"in l)throw new ft(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new Km({key:e,state:Km.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=vf.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=qe(r,KL);if("error"in i)throw new ft(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ms(100);const r=Date.now()-this._blockhashInfo.lastFetch>=i2;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await ms(e2/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Yt(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),l=qe(s,kn(ve()));if("error"in l)throw new ft(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(e,t,r){if("message"in e){const I=e.serialize(),T=ut.from(I).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const z=t||{};z.encoding="base64","commitment"in z||(z.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(z.innerInstructions=t.innerInstructions);const K=[T,z],F=await this._rpcRequest("simulateTransaction",K),Y=qe(F,M1);if("error"in Y)throw new Error("failed to simulate transaction: "+Y.error.message);return Y.result}let i;if(e instanceof Dt){let C=e;i=new Dt,i.feePayer=C.feePayer,i.instructions=e.instructions,i.nonceInfo=C.nonceInfo,i.signatures=C.signatures}else i=Dt.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let C=this._disableBlockhashCaching;for(;;){const I=await this._blockhashWithExpiryBlockHeight(C);if(i.lastValidBlockHeight=I.lastValidBlockHeight,i.recentBlockhash=I.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const T=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(T)&&!this._blockhashInfo.transactionSignatures.includes(T)){this._blockhashInfo.simulatedSignatures.push(T);break}else C=!0}}const l=i._compile(),c=l.serialize(),p=i._serialize(c).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(r){const C=(Array.isArray(r)?r:l.nonProgramIds()).map(I=>I.toBase58());m.accounts={encoding:"base64",addresses:C}}s&&(m.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(m.innerInstructions=t.innerInstructions);const k=[p,m],_=await this._rpcRequest("simulateTransaction",k),v=qe(_,M1);if("error"in v){let C;if("data"in v.error&&(C=v.error.data.logs,C&&Array.isArray(C))){const I=`
    `,T=I+C.join(I);console.error(v.error.message,T)}throw new Yi({action:"simulate",signature:"",transactionMessage:v.error.message,logs:C})}return v.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const l=e.serialize();return await this.sendRawTransaction(l,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let l=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(l);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const d=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(d))l=!0;else{this._blockhashInfo.transactionSignatures.push(d);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Bt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const l=[e,r],c=await this._rpcRequest("sendTransaction",l),d=qe(c,qL);if("error"in d){let p;throw"data"in d.error&&(p=d.error.data.logs),new Yi({action:i?"send":"simulate",signature:"",transactionMessage:d.error.message,logs:p})}return d.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:l}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const c=await this._rpcWebSocket.call(l,s);this._setSubscription(r,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:s,error:c}),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:l}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[s])}catch(c){if(c instanceof Error&&console.error(`${l} error:`,c.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=qe(e,gL);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=C1([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const l=this._subscriptionsByHash[i];zt(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),l.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:i,config:s}=Yt(r),l=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=qe(e,wL);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const{commitment:s,config:l}=Yt(r),c=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",l||(i?{filters:B1(i)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=qe(e,GL);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=qe(e,xL);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=qe(e,kL);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let l={};r&&(l.encoding=r),s&&(l.commitment=s),i&&(l=Object.assign(l,i)),e.push(l)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=qe(e,SL);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(l,c)=>{if(l.type==="status"){t(l.result,c);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},l=this._buildArgs([e],i,void 0,s),c=this._makeSubscription({callback:(d,p)=>{t(d,p);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=qe(e,EL);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ta{constructor(e){this._keypair=void 0,this._keypair=e??I1()}static generate(){return new Ta(I1())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=Md(i);for(let l=0;l<32;l++)if(r[l]!==s[l])throw new Error("provided secretKey is invalid")}return new Ta({publicKey:r,secretKey:e})}static fromSeed(e){const t=Md(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Ta({publicKey:t,secretKey:r})}get publicKey(){return new _e(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Xo=Object.freeze({CreateLookupTable:{index:0,layout:oe.struct([oe.u32("instruction"),Fa("recentSlot"),oe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe.struct([oe.u32("instruction")])},ExtendLookupTable:{index:2,layout:oe.struct([oe.u32("instruction"),Fa(),oe.seq(Lt(),oe.offset(oe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe.struct([oe.u32("instruction")])},CloseLookupTable:{index:4,layout:oe.struct([oe.u32("instruction")])}});class ZL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe.u32("instruction").decode(e.data);let i;for(const[s,l]of Object.entries(Xo))if(l.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Wt(Xo.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Wt(Xo.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new _e(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(c0.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class c0{constructor(){}static createLookupTable(e){const[t,r]=_e.findProgramAddressSync([e.authority.toBuffer(),CE().encode(e.recentSlot)],this.programId),i=Xo.CreateLookupTable,s=jt(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Qt.programId,isSigner:!1,isWritable:!1}];return[new $t({programId:this.programId,keys:l,data:s}),t]}static freezeLookupTable(e){const t=Xo.FreezeLookupTable,r=jt(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $t({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Xo.ExtendLookupTable,r=jt(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Qt.programId,isSigner:!1,isWritable:!1}),new $t({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Xo.DeactivateLookupTable,r=jt(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $t({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Xo.CloseLookupTable,r=jt(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new $t({programId:this.programId,keys:i,data:r})}}c0.programId=new _e("AddressLookupTab1e1111111111111111111111111");class XL{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe.u8("instruction").decode(e.data);let i;for(const[s,l]of Object.entries(ko))if(l.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Wt(ko.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Wt(ko.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Wt(ko.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Wt(ko.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(u0.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ko=Object.freeze({RequestUnits:{index:0,layout:oe.struct([oe.u8("instruction"),oe.u32("units"),oe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:oe.struct([oe.u8("instruction"),oe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:oe.struct([oe.u8("instruction"),oe.u32("units")])},SetComputeUnitPrice:{index:3,layout:oe.struct([oe.u8("instruction"),Fa("microLamports")])}});class u0{constructor(){}static requestUnits(e){const t=ko.RequestUnits,r=jt(t,e);return new $t({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=ko.RequestHeapFrame,r=jt(t,e);return new $t({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=ko.SetComputeUnitLimit,r=jt(t,e);return new $t({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=ko.SetComputeUnitPrice,r=jt(t,{microLamports:BigInt(e.microLamports)});return new $t({keys:[],programId:this.programId,data:r})}}u0.programId=new _e("ComputeBudget111111111111111111111111111111");const D1=64,j1=32,F1=64,U1=oe.struct([oe.u8("numSignatures"),oe.u8("padding"),oe.u16("signatureOffset"),oe.u16("signatureInstructionIndex"),oe.u16("publicKeyOffset"),oe.u16("publicKeyInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u16("messageInstructionIndex")]);class kf{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;zt(t.length===j1,`Public Key must be ${j1} bytes but received ${t.length} bytes`),zt(i.length===F1,`Signature must be ${F1} bytes but received ${i.length} bytes`);const l=U1.span,c=l+t.length,d=c+i.length,p=1,m=ut.alloc(d+r.length),k=s??65535;return U1.encode({numSignatures:p,padding:0,signatureOffset:c,signatureInstructionIndex:k,publicKeyOffset:l,publicKeyInstructionIndex:k,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:k},m),m.fill(t,l),m.fill(i,c),m.fill(r,d),new $t({keys:[],programId:kf.programId,data:m})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;zt(t.length===D1,`Private key must be ${D1} bytes but received ${t.length} bytes`);try{const s=Ta.fromSecretKey(t),l=s.publicKey.toBytes(),c=Qg(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:l,message:r,signature:c,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}kf.programId=new _e("Ed25519SigVerify111111111111111111111111111");const QL=(n,e)=>{const t=Xg.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};Xg.utils.isValidPrivateKey;const JL=Xg.getPublicKey,z1=32,em=20,$1=64,e5=11,tm=oe.struct([oe.u8("numSignatures"),oe.u16("signatureOffset"),oe.u8("signatureInstructionIndex"),oe.u16("ethAddressOffset"),oe.u8("ethAddressInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u8("messageInstructionIndex"),oe.blob(20,"ethAddress"),oe.blob(64,"signature"),oe.u8("recoveryId")]);class Ca{constructor(){}static publicKeyToEthAddress(e){zt(e.length===$1,`Public key must be ${$1} bytes but received ${e.length} bytes`);try{return ut.from(E1(Bt(e))).slice(-em)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:l}=e;return Ca.createInstructionWithEthAddress({ethAddress:Ca.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:l})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:l=0}=e;let c;typeof t=="string"?t.startsWith("0x")?c=ut.from(t.substr(2),"hex"):c=ut.from(t,"hex"):c=t,zt(c.length===em,`Address must be ${em} bytes but received ${c.length} bytes`);const d=1+e5,p=d,m=d+c.length,k=m+i.length+1,_=1,v=ut.alloc(tm.span+r.length);return tm.encode({numSignatures:_,signatureOffset:m,signatureInstructionIndex:l,ethAddressOffset:p,ethAddressInstructionIndex:l,messageDataOffset:k,messageDataSize:r.length,messageInstructionIndex:l,signature:Bt(i),ethAddress:Bt(c),recoveryId:s},v),v.fill(Bt(r),tm.span),new $t({keys:[],programId:Ca.programId,data:v})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;zt(t.length===z1,`Private key must be ${z1} bytes but received ${t.length} bytes`);try{const s=Bt(t),l=JL(s,!1).slice(1),c=ut.from(E1(Bt(r))),[d,p]=QL(c,s);return this.createInstructionWithPublicKey({publicKey:l,message:r,signature:d,recoveryId:p,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Ca.programId=new _e("KeccakSecp256k11111111111111111111111111111");var m2;const g2=new _e("StakeConfig11111111111111111111111111111111");class y2{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class kc{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}m2=kc;kc.default=new m2(0,0,_e.default);class t5{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe.u32("instruction").decode(e.data);let i;for(const[s,l]of Object.entries(Dn))if(l.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Wt(Dn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new y2(new _e(t.staker),new _e(t.withdrawer)),lockup:new kc(r.unixTimestamp,r.epoch,new _e(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Wt(Dn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Wt(Dn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new _e(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=Wt(Dn.AuthorizeWithSeed,e.data),l={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new _e(s),newAuthorizedPubkey:new _e(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(l.custodianPubkey=e.keys[3].pubkey),l}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Wt(Dn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wt(Dn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Wt(Dn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wt(Dn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Sf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Dn=Object.freeze({Initialize:{index:0,layout:oe.struct([oe.u32("instruction"),s6(),a6()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Lt("newAuthorized"),oe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:oe.struct([oe.u32("instruction")])},Split:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Withdraw:{index:4,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Deactivate:{index:5,layout:oe.struct([oe.u32("instruction")])},Merge:{index:7,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:oe.struct([oe.u32("instruction"),Lt("newAuthorized"),oe.u32("stakeAuthorizationType"),vs("authoritySeed"),Lt("authorityOwner")])}}),n5=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Sf{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||kc.default,l=Dn.Initialize,c=jt(l,{authorized:{staker:Bt(r.staker.toBuffer()),withdrawer:Bt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Bt(s.custodian.toBuffer())}}),d={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Co,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new $t(d)}static createAccountWithSeed(e){const t=new Dt;t.add(Qt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new Dt;t.add(Qt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Dn.Delegate,l=jt(s);return new Dt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:g2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:l}=e,c=Dn.Authorize,d=jt(c,{newAuthorized:Bt(i.toBuffer()),stakeAuthorizationType:s.index}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return l&&p.push({pubkey:l,isSigner:!0,isWritable:!1}),new Dt().add({keys:p,programId:this.programId,data:d})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:l,stakeAuthorizationType:c,custodianPubkey:d}=e,p=Dn.AuthorizeWithSeed,m=jt(p,{newAuthorized:Bt(l.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:Bt(s.toBuffer())}),k=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1}];return d&&k.push({pubkey:d,isSigner:!0,isWritable:!1}),new Dt().add({keys:k,programId:this.programId,data:m})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,l=Dn.Split,c=jt(l,{lamports:s});return new $t({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,t){const r=new Dt;return r.add(Qt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:l,seed:c,lamports:d}=e,p=new Dt;return p.add(Qt.allocate({accountPubkey:s,basePubkey:l,seed:c,space:this.space,programId:this.programId})),t&&t>0&&p.add(Qt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),p.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:d}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Dn.Merge,l=jt(s);return new Dt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:l}=e,c=Dn.Withdraw,d=jt(c,{lamports:s}),p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return l&&p.push({pubkey:l,isSigner:!0,isWritable:!1}),new Dt().add({keys:p,programId:this.programId,data:d})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Dn.Deactivate,s=jt(i);return new Dt().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}Sf.programId=new _e("Stake11111111111111111111111111111111111111");Sf.space=200;class w2{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}}class r5{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe.u32("instruction").decode(e.data);let i;for(const[s,l]of Object.entries(So))if(l.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Wt(So.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new w2(new _e(t.nodePubkey),new _e(t.authorizedVoter),new _e(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Wt(So.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new _e(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=Wt(So.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new _e(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new _e(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Wt(So.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Za.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const So=Object.freeze({InitializeAccount:{index:0,layout:oe.struct([oe.u32("instruction"),l6()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Lt("newAuthorized"),oe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),c6()])}}),o5=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Za{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=So.InitializeAccount,l=jt(s,{voteInit:{nodePubkey:Bt(i.nodePubkey.toBuffer()),authorizedVoter:Bt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Bt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Co,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:l};return new $t(c)}static createAccount(e){const t=new Dt;return t.add(Qt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,l=So.Authorize,c=jt(l,{newAuthorized:Bt(i.toBuffer()),voteAuthorizationType:s.index}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dt().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:l,votePubkey:c}=e,d=So.AuthorizeWithSeed,p=jt(d,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Bt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Bt(s.toBuffer()),voteAuthorizationType:l.index}}),m=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Dt().add({keys:m,programId:this.programId,data:p})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,l=So.Withdraw,c=jt(l,{lamports:i}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dt().add({keys:d,programId:this.programId,data:c})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Za.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=So.UpdateValidatorIdentity,l=jt(s),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dt().add({keys:c,programId:this.programId,data:l})}}Za.programId=new _e("Vote111111111111111111111111111111111111111");Za.space=3762;const v2=new _e("Va1idator1nfo111111111111111111111111111111"),i5=Oe({name:$e(),website:gt($e()),details:gt($e()),iconUrl:gt($e()),keybaseUsername:gt($e())});class d0{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(wr(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const l=new _e(vr(t,0,Io)),c=bo(t)===1;i.push({publicKey:l,isSigner:c})}if(i[0].publicKey.equals(v2)&&i[1].isSigner){const s=vs().decode(ut.from(t)),l=JSON.parse(s);return NE(l,i5),new d0(i[1].publicKey,l)}return null}}const s5=new _e("Vote111111111111111111111111111111111111111"),a5=oe.struct([Lt("nodePubkey"),Lt("authorizedWithdrawer"),oe.u8("commission"),oe.nu64(),oe.seq(oe.struct([oe.nu64("slot"),oe.u32("confirmationCount")]),oe.offset(oe.u32(),-8),"votes"),oe.u8("rootSlotValid"),oe.nu64("rootSlot"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),Lt("authorizedVoter")]),oe.offset(oe.u32(),-8),"authorizedVoters"),oe.struct([oe.seq(oe.struct([Lt("authorizedPubkey"),oe.nu64("epochOfLastAuthorizedSwitch"),oe.nu64("targetEpoch")]),32,"buf"),oe.nu64("idx"),oe.u8("isEmpty")],"priorVoters"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),oe.nu64("credits"),oe.nu64("prevCredits")]),oe.offset(oe.u32(),-8),"epochCredits"),oe.struct([oe.nu64("slot"),oe.nu64("timestamp")],"lastTimestamp")]);class f0{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=a5.decode(Bt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new f0({nodePubkey:new _e(r.nodePubkey),authorizedWithdrawer:new _e(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(l5),priorVoters:c5(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function l5({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new _e(n)}}function V1({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new _e(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function c5({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(V1),...n.slice(0,e).map(V1)]}const W1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function u5(n,e){const t=e===!1?"http":"https";if(!n)return W1[t].devnet;const r=W1[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function d5(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const l=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},c=await n.sendRawTransaction(e,l),d=s&&s.commitment,m=(await(i?n.confirmTransaction(i,d):n.confirmTransaction(c,d))).value;if(m.err)throw c!=null?new Yi({action:l?.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(m)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(m)})`);return c}const f5=1e9,hd=Object.freeze(Object.defineProperty({__proto__:null,Account:r6,AddressLookupTableAccount:Km,AddressLookupTableInstruction:ZL,AddressLookupTableProgram:c0,Authorized:y2,BLOCKHASH_CACHE_TIMEOUT_MS:i2,BPF_LOADER_DEPRECATED_PROGRAM_ID:o6,BPF_LOADER_PROGRAM_ID:k6,BpfLoader:S6,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ko,ComputeBudgetInstruction:XL,ComputeBudgetProgram:u0,Connection:l0,Ed25519Program:kf,Enum:t6,EpochSchedule:r2,FeeCalculatorLayout:t2,Keypair:Ta,LAMPORTS_PER_SOL:f5,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Xo,Loader:Ts,Lockup:kc,MAX_SEED_LENGTH:XE,Message:io,MessageAccountKeys:cc,MessageV0:Rs,NONCE_ACCOUNT_LENGTH:Wm,NonceAccount:vf,PACKET_DATA_SIZE:Wi,PUBLIC_KEY_LENGTH:Io,PublicKey:_e,SIGNATURE_LENGTH_IN_BYTES:lc,SOLANA_SCHEMA:Yl,STAKE_CONFIG_ID:g2,STAKE_INSTRUCTION_LAYOUTS:Dn,SYSTEM_INSTRUCTION_LAYOUTS:Zt,SYSVAR_CLOCK_PUBKEY:eo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:p6,SYSVAR_INSTRUCTIONS_PUBKEY:m6,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:dd,SYSVAR_RENT_PUBKEY:Co,SYSVAR_REWARDS_PUBKEY:g6,SYSVAR_SLOT_HASHES_PUBKEY:y6,SYSVAR_SLOT_HISTORY_PUBKEY:w6,SYSVAR_STAKE_HISTORY_PUBKEY:fd,Secp256k1Program:Ca,SendTransactionError:Yi,SolanaJSONRPCError:ft,SolanaJSONRPCErrorCode:v6,StakeAuthorizationLayout:n5,StakeInstruction:t5,StakeProgram:Sf,Struct:Jg,SystemInstruction:x6,SystemProgram:Qt,Transaction:Dt,TransactionExpiredBlockheightExceededError:e0,TransactionExpiredNonceInvalidError:Sa,TransactionExpiredTimeoutError:t0,TransactionInstruction:$t,TransactionMessage:r0,TransactionStatus:qo,VALIDATOR_INFO_KEY:v2,VERSION_PREFIX_MASK:yf,VOTE_PROGRAM_ID:s5,ValidatorInfo:d0,VersionedMessage:n0,VersionedTransaction:o0,VoteAccount:f0,VoteAuthorizationLayout:o5,VoteInit:w2,VoteInstruction:r5,VoteProgram:Za,clusterApiUrl:u5,sendAndConfirmRawTransaction:d5,sendAndConfirmTransaction:Ld},Symbol.toStringTag,{value:"Module"})),K1=globalThis||void 0||self;var Zu={exports:{}},q1;function h5(){if(q1)return Zu.exports;q1=1;const n=/[\p{Lu}]/u,e=/[\p{Ll}]/u,t=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,s=new RegExp("^"+i.source),l=new RegExp(i.source+r.source,"gu"),c=new RegExp("\\d+"+r.source,"gu"),d=(_,v,C)=>{let I=!1,T=!1,z=!1;for(let K=0;K<_.length;K++){const F=_[K];I&&n.test(F)?(_=_.slice(0,K)+"-"+_.slice(K),I=!1,z=T,T=!0,K++):T&&z&&e.test(F)?(_=_.slice(0,K-1)+"-"+_.slice(K-1),z=T,T=!1,I=!0):(I=v(F)===F&&C(F)!==F,z=T,T=C(F)===F&&v(F)!==F)}return _},p=(_,v)=>(t.lastIndex=0,_.replace(t,C=>v(C))),m=(_,v)=>(l.lastIndex=0,c.lastIndex=0,_.replace(l,(C,I)=>v(I)).replace(c,C=>v(C))),k=(_,v)=>{if(!(typeof _=="string"||Array.isArray(_)))throw new TypeError("Expected the input to be `string | string[]`");if(v={pascalCase:!1,preserveConsecutiveUppercase:!1,...v},Array.isArray(_)?_=_.map(z=>z.trim()).filter(z=>z.length).join("-"):_=_.trim(),_.length===0)return"";const C=v.locale===!1?z=>z.toLowerCase():z=>z.toLocaleLowerCase(v.locale),I=v.locale===!1?z=>z.toUpperCase():z=>z.toLocaleUpperCase(v.locale);return _.length===1?v.pascalCase?I(_):C(_):(_!==C(_)&&(_=d(_,C,I)),_=_.replace(s,""),v.preserveConsecutiveUppercase?_=p(_,C):_=C(_),v.pascalCase&&(_=I(_.charAt(0))+_.slice(1)),m(_,I))};return Zu.exports=k,Zu.exports.default=k,Zu.exports}var p5=h5();const ln=Xi(p5);var Vl={},et={},H1;function G1(){if(H1)return et;H1=1;class n{constructor(b,w){if(!Number.isInteger(b))throw new TypeError("span must be an integer");this.span=b,this.property=w}makeDestinationObject(){return{}}decode(b,w){throw new Error("Layout is abstract")}encode(b,w,h){throw new Error("Layout is abstract")}getSpan(b,w){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(b){const w=Object.create(this.constructor.prototype);return Object.assign(w,this),w.property=b,w}fromArray(b){}}et.Layout=n;function e(N,b){return b.property?N+"["+b.property+"]":N}et.nameWithProperty=e;function t(N,b){if(typeof N!="function")throw new TypeError("Class must be constructor");if(N.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(b&&b instanceof n))throw new TypeError("layout must be a Layout");if(b.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");N.layout_=b,b.boundConstructor_=N,b.makeDestinationObject=(()=>new N),Object.defineProperty(N.prototype,"encode",{value:function(w,h){return b.encode(this,w,h)},writable:!0}),Object.defineProperty(N,"decode",{value:function(w,h){return b.decode(w,h)},writable:!0})}et.bindConstructorLayout=t;class r extends n{isCount(){throw new Error("ExternalLayout is abstract")}}class i extends r{constructor(b,w){if(b===void 0&&(b=1),!Number.isInteger(b)||0>=b)throw new TypeError("elementSpan must be a (positive) integer");super(-1,w),this.elementSpan=b}isCount(){return!0}decode(b,w){w===void 0&&(w=0);const h=b.length-w;return Math.floor(h/this.elementSpan)}encode(b,w,h){return 0}}class s extends r{constructor(b,w,h){if(!(b instanceof n))throw new TypeError("layout must be a Layout");if(w===void 0)w=0;else if(!Number.isInteger(w))throw new TypeError("offset must be integer or undefined");super(b.span,h||b.property),this.layout=b,this.offset=w}isCount(){return this.layout instanceof l||this.layout instanceof c}decode(b,w){return w===void 0&&(w=0),this.layout.decode(b,w+this.offset)}encode(b,w,h){return h===void 0&&(h=0),this.layout.encode(b,w,h+this.offset)}}class l extends n{constructor(b,w){if(super(b,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,w){return w===void 0&&(w=0),b.readUIntLE(w,this.span)}encode(b,w,h){return h===void 0&&(h=0),w.writeUIntLE(b,h,this.span),this.span}}class c extends n{constructor(b,w){if(super(b,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,w){return w===void 0&&(w=0),b.readUIntBE(w,this.span)}encode(b,w,h){return h===void 0&&(h=0),w.writeUIntBE(b,h,this.span),this.span}}class d extends n{constructor(b,w){if(super(b,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,w){return w===void 0&&(w=0),b.readIntLE(w,this.span)}encode(b,w,h){return h===void 0&&(h=0),w.writeIntLE(b,h,this.span),this.span}}class p extends n{constructor(b,w){if(super(b,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,w){return w===void 0&&(w=0),b.readIntBE(w,this.span)}encode(b,w,h){return h===void 0&&(h=0),w.writeIntBE(b,h,this.span),this.span}}const m=Math.pow(2,32);function k(N){const b=Math.floor(N/m),w=N-b*m;return{hi32:b,lo32:w}}function _(N,b){return N*m+b}class v extends n{constructor(b){super(8,b)}decode(b,w){w===void 0&&(w=0);const h=b.readUInt32LE(w),x=b.readUInt32LE(w+4);return _(x,h)}encode(b,w,h){h===void 0&&(h=0);const x=k(b);return w.writeUInt32LE(x.lo32,h),w.writeUInt32LE(x.hi32,h+4),8}}class C extends n{constructor(b){super(8,b)}decode(b,w){w===void 0&&(w=0);const h=b.readUInt32BE(w),x=b.readUInt32BE(w+4);return _(h,x)}encode(b,w,h){h===void 0&&(h=0);const x=k(b);return w.writeUInt32BE(x.hi32,h),w.writeUInt32BE(x.lo32,h+4),8}}class I extends n{constructor(b){super(8,b)}decode(b,w){w===void 0&&(w=0);const h=b.readUInt32LE(w),x=b.readInt32LE(w+4);return _(x,h)}encode(b,w,h){h===void 0&&(h=0);const x=k(b);return w.writeUInt32LE(x.lo32,h),w.writeInt32LE(x.hi32,h+4),8}}class T extends n{constructor(b){super(8,b)}decode(b,w){w===void 0&&(w=0);const h=b.readInt32BE(w),x=b.readUInt32BE(w+4);return _(h,x)}encode(b,w,h){h===void 0&&(h=0);const x=k(b);return w.writeInt32BE(x.hi32,h),w.writeUInt32BE(x.lo32,h+4),8}}class z extends n{constructor(b){super(4,b)}decode(b,w){return w===void 0&&(w=0),b.readFloatLE(w)}encode(b,w,h){return h===void 0&&(h=0),w.writeFloatLE(b,h),4}}class K extends n{constructor(b){super(4,b)}decode(b,w){return w===void 0&&(w=0),b.readFloatBE(w)}encode(b,w,h){return h===void 0&&(h=0),w.writeFloatBE(b,h),4}}class F extends n{constructor(b){super(8,b)}decode(b,w){return w===void 0&&(w=0),b.readDoubleLE(w)}encode(b,w,h){return h===void 0&&(h=0),w.writeDoubleLE(b,h),8}}class Y extends n{constructor(b){super(8,b)}decode(b,w){return w===void 0&&(w=0),b.readDoubleBE(w)}encode(b,w,h){return h===void 0&&(h=0),w.writeDoubleBE(b,h),8}}class te extends n{constructor(b,w,h){if(!(b instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(w instanceof r&&w.isCount()||Number.isInteger(w)&&0<=w))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let x=-1;!(w instanceof r)&&0<b.span&&(x=w*b.span),super(x,h),this.elementLayout=b,this.count=w}getSpan(b,w){if(0<=this.span)return this.span;w===void 0&&(w=0);let h=0,x=this.count;if(x instanceof r&&(x=x.decode(b,w)),0<this.elementLayout.span)h=x*this.elementLayout.span;else{let j=0;for(;j<x;)h+=this.elementLayout.getSpan(b,w+h),++j}return h}decode(b,w){w===void 0&&(w=0);const h=[];let x=0,j=this.count;for(j instanceof r&&(j=j.decode(b,w));x<j;)h.push(this.elementLayout.decode(b,w)),w+=this.elementLayout.getSpan(b,w),x+=1;return h}encode(b,w,h){h===void 0&&(h=0);const x=this.elementLayout,j=b.reduce((q,re)=>q+x.encode(re,w,h+q),0);return this.count instanceof r&&this.count.encode(b.length,w,h),j}}class se extends n{constructor(b,w,h){if(!(Array.isArray(b)&&b.reduce((j,q)=>j&&q instanceof n,!0)))throw new TypeError("fields must be array of Layout instances");typeof w=="boolean"&&h===void 0&&(h=w,w=void 0);for(const j of b)if(0>j.span&&j.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let x=-1;try{x=b.reduce((j,q)=>j+q.getSpan(),0)}catch{}super(x,w),this.fields=b,this.decodePrefixes=!!h}getSpan(b,w){if(0<=this.span)return this.span;w===void 0&&(w=0);let h=0;try{h=this.fields.reduce((x,j)=>{const q=j.getSpan(b,w);return w+=q,x+q},0)}catch{throw new RangeError("indeterminate span")}return h}decode(b,w){w===void 0&&(w=0);const h=this.makeDestinationObject();for(const x of this.fields)if(x.property!==void 0&&(h[x.property]=x.decode(b,w)),w+=x.getSpan(b,w),this.decodePrefixes&&b.length===w)break;return h}encode(b,w,h){h===void 0&&(h=0);const x=h;let j=0,q=0;for(const re of this.fields){let le=re.span;if(q=0<le?le:0,re.property!==void 0){const fe=b[re.property];fe!==void 0&&(q=re.encode(fe,w,h),0>le&&(le=re.getSpan(w,h)))}j=h,h+=le}return j+q-x}fromArray(b){const w=this.makeDestinationObject();for(const h of this.fields)h.property!==void 0&&0<b.length&&(w[h.property]=b.shift());return w}layoutFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===b)return w}offsetOf(b){if(typeof b!="string")throw new TypeError("property must be string");let w=0;for(const h of this.fields){if(h.property===b)return w;0>h.span?w=-1:0<=w&&(w+=h.span)}}}class ne{constructor(b){this.property=b}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ae extends ne{constructor(b,w){if(!(b instanceof r&&b.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(w||b.property||"variant"),this.layout=b}decode(b,w){return this.layout.decode(b,w)}encode(b,w,h){return this.layout.encode(b,w,h)}}class Q extends n{constructor(b,w,h){const x=b instanceof l||b instanceof c;if(x)b=new ae(new s(b));else if(b instanceof r&&b.isCount())b=new ae(b);else if(!(b instanceof ne))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(w===void 0&&(w=null),!(w===null||w instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(w!==null){if(0>w.span)throw new Error("defaultLayout must have constant span");w.property===void 0&&(w=w.replicate("content"))}let j=-1;w&&(j=w.span,0<=j&&x&&(j+=b.layout.span)),super(j,h),this.discriminator=b,this.usesPrefixDiscriminator=x,this.defaultLayout=w,this.registry={};let q=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(re){return q(re)},this.configGetSourceVariant=function(re){q=re.bind(this)}}getSpan(b,w){if(0<=this.span)return this.span;w===void 0&&(w=0);const h=this.getVariant(b,w);if(!h)throw new Error("unable to determine span for unrecognized variant");return h.getSpan(b,w)}defaultGetSourceVariant(b){if(b.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&b.hasOwnProperty(this.defaultLayout.property))return;const w=this.registry[b[this.discriminator.property]];if(w&&(!w.layout||b.hasOwnProperty(w.property)))return w}else for(const w in this.registry){const h=this.registry[w];if(b.hasOwnProperty(h.property))return h}throw new Error("unable to infer src variant")}decode(b,w){w===void 0&&(w=0);let h;const x=this.discriminator,j=x.decode(b,w);let q=this.registry[j];if(q===void 0){let re=0;q=this.defaultLayout,this.usesPrefixDiscriminator&&(re=x.layout.span),h=this.makeDestinationObject(),h[x.property]=j,h[q.property]=this.defaultLayout.decode(b,w+re)}else h=q.decode(b,w);return h}encode(b,w,h){h===void 0&&(h=0);const x=this.getSourceVariant(b);if(x===void 0){const j=this.discriminator,q=this.defaultLayout;let re=0;return this.usesPrefixDiscriminator&&(re=j.layout.span),j.encode(b[j.property],w,h),re+q.encode(b[q.property],w,h+re)}return x.encode(b,w,h)}addVariant(b,w,h){const x=new Z(this,b,w,h);return this.registry[b]=x,x}getVariant(b,w){let h=b;return ct.isBuffer(b)&&(w===void 0&&(w=0),h=this.discriminator.decode(b,w)),this.registry[h]}}class Z extends n{constructor(b,w,h,x){if(!(b instanceof Q))throw new TypeError("union must be a Union");if(!Number.isInteger(w)||0>w)throw new TypeError("variant must be a (non-negative) integer");if(typeof h=="string"&&x===void 0&&(x=h,h=null),h){if(!(h instanceof n))throw new TypeError("layout must be a Layout");if(b.defaultLayout!==null&&0<=h.span&&h.span>b.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof x!="string")throw new TypeError("variant must have a String property")}let j=b.span;0>b.span&&(j=h?h.span:0,0<=j&&b.usesPrefixDiscriminator&&(j+=b.discriminator.layout.span)),super(j,x),this.union=b,this.variant=w,this.layout=h||null}getSpan(b,w){if(0<=this.span)return this.span;w===void 0&&(w=0);let h=0;return this.union.usesPrefixDiscriminator&&(h=this.union.discriminator.layout.span),h+this.layout.getSpan(b,w+h)}decode(b,w){const h=this.makeDestinationObject();if(w===void 0&&(w=0),this!==this.union.getVariant(b,w))throw new Error("variant mismatch");let x=0;return this.union.usesPrefixDiscriminator&&(x=this.union.discriminator.layout.span),this.layout?h[this.property]=this.layout.decode(b,w+x):this.property?h[this.property]=!0:this.union.usesPrefixDiscriminator&&(h[this.union.discriminator.property]=this.variant),h}encode(b,w,h){h===void 0&&(h=0);let x=0;if(this.union.usesPrefixDiscriminator&&(x=this.union.discriminator.layout.span),this.layout&&!b.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,w,h);let j=x;if(this.layout&&(this.layout.encode(b[this.property],w,h+x),j+=this.layout.getSpan(w,h+x),0<=this.union.span&&j>this.union.span))throw new Error("encoded variant overruns containing union");return j}fromArray(b){if(this.layout)return this.layout.fromArray(b)}}function ee(N){return 0>N&&(N+=4294967296),N}class V extends n{constructor(b,w,h){if(!(b instanceof l||b instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof w=="string"&&h===void 0&&(h=w,w=void 0),4<b.span)throw new RangeError("word cannot exceed 32 bits");super(b.span,h),this.word=b,this.msb=!!w,this.fields=[];let x=0;this._packedSetValue=function(j){return x=ee(j),this},this._packedGetValue=function(){return x}}decode(b,w){const h=this.makeDestinationObject();w===void 0&&(w=0);const x=this.word.decode(b,w);this._packedSetValue(x);for(const j of this.fields)j.property!==void 0&&(h[j.property]=j.decode(x));return h}encode(b,w,h){h===void 0&&(h=0);const x=this.word.decode(w,h);this._packedSetValue(x);for(const j of this.fields)if(j.property!==void 0){const q=b[j.property];q!==void 0&&j.encode(q)}return this.word.encode(this._packedGetValue(),w,h)}addField(b,w){const h=new D(this,b,w);return this.fields.push(h),h}addBoolean(b){const w=new f(this,b);return this.fields.push(w),w}fieldFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===b)return w}}class D{constructor(b,w,h){if(!(b instanceof V))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(w)||0>=w)throw new TypeError("bits must be positive integer");const x=8*b.span,j=b.fields.reduce((q,re)=>q+re.bits,0);if(w+j>x)throw new Error("bits too long for span remainder ("+(x-j)+" of "+x+" remain)");this.container=b,this.bits=w,this.valueMask=(1<<w)-1,w===32&&(this.valueMask=4294967295),this.start=j,this.container.msb&&(this.start=x-j-w),this.wordMask=ee(this.valueMask<<this.start),this.property=h}decode(){const b=this.container._packedGetValue();return ee(b&this.wordMask)>>>this.start}encode(b){if(!Number.isInteger(b)||b!==ee(b&this.valueMask))throw new TypeError(e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const w=this.container._packedGetValue(),h=ee(b<<this.start);this.container._packedSetValue(ee(w&~this.wordMask)|h)}}class f extends D{constructor(b,w){super(b,1,w)}decode(b,w){return!!D.prototype.decode.call(this,b,w)}encode(b){return typeof b=="boolean"&&(b=+b),D.prototype.encode.call(this,b)}}class y extends n{constructor(b,w){if(!(b instanceof r&&b.isCount()||Number.isInteger(b)&&0<=b))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let h=-1;b instanceof r||(h=b),super(h,w),this.length=b}getSpan(b,w){let h=this.span;return 0>h&&(h=this.length.decode(b,w)),h}decode(b,w){w===void 0&&(w=0);let h=this.span;return 0>h&&(h=this.length.decode(b,w)),b.slice(w,w+h)}encode(b,w,h){let x=this.length;if(this.length instanceof r&&(x=b.length),!(ct.isBuffer(b)&&x===b.length))throw new TypeError(e("Blob.encode",this)+" requires (length "+x+") Buffer as src");if(h+x>w.length)throw new RangeError("encoding overruns Buffer");return w.write(b.toString("hex"),h,x,"hex"),this.length instanceof r&&this.length.encode(x,w,h),x}}class E extends n{constructor(b){super(-1,b)}getSpan(b,w){if(!ct.isBuffer(b))throw new TypeError("b must be a Buffer");w===void 0&&(w=0);let h=w;for(;h<b.length&&b[h]!==0;)h+=1;return 1+h-w}decode(b,w,h){w===void 0&&(w=0);let x=this.getSpan(b,w);return b.slice(w,w+x-1).toString("utf-8")}encode(b,w,h){h===void 0&&(h=0),typeof b!="string"&&(b=b.toString());const x=new ct(b,"utf8"),j=x.length;if(h+j>w.length)throw new RangeError("encoding overruns Buffer");return x.copy(w,h),w[h+j]=0,j+1}}class U extends n{constructor(b,w){if(typeof b=="string"&&w===void 0&&(w=b,b=void 0),b===void 0)b=-1;else if(!Number.isInteger(b))throw new TypeError("maxSpan must be an integer");super(-1,w),this.maxSpan=b}getSpan(b,w){if(!ct.isBuffer(b))throw new TypeError("b must be a Buffer");return w===void 0&&(w=0),b.length-w}decode(b,w,h){w===void 0&&(w=0);let x=this.getSpan(b,w);if(0<=this.maxSpan&&this.maxSpan<x)throw new RangeError("text length exceeds maxSpan");return b.slice(w,w+x).toString("utf-8")}encode(b,w,h){h===void 0&&(h=0),typeof b!="string"&&(b=b.toString());const x=new ct(b,"utf8"),j=x.length;if(0<=this.maxSpan&&this.maxSpan<j)throw new RangeError("text length exceeds maxSpan");if(h+j>w.length)throw new RangeError("encoding overruns Buffer");return x.copy(w,h),j}}class L extends n{constructor(b,w){super(0,w),this.value=b}decode(b,w,h){return this.value}encode(b,w,h){return 0}}return et.ExternalLayout=r,et.GreedyCount=i,et.OffsetLayout=s,et.UInt=l,et.UIntBE=c,et.Int=d,et.IntBE=p,et.Float=z,et.FloatBE=K,et.Double=F,et.DoubleBE=Y,et.Sequence=te,et.Structure=se,et.UnionDiscriminator=ne,et.UnionLayoutDiscriminator=ae,et.Union=Q,et.VariantLayout=Z,et.BitStructure=V,et.BitField=D,et.Boolean=f,et.Blob=y,et.CString=E,et.UTF8=U,et.Constant=L,et.greedy=((N,b)=>new i(N,b)),et.offset=((N,b,w)=>new s(N,b,w)),et.u8=(N=>new l(1,N)),et.u16=(N=>new l(2,N)),et.u24=(N=>new l(3,N)),et.u32=(N=>new l(4,N)),et.u40=(N=>new l(5,N)),et.u48=(N=>new l(6,N)),et.nu64=(N=>new v(N)),et.u16be=(N=>new c(2,N)),et.u24be=(N=>new c(3,N)),et.u32be=(N=>new c(4,N)),et.u40be=(N=>new c(5,N)),et.u48be=(N=>new c(6,N)),et.nu64be=(N=>new C(N)),et.s8=(N=>new d(1,N)),et.s16=(N=>new d(2,N)),et.s24=(N=>new d(3,N)),et.s32=(N=>new d(4,N)),et.s40=(N=>new d(5,N)),et.s48=(N=>new d(6,N)),et.ns64=(N=>new I(N)),et.s16be=(N=>new p(2,N)),et.s24be=(N=>new p(3,N)),et.s32be=(N=>new p(4,N)),et.s40be=(N=>new p(5,N)),et.s48be=(N=>new p(6,N)),et.ns64be=(N=>new T(N)),et.f32=(N=>new z(N)),et.f32be=(N=>new K(N)),et.f64=(N=>new F(N)),et.f64be=(N=>new Y(N)),et.struct=((N,b,w)=>new se(N,b,w)),et.bits=((N,b,w)=>new V(N,b,w)),et.seq=((N,b,w)=>new te(N,b,w)),et.union=((N,b,w)=>new Q(N,b,w)),et.unionLayoutDiscriminator=((N,b)=>new ae(N,b)),et.blob=((N,b)=>new y(N,b)),et.cstr=(N=>new E(N)),et.utf8=((N,b)=>new U(N,b)),et.const=((N,b)=>new L(N,b)),et}const m5=cg(hd);var Y1;function g5(){return Y1||(Y1=1,(function(n){var e=Vl&&Vl.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i256=n.u256=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=G1(),r=m5,i=e(Wg());var s=G1();Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return s.struct}});class l extends t.Layout{constructor(D,f,y){super(D,y),this.blob=(0,t.blob)(D),this.signed=f}decode(D,f=0){const y=new i.default(this.blob.decode(D,f),10,"le");return this.signed?y.fromTwos(this.span*8).clone():y}encode(D,f,y=0){return this.signed&&(D=D.toTwos(this.span*8)),this.blob.encode(D.toArrayLike(ct,"le",this.span),f,y)}}function c(V){return new l(8,!1,V)}n.u64=c;function d(V){return new l(8,!0,V)}n.i64=d;function p(V){return new l(16,!1,V)}n.u128=p;function m(V){return new l(16,!0,V)}n.i128=m;function k(V){return new l(32,!1,V)}n.u256=k;function _(V){return new l(32,!0,V)}n.i256=_;class v extends t.Layout{constructor(D,f,y,E){super(D.span,E),this.layout=D,this.decoder=f,this.encoder=y}decode(D,f){return this.decoder(this.layout.decode(D,f))}encode(D,f,y){return this.layout.encode(this.encoder(D),f,y)}getSpan(D,f){return this.layout.getSpan(D,f)}}function C(V){return new v((0,t.blob)(32),D=>new r.PublicKey(D),D=>D.toBuffer(),V)}n.publicKey=C;class I extends t.Layout{constructor(D,f){super(-1,f),this.layout=D,this.discriminator=(0,t.u8)()}encode(D,f,y=0){return D==null?this.discriminator.encode(0,f,y):(this.discriminator.encode(1,f,y),this.layout.encode(D,f,y+1)+1)}decode(D,f=0){const y=this.discriminator.decode(D,f);if(y===0)return null;if(y===1)return this.layout.decode(D,f+1);throw new Error("Invalid option "+this.property)}getSpan(D,f=0){const y=this.discriminator.decode(D,f);if(y===0)return 1;if(y===1)return this.layout.getSpan(D,f+1)+1;throw new Error("Invalid option "+this.property)}}function T(V,D){return new I(V,D)}n.option=T;function z(V){return new v((0,t.u8)(),K,F,V)}n.bool=z;function K(V){if(V===0)return!1;if(V===1)return!0;throw new Error("Invalid bool: "+V)}function F(V){return V?1:0}function Y(V,D){const f=(0,t.u32)("length"),y=(0,t.struct)([f,(0,t.seq)(V,(0,t.offset)(f,-f.span),"values")]);return new v(y,({values:E})=>E,E=>({values:E}),D)}n.vec=Y;function te(V,D,f){const y=(0,t.struct)([c("tag"),D.replicate("data")]);function E({tag:U,data:L}){if(!U.eq(V))throw new Error("Invalid tag, expected: "+V.toString("hex")+", got: "+U.toString("hex"));return L}return new v(y,E,U=>({tag:V,data:U}),f)}n.tagged=te;function se(V){const D=(0,t.u32)("length"),f=(0,t.struct)([D,(0,t.blob)((0,t.offset)(D,-D.span),"data")]);return new v(f,({data:y})=>y,y=>({data:y}),V)}n.vecU8=se;function ne(V){return new v(se(),D=>D.toString("utf-8"),D=>ct.from(D,"utf-8"),V)}n.str=ne;function ae(V,D,f){const y=(0,t.union)(f??(0,t.u8)(),D);return V.forEach((E,U)=>y.addVariant(U,E,E.property)),y}n.rustEnum=ae;function Q(V,D,f){const y=(0,t.struct)([(0,t.seq)(V,D,"values")]);return new v(y,({values:E})=>E,E=>({values:E}),f)}n.array=Q;class Z extends t.Layout{constructor(D,f,y){super(D.span+f.span,y),this.keyLayout=D,this.valueLayout=f}decode(D,f){f=f||0;const y=this.keyLayout.decode(D,f),E=this.valueLayout.decode(D,f+this.keyLayout.getSpan(D,f));return[y,E]}encode(D,f,y){y=y||0;const E=this.keyLayout.encode(D[0],f,y),U=this.valueLayout.encode(D[1],f,y+E);return E+U}getSpan(D,f){return this.keyLayout.getSpan(D,f)+this.valueLayout.getSpan(D,f)}}function ee(V,D,f){const y=(0,t.u32)("length"),E=(0,t.struct)([y,(0,t.seq)(new Z(V,D),(0,t.offset)(y,-y.span),"values")]);return new v(E,({values:U})=>new Map(U),U=>({values:Array.from(U.entries())}),f)}n.map=ee})(Vl)),Vl}var Tt=g5();function Xa(n){let e=n.length;for(;--e>=0;)n[e]=0}const y5=3,w5=258,x2=29,v5=256,x5=v5+1+x2,b2=30,b5=512,k5=new Array((x5+2)*2);Xa(k5);const S5=new Array(b2*2);Xa(S5);const E5=new Array(b5);Xa(E5);const A5=new Array(w5-y5+1);Xa(A5);const _5=new Array(x2);Xa(_5);const I5=new Array(b2);Xa(I5);const P5=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[r++]|0,s=s+i|0;while(--l);i%=65521,s%=65521}return i|s<<16|0};var Ym=P5;const R5=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},T5=new Uint32Array(R5()),C5=(n,e,t,r)=>{const i=T5,s=r+t;n^=-1;for(let l=r;l<s;l++)n=n>>>8^i[(n^e[l])&255];return n^-1};var po=C5,Zm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},k2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const N5=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var B5=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)N5(t,r)&&(n[r]=t[r])}}return n},M5=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let l=n[r];t.set(l,i),i+=l.length}return t},S2={assign:B5,flattenChunks:M5};let E2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{E2=!1}const dc=new Uint8Array(256);for(let n=0;n<256;n++)dc[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;dc[254]=dc[254]=1;var L5=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,l=n.length,c=0;for(i=0;i<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),s=0,i=0;s<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const O5=(n,e)=>{if(e<65534&&n.subarray&&E2)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var D5=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let l=n[r++];if(l<128){s[i++]=l;continue}let c=dc[l];if(c>4){s[i++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<t;)l=l<<6|n[r++]&63,c--;if(c>1){s[i++]=65533;continue}l<65536?s[i++]=l:(l-=65536,s[i++]=55296|l>>10&1023,s[i++]=56320|l&1023)}return O5(s,i)},j5=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+dc[n[t]]>e?t:e},Xm={string2buf:L5,buf2string:D5,utf8border:j5};function F5(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var U5=F5;const Xu=16209,z5=16191;var $5=function(e,t){let r,i,s,l,c,d,p,m,k,_,v,C,I,T,z,K,F,Y,te,se,ne,ae,Q,Z;const ee=e.state;r=e.next_in,Q=e.input,i=r+(e.avail_in-5),s=e.next_out,Z=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),d=ee.dmax,p=ee.wsize,m=ee.whave,k=ee.wnext,_=ee.window,v=ee.hold,C=ee.bits,I=ee.lencode,T=ee.distcode,z=(1<<ee.lenbits)-1,K=(1<<ee.distbits)-1;e:do{C<15&&(v+=Q[r++]<<C,C+=8,v+=Q[r++]<<C,C+=8),F=I[v&z];t:for(;;){if(Y=F>>>24,v>>>=Y,C-=Y,Y=F>>>16&255,Y===0)Z[s++]=F&65535;else if(Y&16){te=F&65535,Y&=15,Y&&(C<Y&&(v+=Q[r++]<<C,C+=8),te+=v&(1<<Y)-1,v>>>=Y,C-=Y),C<15&&(v+=Q[r++]<<C,C+=8,v+=Q[r++]<<C,C+=8),F=T[v&K];n:for(;;){if(Y=F>>>24,v>>>=Y,C-=Y,Y=F>>>16&255,Y&16){if(se=F&65535,Y&=15,C<Y&&(v+=Q[r++]<<C,C+=8,C<Y&&(v+=Q[r++]<<C,C+=8)),se+=v&(1<<Y)-1,se>d){e.msg="invalid distance too far back",ee.mode=Xu;break e}if(v>>>=Y,C-=Y,Y=s-l,se>Y){if(Y=se-Y,Y>m&&ee.sane){e.msg="invalid distance too far back",ee.mode=Xu;break e}if(ne=0,ae=_,k===0){if(ne+=p-Y,Y<te){te-=Y;do Z[s++]=_[ne++];while(--Y);ne=s-se,ae=Z}}else if(k<Y){if(ne+=p+k-Y,Y-=k,Y<te){te-=Y;do Z[s++]=_[ne++];while(--Y);if(ne=0,k<te){Y=k,te-=Y;do Z[s++]=_[ne++];while(--Y);ne=s-se,ae=Z}}}else if(ne+=k-Y,Y<te){te-=Y;do Z[s++]=_[ne++];while(--Y);ne=s-se,ae=Z}for(;te>2;)Z[s++]=ae[ne++],Z[s++]=ae[ne++],Z[s++]=ae[ne++],te-=3;te&&(Z[s++]=ae[ne++],te>1&&(Z[s++]=ae[ne++]))}else{ne=s-se;do Z[s++]=Z[ne++],Z[s++]=Z[ne++],Z[s++]=Z[ne++],te-=3;while(te>2);te&&(Z[s++]=Z[ne++],te>1&&(Z[s++]=Z[ne++]))}}else if((Y&64)===0){F=T[(F&65535)+(v&(1<<Y)-1)];continue n}else{e.msg="invalid distance code",ee.mode=Xu;break e}break}}else if((Y&64)===0){F=I[(F&65535)+(v&(1<<Y)-1)];continue t}else if(Y&32){ee.mode=z5;break e}else{e.msg="invalid literal/length code",ee.mode=Xu;break e}break}}while(r<i&&s<c);te=C>>3,r-=te,C-=te<<3,v&=(1<<C)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<c?257+(c-s):257-(s-c),ee.hold=v,ee.bits=C};const ba=15,Z1=852,X1=592,Q1=0,nm=1,J1=2,V5=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),W5=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),K5=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),q5=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),H5=(n,e,t,r,i,s,l,c)=>{const d=c.bits;let p=0,m=0,k=0,_=0,v=0,C=0,I=0,T=0,z=0,K=0,F,Y,te,se,ne,ae=null,Q;const Z=new Uint16Array(ba+1),ee=new Uint16Array(ba+1);let V=null,D,f,y;for(p=0;p<=ba;p++)Z[p]=0;for(m=0;m<r;m++)Z[e[t+m]]++;for(v=d,_=ba;_>=1&&Z[_]===0;_--);if(v>_&&(v=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,c.bits=1,0;for(k=1;k<_&&Z[k]===0;k++);for(v<k&&(v=k),T=1,p=1;p<=ba;p++)if(T<<=1,T-=Z[p],T<0)return-1;if(T>0&&(n===Q1||_!==1))return-1;for(ee[1]=0,p=1;p<ba;p++)ee[p+1]=ee[p]+Z[p];for(m=0;m<r;m++)e[t+m]!==0&&(l[ee[e[t+m]]++]=m);if(n===Q1?(ae=V=l,Q=20):n===nm?(ae=V5,V=W5,Q=257):(ae=K5,V=q5,Q=0),K=0,m=0,p=k,ne=s,C=v,I=0,te=-1,z=1<<v,se=z-1,n===nm&&z>Z1||n===J1&&z>X1)return 1;for(;;){D=p-I,l[m]+1<Q?(f=0,y=l[m]):l[m]>=Q?(f=V[l[m]-Q],y=ae[l[m]-Q]):(f=96,y=0),F=1<<p-I,Y=1<<C,k=Y;do Y-=F,i[ne+(K>>I)+Y]=D<<24|f<<16|y|0;while(Y!==0);for(F=1<<p-1;K&F;)F>>=1;if(F!==0?(K&=F-1,K+=F):K=0,m++,--Z[p]===0){if(p===_)break;p=e[t+l[m]]}if(p>v&&(K&se)!==te){for(I===0&&(I=v),ne+=k,C=p-I,T=1<<C;C+I<_&&(T-=Z[C+I],!(T<=0));)C++,T<<=1;if(z+=1<<C,n===nm&&z>Z1||n===J1&&z>X1)return 1;te=K&se,i[te]=v<<24|C<<16|ne-s|0}}return K!==0&&(i[ne+K]=p-I<<24|64<<16|0),c.bits=v,0};var Zl=H5;const G5=0,A2=1,_2=2,{Z_FINISH:ex,Z_BLOCK:Y5,Z_TREES:Qu,Z_OK:Cs,Z_STREAM_END:Z5,Z_NEED_DICT:X5,Z_STREAM_ERROR:zr,Z_DATA_ERROR:I2,Z_MEM_ERROR:P2,Z_BUF_ERROR:Q5,Z_DEFLATED:tx}=k2,Ef=16180,nx=16181,rx=16182,ox=16183,ix=16184,sx=16185,ax=16186,lx=16187,cx=16188,ux=16189,Dd=16190,Ko=16191,rm=16192,dx=16193,om=16194,fx=16195,hx=16196,px=16197,mx=16198,Ju=16199,ed=16200,gx=16201,yx=16202,wx=16203,vx=16204,xx=16205,im=16206,bx=16207,kx=16208,an=16209,R2=16210,T2=16211,J5=852,eO=592,tO=15,nO=tO,Sx=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function rO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ds=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Ef||e.mode>T2?1:0},C2=n=>{if(Ds(n))return zr;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Ef,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(J5),e.distcode=e.distdyn=new Int32Array(eO),e.sane=1,e.back=-1,Cs},N2=n=>{if(Ds(n))return zr;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,C2(n)},B2=(n,e)=>{let t;if(Ds(n))return zr;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zr:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,N2(n))},M2=(n,e)=>{if(!n)return zr;const t=new rO;n.state=t,t.strm=n,t.window=null,t.mode=Ef;const r=B2(n,e);return r!==Cs&&(n.state=null),r},oO=n=>M2(n,nO);let Ex=!0,sm,am;const iO=n=>{if(Ex){sm=new Int32Array(512),am=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Zl(A2,n.lens,0,288,sm,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Zl(_2,n.lens,0,32,am,0,n.work,{bits:5}),Ex=!1}n.lencode=sm,n.lenbits=9,n.distcode=am,n.distbits=5},L2=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},sO=(n,e)=>{let t,r,i,s,l,c,d,p,m,k,_,v,C,I,T=0,z,K,F,Y,te,se,ne,ae;const Q=new Uint8Array(4);let Z,ee;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ds(n)||!n.output||!n.input&&n.avail_in!==0)return zr;t=n.state,t.mode===Ko&&(t.mode=rm),l=n.next_out,i=n.output,d=n.avail_out,s=n.next_in,r=n.input,c=n.avail_in,p=t.hold,m=t.bits,k=c,_=d,ae=Cs;e:for(;;)switch(t.mode){case Ef:if(t.wrap===0){t.mode=rm;break}for(;m<16;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(t.wrap&2&&p===35615){t.wbits===0&&(t.wbits=15),t.check=0,Q[0]=p&255,Q[1]=p>>>8&255,t.check=po(t.check,Q,2,0),p=0,m=0,t.mode=nx;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((p&255)<<8)+(p>>8))%31){n.msg="incorrect header check",t.mode=an;break}if((p&15)!==tx){n.msg="unknown compression method",t.mode=an;break}if(p>>>=4,m-=4,ne=(p&15)+8,t.wbits===0&&(t.wbits=ne),ne>15||ne>t.wbits){n.msg="invalid window size",t.mode=an;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=p&512?ux:Ko,p=0,m=0;break;case nx:for(;m<16;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(t.flags=p,(t.flags&255)!==tx){n.msg="unknown compression method",t.mode=an;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=an;break}t.head&&(t.head.text=p>>8&1),t.flags&512&&t.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,t.check=po(t.check,Q,2,0)),p=0,m=0,t.mode=rx;case rx:for(;m<32;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}t.head&&(t.head.time=p),t.flags&512&&t.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,Q[2]=p>>>16&255,Q[3]=p>>>24&255,t.check=po(t.check,Q,4,0)),p=0,m=0,t.mode=ox;case ox:for(;m<16;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}t.head&&(t.head.xflags=p&255,t.head.os=p>>8),t.flags&512&&t.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,t.check=po(t.check,Q,2,0)),p=0,m=0,t.mode=ix;case ix:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}t.length=p,t.head&&(t.head.extra_len=p),t.flags&512&&t.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,t.check=po(t.check,Q,2,0)),p=0,m=0}else t.head&&(t.head.extra=null);t.mode=sx;case sx:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(ne=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+v),ne)),t.flags&512&&t.wrap&4&&(t.check=po(t.check,r,v,s)),c-=v,s+=v,t.length-=v),t.length))break e;t.length=0,t.mode=ax;case ax:if(t.flags&2048){if(c===0)break e;v=0;do ne=r[s+v++],t.head&&ne&&t.length<65536&&(t.head.name+=String.fromCharCode(ne));while(ne&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=po(t.check,r,v,s)),c-=v,s+=v,ne)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=lx;case lx:if(t.flags&4096){if(c===0)break e;v=0;do ne=r[s+v++],t.head&&ne&&t.length<65536&&(t.head.comment+=String.fromCharCode(ne));while(ne&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=po(t.check,r,v,s)),c-=v,s+=v,ne)break e}else t.head&&(t.head.comment=null);t.mode=cx;case cx:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(t.wrap&4&&p!==(t.check&65535)){n.msg="header crc mismatch",t.mode=an;break}p=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Ko;break;case ux:for(;m<32;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}n.adler=t.check=Sx(p),p=0,m=0,t.mode=Dd;case Dd:if(t.havedict===0)return n.next_out=l,n.avail_out=d,n.next_in=s,n.avail_in=c,t.hold=p,t.bits=m,X5;n.adler=t.check=1,t.mode=Ko;case Ko:if(e===Y5||e===Qu)break e;case rm:if(t.last){p>>>=m&7,m-=m&7,t.mode=im;break}for(;m<3;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}switch(t.last=p&1,p>>>=1,m-=1,p&3){case 0:t.mode=dx;break;case 1:if(iO(t),t.mode=Ju,e===Qu){p>>>=2,m-=2;break e}break;case 2:t.mode=hx;break;case 3:n.msg="invalid block type",t.mode=an}p>>>=2,m-=2;break;case dx:for(p>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if((p&65535)!==(p>>>16^65535)){n.msg="invalid stored block lengths",t.mode=an;break}if(t.length=p&65535,p=0,m=0,t.mode=om,e===Qu)break e;case om:t.mode=fx;case fx:if(v=t.length,v){if(v>c&&(v=c),v>d&&(v=d),v===0)break e;i.set(r.subarray(s,s+v),l),c-=v,s+=v,d-=v,l+=v,t.length-=v;break}t.mode=Ko;break;case hx:for(;m<14;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(t.nlen=(p&31)+257,p>>>=5,m-=5,t.ndist=(p&31)+1,p>>>=5,m-=5,t.ncode=(p&15)+4,p>>>=4,m-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=an;break}t.have=0,t.mode=px;case px:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}t.lens[V[t.have++]]=p&7,p>>>=3,m-=3}for(;t.have<19;)t.lens[V[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},ae=Zl(G5,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,ae){n.msg="invalid code lengths set",t.mode=an;break}t.have=0,t.mode=mx;case mx:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[p&(1<<t.lenbits)-1],z=T>>>24,K=T>>>16&255,F=T&65535,!(z<=m);){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(F<16)p>>>=z,m-=z,t.lens[t.have++]=F;else{if(F===16){for(ee=z+2;m<ee;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(p>>>=z,m-=z,t.have===0){n.msg="invalid bit length repeat",t.mode=an;break}ne=t.lens[t.have-1],v=3+(p&3),p>>>=2,m-=2}else if(F===17){for(ee=z+3;m<ee;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}p>>>=z,m-=z,ne=0,v=3+(p&7),p>>>=3,m-=3}else{for(ee=z+7;m<ee;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}p>>>=z,m-=z,ne=0,v=11+(p&127),p>>>=7,m-=7}if(t.have+v>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=an;break}for(;v--;)t.lens[t.have++]=ne}}if(t.mode===an)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=an;break}if(t.lenbits=9,Z={bits:t.lenbits},ae=Zl(A2,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,ae){n.msg="invalid literal/lengths set",t.mode=an;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},ae=Zl(_2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,ae){n.msg="invalid distances set",t.mode=an;break}if(t.mode=Ju,e===Qu)break e;case Ju:t.mode=ed;case ed:if(c>=6&&d>=258){n.next_out=l,n.avail_out=d,n.next_in=s,n.avail_in=c,t.hold=p,t.bits=m,$5(n,_),l=n.next_out,i=n.output,d=n.avail_out,s=n.next_in,r=n.input,c=n.avail_in,p=t.hold,m=t.bits,t.mode===Ko&&(t.back=-1);break}for(t.back=0;T=t.lencode[p&(1<<t.lenbits)-1],z=T>>>24,K=T>>>16&255,F=T&65535,!(z<=m);){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(K&&(K&240)===0){for(Y=z,te=K,se=F;T=t.lencode[se+((p&(1<<Y+te)-1)>>Y)],z=T>>>24,K=T>>>16&255,F=T&65535,!(Y+z<=m);){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}p>>>=Y,m-=Y,t.back+=Y}if(p>>>=z,m-=z,t.back+=z,t.length=F,K===0){t.mode=xx;break}if(K&32){t.back=-1,t.mode=Ko;break}if(K&64){n.msg="invalid literal/length code",t.mode=an;break}t.extra=K&15,t.mode=gx;case gx:if(t.extra){for(ee=t.extra;m<ee;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}t.length+=p&(1<<t.extra)-1,p>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=yx;case yx:for(;T=t.distcode[p&(1<<t.distbits)-1],z=T>>>24,K=T>>>16&255,F=T&65535,!(z<=m);){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if((K&240)===0){for(Y=z,te=K,se=F;T=t.distcode[se+((p&(1<<Y+te)-1)>>Y)],z=T>>>24,K=T>>>16&255,F=T&65535,!(Y+z<=m);){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}p>>>=Y,m-=Y,t.back+=Y}if(p>>>=z,m-=z,t.back+=z,K&64){n.msg="invalid distance code",t.mode=an;break}t.offset=F,t.extra=K&15,t.mode=wx;case wx:if(t.extra){for(ee=t.extra;m<ee;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}t.offset+=p&(1<<t.extra)-1,p>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=an;break}t.mode=vx;case vx:if(d===0)break e;if(v=_-d,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=an;break}v>t.wnext?(v-=t.wnext,C=t.wsize-v):C=t.wnext-v,v>t.length&&(v=t.length),I=t.window}else I=i,C=l-t.offset,v=t.length;v>d&&(v=d),d-=v,t.length-=v;do i[l++]=I[C++];while(--v);t.length===0&&(t.mode=ed);break;case xx:if(d===0)break e;i[l++]=t.length,d--,t.mode=ed;break;case im:if(t.wrap){for(;m<32;){if(c===0)break e;c--,p|=r[s++]<<m,m+=8}if(_-=d,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?po(t.check,i,_,l-_):Ym(t.check,i,_,l-_)),_=d,t.wrap&4&&(t.flags?p:Sx(p))!==t.check){n.msg="incorrect data check",t.mode=an;break}p=0,m=0}t.mode=bx;case bx:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,p+=r[s++]<<m,m+=8}if(t.wrap&4&&p!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=an;break}p=0,m=0}t.mode=kx;case kx:ae=Z5;break e;case an:ae=I2;break e;case R2:return P2;case T2:default:return zr}return n.next_out=l,n.avail_out=d,n.next_in=s,n.avail_in=c,t.hold=p,t.bits=m,(t.wsize||_!==n.avail_out&&t.mode<an&&(t.mode<im||e!==ex))&&L2(n,n.output,n.next_out,_-n.avail_out),k-=n.avail_in,_-=n.avail_out,n.total_in+=k,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?po(t.check,i,_,n.next_out-_):Ym(t.check,i,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Ko?128:0)+(t.mode===Ju||t.mode===om?256:0),(k===0&&_===0||e===ex)&&ae===Cs&&(ae=Q5),ae},aO=n=>{if(Ds(n))return zr;let e=n.state;return e.window&&(e.window=null),n.state=null,Cs},lO=(n,e)=>{if(Ds(n))return zr;const t=n.state;return(t.wrap&2)===0?zr:(t.head=e,e.done=!1,Cs)},cO=(n,e)=>{const t=e.length;let r,i,s;return Ds(n)||(r=n.state,r.wrap!==0&&r.mode!==Dd)?zr:r.mode===Dd&&(i=1,i=Ym(i,e,t,0),i!==r.check)?I2:(s=L2(n,e,t,t),s?(r.mode=R2,P2):(r.havedict=1,Cs))};var uO=N2,dO=B2,fO=C2,hO=oO,pO=M2,mO=sO,gO=aO,yO=lO,wO=cO,vO="pako inflate (from Nodeca project)",Yo={inflateReset:uO,inflateReset2:dO,inflateResetKeep:fO,inflateInit:hO,inflateInit2:pO,inflate:mO,inflateEnd:gO,inflateGetHeader:yO,inflateSetDictionary:wO,inflateInfo:vO};function xO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bO=xO;const O2=Object.prototype.toString,{Z_NO_FLUSH:kO,Z_FINISH:SO,Z_OK:fc,Z_STREAM_END:lm,Z_NEED_DICT:cm,Z_STREAM_ERROR:EO,Z_DATA_ERROR:Ax,Z_MEM_ERROR:AO}=k2;function Af(n){this.options=S2.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U5,this.strm.avail_out=0;let t=Yo.inflateInit2(this.strm,e.windowBits);if(t!==fc)throw new Error(Zm[t]);if(this.header=new bO,Yo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Xm.string2buf(e.dictionary):O2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Yo.inflateSetDictionary(this.strm,e.dictionary),t!==fc)))throw new Error(Zm[t])}Af.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?SO:kO,O2.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Yo.inflate(t,l),s===cm&&i&&(s=Yo.inflateSetDictionary(t,i),s===fc?s=Yo.inflate(t,l):s===Ax&&(s=cm));t.avail_in>0&&s===lm&&t.state.wrap>0&&n[t.next_in]!==0;)Yo.inflateReset(t),s=Yo.inflate(t,l);switch(s){case EO:case Ax:case cm:case AO:return this.onEnd(s),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||s===lm))if(this.options.to==="string"){let d=Xm.utf8border(t.output,t.next_out),p=t.next_out-d,m=Xm.buf2string(t.output,d);t.next_out=p,t.avail_out=r-p,p&&t.output.set(t.output.subarray(d,d+p),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===fc&&c===0)){if(s===lm)return s=Yo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Af.prototype.onData=function(n){this.chunks.push(n)};Af.prototype.onEnd=function(n){n===fc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S2.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function _O(n,e){const t=new Af(e);if(t.push(n),t.err)throw t.msg||Zm[t.err];return t.result}var IO=_O,PO={inflate:IO};const{inflate:RO}=PO;var TO=RO,um={exports:{}},_x;function CO(){return _x||(_x=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(d,p,m){this.fn=d,this.context=p,this.once=m||!1}function s(d,p,m,k,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,k||d,_),C=t?t+p:p;return d._events[C]?d._events[C].fn?d._events[C]=[d._events[C],v]:d._events[C].push(v):(d._events[C]=v,d._eventsCount++),d}function l(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],m,k;if(this._eventsCount===0)return p;for(k in m=this._events)e.call(m,k)&&p.push(t?k.slice(1):k);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},c.prototype.listeners=function(p){var m=t?t+p:p,k=this._events[m];if(!k)return[];if(k.fn)return[k.fn];for(var _=0,v=k.length,C=new Array(v);_<v;_++)C[_]=k[_].fn;return C},c.prototype.listenerCount=function(p){var m=t?t+p:p,k=this._events[m];return k?k.fn?1:k.length:0},c.prototype.emit=function(p,m,k,_,v,C){var I=t?t+p:p;if(!this._events[I])return!1;var T=this._events[I],z=arguments.length,K,F;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),z){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,k),!0;case 4:return T.fn.call(T.context,m,k,_),!0;case 5:return T.fn.call(T.context,m,k,_,v),!0;case 6:return T.fn.call(T.context,m,k,_,v,C),!0}for(F=1,K=new Array(z-1);F<z;F++)K[F-1]=arguments[F];T.fn.apply(T.context,K)}else{var Y=T.length,te;for(F=0;F<Y;F++)switch(T[F].once&&this.removeListener(p,T[F].fn,void 0,!0),z){case 1:T[F].fn.call(T[F].context);break;case 2:T[F].fn.call(T[F].context,m);break;case 3:T[F].fn.call(T[F].context,m,k);break;case 4:T[F].fn.call(T[F].context,m,k,_);break;default:if(!K)for(te=1,K=new Array(z-1);te<z;te++)K[te-1]=arguments[te];T[F].fn.apply(T[F].context,K)}}return!0},c.prototype.on=function(p,m,k){return s(this,p,m,k,!1)},c.prototype.once=function(p,m,k){return s(this,p,m,k,!0)},c.prototype.removeListener=function(p,m,k,_){var v=t?t+p:p;if(!this._events[v])return this;if(!m)return l(this,v),this;var C=this._events[v];if(C.fn)C.fn===m&&(!_||C.once)&&(!k||C.context===k)&&l(this,v);else{for(var I=0,T=[],z=C.length;I<z;I++)(C[I].fn!==m||_&&!C[I].once||k&&C[I].context!==k)&&T.push(C[I]);T.length?this._events[v]=T.length===1?T[0]:T:l(this,v)}return this},c.prototype.removeAllListeners=function(p){var m;return p?(m=t?t+p:p,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(um)),um.exports}var NO=CO();const BO=Xi(NO);function MO(n,e){return Array.apply(0,new Array(Math.ceil(n.length/e))).map((t,r)=>n.slice(r*e,(r+1)*e))}const Wl=n=>"version"in n;function LO(n){return new TextDecoder("utf-8").decode(n)}function OO(n){return new TextEncoder().encode(n)}function Ix(n){return xn.encode(n)}function Px(n){return n.toString("base64")}function D2(n){return ut.from(n,"base64")}function DO(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let i=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,i)}),e}function jO(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(i=>{t[i.name]=e[r],r+=1}),t}function j2(n,e={}){n.forEach(t=>{if("accounts"in t)j2(t.accounts,e[t.name]);else if(e[t.name]===void 0)throw new Error(`Invalid arguments: ${t.name} not provided.`)})}function Ur(n){return n instanceof _e?n:new _e(n)}class FO extends TypeError{constructor(e,t){let r;const{message:i,...s}=e,{path:l}=e,c=l.length===0?i:"At path: "+l.join(".")+" -- "+i;super(c),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var d;return(d=r)!=null?d:r=[e,...t()]}}}function UO(n){return Na(n)&&typeof n[Symbol.iterator]=="function"}function Na(n){return typeof n=="object"&&n!=null}function Zi(n){return typeof n=="string"?JSON.stringify(n):""+n}function zO(n){const{done:e,value:t}=n.next();return e?void 0:t}function $O(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:l}=t,{refinement:c,message:d="Expected a value of type `"+l+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+Zi(r)+"`"}=n;return{value:r,type:l,refinement:c,key:i[i.length-1],path:i,branch:s,...n,message:d}}function*Rx(n,e,t,r){UO(n)||(n=[n]);for(const i of n){const s=$O(i,e,t,r);s&&(yield s)}}function*h0(n,e,t){t===void 0&&(t={});const{path:r=[],branch:i=[n],coerce:s=!1,mask:l=!1}=t,c={path:r,branch:i};if(s&&(n=e.coercer(n,c),l&&e.type!=="type"&&Na(e.schema)&&Na(n)&&!Array.isArray(n)))for(const p in n)e.schema[p]===void 0&&delete n[p];let d=!0;for(const p of e.validator(n,c))d=!1,yield[p,void 0];for(let[p,m,k]of e.entries(n,c)){const _=h0(m,k,{path:p===void 0?r:[...r,p],branch:p===void 0?i:[...i,m],coerce:s,mask:l});for(const v of _)v[0]?(d=!1,yield[v[0],void 0]):s&&(m=v[1],p===void 0?n=m:n instanceof Map?n.set(p,m):n instanceof Set?n.add(m):Na(n)&&(n[p]=m))}if(d)for(const p of e.refiner(n,c))d=!1,yield[p,void 0];d&&(yield[void 0,n])}class Qi{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:i,refiner:s,coercer:l=d=>d,entries:c=function*(){}}=e;this.type=t,this.schema=r,this.entries=c,this.coercer=l,i?this.validator=(d,p)=>{const m=i(d,p);return Rx(m,p,this,d)}:this.validator=()=>[],s?this.refiner=(d,p)=>{const m=s(d,p);return Rx(m,p,this,d)}:this.refiner=()=>[]}assert(e){return VO(e,this)}create(e){return p0(e,this)}is(e){return F2(e,this)}mask(e){return WO(e,this)}validate(e,t){return t===void 0&&(t={}),Sc(e,this,t)}}function VO(n,e){const t=Sc(n,e);if(t[0])throw t[0]}function p0(n,e){const t=Sc(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function WO(n,e){const t=Sc(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function F2(n,e){return!Sc(n,e)[0]}function Sc(n,e,t){t===void 0&&(t={});const r=h0(n,e,t),i=zO(r);return i[0]?[new FO(i[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,i[1]]}function Ec(n,e){return new Qi({type:n,schema:null,validator:e})}function KO(){return Ec("any",()=>!0)}function dm(n){return new Qi({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Zi(e)}})}function qO(){return Ec("boolean",n=>typeof n=="boolean")}function Tx(n){const e=Zi(n);return new Qi({type:"literal",schema:n,validator(t){return t===n||"Expected the literal `"+e+"`, but received: "+Zi(t)}})}function td(n){return new Qi({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function pd(){return Ec("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+Zi(n))}function md(n){return new Qi({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function xs(){return Ec("string",n=>typeof n=="string"||"Expected a string, but received: "+Zi(n))}function Ki(n){const e=Object.keys(n);return new Qi({type:"type",schema:n,*entries(t){if(Na(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Na(t)||"Expected an object, but received: "+Zi(t)}})}function U2(n){const e=n.map(t=>t.type).join(" | ");return new Qi({type:"union",schema:null,coercer(t,r){return(n.find(s=>{const[l]=s.validate(t,{coerce:!0});return!l})||m0()).coercer(t,r)},validator(t,r){const i=[];for(const s of n){const[...l]=h0(t,s,r),[c]=l;if(c[0])for(const[d]of l)d&&i.push(d);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Zi(t),...i]}})}function m0(){return Ec("unknown",()=>!0)}function HO(n,e,t){return new Qi({...n,coercer:(r,i)=>F2(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}const Cx=99;async function GO(n,e,t){if(e.length<=Cx)return await Nx(n,e,t);{const r=MO(e,Cx);return(await Promise.all(r.map(s=>Nx(n,s,t)))).flat()}}async function Nx(n,e,t){const r=t??n.commitment,{value:i,context:s}=await n.getMultipleAccountsInfoAndContext(e,r);return i.map((c,d)=>c===null?null:{publicKey:e[d],account:c,context:s})}async function YO(n,e,t,r,i){var s;t&&t.length>0&&e.sign(...t);const l=e._compile(),c=l.serialize(),p=e._serialize(c).toString("base64"),m={encoding:"base64",commitment:r??n.commitment};if(i){const C=(Array.isArray(i)?i:l.nonProgramIds()).map(I=>I.toBase58());m.accounts={encoding:"base64",addresses:C}}t&&(m.sigVerify=!0);const k=[p,m],_=await n._rpcRequest("simulateTransaction",k),v=p0(_,JO);if("error"in v){let C;if("data"in v.error&&(C=(s=v.error.data)===null||s===void 0?void 0:s.logs,C&&Array.isArray(C))){const I=`
    `,T=I+C.join(I);console.error(v.error.message,T)}throw new Yi("failed to simulate transaction: "+v.error.message,C)}return v.result}function ZO(n){return HO(z2(n),XO,e=>"error"in e?e:{...e,result:p0(e.result,n)})}const XO=z2(m0());function z2(n){return U2([Ki({jsonrpc:Tx("2.0"),id:xs(),result:n}),Ki({jsonrpc:Tx("2.0"),id:xs(),error:Ki({code:m0(),message:xs(),data:md(KO())})})])}function QO(n){return ZO(Ki({context:Ki({slot:pd()}),value:n}))}const JO=QO(Ki({err:td(U2([Ki({}),xs()])),logs:td(dm(xs())),accounts:md(td(dm(td(Ki({executable:qO(),owner:xs(),lamports:pd(),data:dm(xs()),rentEpoch:md(pd())}))))),unitsConsumed:md(pd())}));class Ln{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var i,s,l,c;if(r===void 0&&(r=this.opts),Wl(e))t&&e.sign(t);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const p of t)e.partialSign(p);e=await this.wallet.signTransaction(e);const d=e.serialize();try{return await Bx(this.connection,d,r)}catch(p){if(p instanceof Qm){const m=Ix(Wl(e)?((s=e.signatures)===null||s===void 0?void 0:s[0])||new Uint8Array:(l=e.signature)!==null&&l!==void 0?l:new Uint8Array),k=await this.connection.getTransaction(m,{commitment:"confirmed"});if(k){const _=(c=k.meta)===null||c===void 0?void 0:c.logMessages;throw _?new Yi(p.message,_):p}else throw p}else throw p}}async sendAll(e,t){var r,i,s;t===void 0&&(t=this.opts);const l=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let c=e.map(m=>{var k,_;if(Wl(m.tx)){let v=m.tx;return m.signers&&v.sign(m.signers),v}else{let v=m.tx,C=(k=m.signers)!==null&&k!==void 0?k:[];return v.feePayer=(_=v.feePayer)!==null&&_!==void 0?_:this.wallet.publicKey,v.recentBlockhash=l,C.forEach(I=>{v.partialSign(I)}),v}});const d=await this.wallet.signAllTransactions(c),p=[];for(let m=0;m<c.length;m+=1){const k=d[m],_=k.serialize();try{p.push(await Bx(this.connection,_,t))}catch(v){if(v instanceof Qm){const C=Ix(Wl(k)?((r=k.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=k.signature)!==null&&i!==void 0?i:new Uint8Array),I=await this.connection.getTransaction(C,{commitment:"confirmed"});if(I){const T=(s=I.meta)===null||s===void 0?void 0:s.logMessages;throw T?new Yi(v.message,T):v}else throw v}else throw v}}return p}async simulate(e,t,r,i){let s=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,l;if(Wl(e)?(t&&(e.sign(t),e=await this.wallet.signTransaction(e)),l=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,t&&(e=await this.wallet.signTransaction(e)),l=await YO(this.connection,e,t,r,i)),l.value.err)throw new eD(l.value);return l.value}}class eD extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function Bx(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},i=await n.sendRawTransaction(e,r),s=(await n.confirmTransaction(i,t&&t.commitment)).value;if(s.err)throw new Qm(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class Qm extends Error{constructor(e){super(e)}}function Jm(){return Ln.local()}const tD=new Map;function $2(n){return tD.get(n)!==void 0}class jd extends Error{constructor(e){super(e),this.name="IdlError"}}class Ac{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,i=/^Program \w* success/,s=[];for(let l=0;l<e.length;l++){if(i.exec(e[l])){s.pop();continue}const c=(t=r.exec(e[l]))===null||t===void 0?void 0:t[1];c&&s.push(new _e(c))}return new Ac(s)}}class Xl extends Error{constructor(e,t,r,i,s,l){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=i,this.error={errorCode:e,errorMessage:t,comparedValues:l,origin:s},this._programErrorStack=Ac.parse(i)}static parse(e){if(!e)return null;const t=e.findIndex(_=>_.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],i=[r];let s;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const _=/^Program log: (.*)$/,v=_.exec(e[t+2])[1],C=_.exec(e[t+4])[1];s=[new _e(v),new _e(C)],i.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const _=/^Program log: (Left|Right): (.*)$/,v=_.exec(e[t+1])[2],C=_.exec(e[t+2])[2];i.push(...e.slice(t+1,t+3)),s=[v,C]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),p=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),k=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(c){const[_,v,C]=c.slice(1,4),I={code:_,number:parseInt(v)};return new Xl(I,C,i,e,void 0,s)}else if(p){const[_,v,C,I,T]=p.slice(1,6),z={code:C,number:parseInt(I)},K={file:_,line:parseInt(v)};return new Xl(z,T,i,e,K,s)}else if(k){const[_,v,C,I]=k.slice(1,5),T=_,z={code:v,number:parseInt(C)};return new Xl(z,I,i,e,T,s)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Fd extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=Ac.parse(r))}static parse(e,t){const r=e.toString();let i;if(r.includes("custom program error:")){let c=r.split("custom program error: ");if(c.length!==2)return null;i=c[1]}else{const c=r.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;i=c[0].match(/([0-9]+)/g)[0]}let s;try{s=parseInt(i)}catch{return null}let l=t.get(s);return l!==void 0?new Fd(s,l,e.logs):(l=nD.get(s),l!==void 0?new Fd(s,l,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function V2(n,e){$2("debug-logs")&&console.log("Translating error:",n);const t=Xl.parse(n.logs);if(t)return t;const r=Fd.parse(n,e);if(r)return r;if(n.logs){const i={get:function(s,l){return l==="programErrorStack"?s.programErrorStack.stack:l==="program"?s.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=Ac.parse(n.logs),new Proxy(n,i)}return n}const mt={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,DeclaredProgramIdMismatch:4100,Deprecated:5e3},nD=new Map([[mt.InstructionMissing,"8 byte instruction identifier not provided"],[mt.InstructionFallbackNotFound,"Fallback functions are not supported"],[mt.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[mt.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[mt.IdlInstructionStub,"The program was compiled without idl instructions"],[mt.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[mt.ConstraintMut,"A mut constraint was violated"],[mt.ConstraintHasOne,"A has one constraint was violated"],[mt.ConstraintSigner,"A signer constraint was violated"],[mt.ConstraintRaw,"A raw constraint was violated"],[mt.ConstraintOwner,"An owner constraint was violated"],[mt.ConstraintRentExempt,"A rent exemption constraint was violated"],[mt.ConstraintSeeds,"A seeds constraint was violated"],[mt.ConstraintExecutable,"An executable constraint was violated"],[mt.ConstraintState,"Deprecated Error, feel free to replace with something else"],[mt.ConstraintAssociated,"An associated constraint was violated"],[mt.ConstraintAssociatedInit,"An associated init constraint was violated"],[mt.ConstraintClose,"A close constraint was violated"],[mt.ConstraintAddress,"An address constraint was violated"],[mt.ConstraintZero,"Expected zero account discriminant"],[mt.ConstraintTokenMint,"A token mint constraint was violated"],[mt.ConstraintTokenOwner,"A token owner constraint was violated"],[mt.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[mt.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[mt.ConstraintMintDecimals,"A mint decimals constraint was violated"],[mt.ConstraintSpace,"A space constraint was violated"],[mt.ConstraintAccountIsNone,"A required account for the constraint is None"],[mt.RequireViolated,"A require expression was violated"],[mt.RequireEqViolated,"A require_eq expression was violated"],[mt.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[mt.RequireNeqViolated,"A require_neq expression was violated"],[mt.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[mt.RequireGtViolated,"A require_gt expression was violated"],[mt.RequireGteViolated,"A require_gte expression was violated"],[mt.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[mt.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[mt.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[mt.AccountDidNotDeserialize,"Failed to deserialize the account"],[mt.AccountDidNotSerialize,"Failed to serialize the account"],[mt.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[mt.AccountNotMutable,"The given account is not mutable"],[mt.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[mt.InvalidProgramId,"Program ID was not as expected"],[mt.InvalidProgramExecutable,"Program account is not executable"],[mt.AccountNotSigner,"The given account did not sign"],[mt.AccountNotSystemOwned,"The given account is not owned by the system program"],[mt.AccountNotInitialized,"The program expected this account to be already initialized"],[mt.AccountNotProgramData,"The given account is not a program data account"],[mt.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[mt.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[mt.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[mt.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[mt.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[mt.Deprecated,"The API being used is deprecated and should no longer be used"]]);var eg=function(){return eg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},eg.apply(this,arguments)},tg=function(){return tg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},tg.apply(this,arguments)};function rD(n){return n.toLowerCase()}var oD=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],iD=/[^A-Z0-9]+/gi;function sD(n,e){e===void 0&&(e={});for(var t=e.splitRegexp,r=t===void 0?oD:t,i=e.stripRegexp,s=i===void 0?iD:i,l=e.transform,c=l===void 0?rD:l,d=e.delimiter,p=d===void 0?" ":d,m=Mx(Mx(n,r,"$1\0$2"),s,"\0"),k=0,_=m.length;m.charAt(k)==="\0";)k++;for(;m.charAt(_-1)==="\0";)_--;return m.slice(k,_).split("\0").map(c).join(p)}function Mx(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,i){return r.replace(i,t)},n)}function aD(n,e){return e===void 0&&(e={}),sD(n,tg({delimiter:"."},e))}function lD(n,e){return e===void 0&&(e={}),aD(n,eg({delimiter:"_"},e))}class yr{static fieldLayout(e,t){const r=e.name!==void 0?ln(e.name):void 0;switch(e.type){case"bool":return Tt.bool(r);case"u8":return Tt.u8(r);case"i8":return Tt.i8(r);case"u16":return Tt.u16(r);case"i16":return Tt.i16(r);case"u32":return Tt.u32(r);case"i32":return Tt.i32(r);case"f32":return Tt.f32(r);case"u64":return Tt.u64(r);case"i64":return Tt.i64(r);case"f64":return Tt.f64(r);case"u128":return Tt.u128(r);case"i128":return Tt.i128(r);case"u256":return Tt.u256(r);case"i256":return Tt.i256(r);case"bytes":return Tt.vecU8(r);case"string":return Tt.str(r);case"publicKey":return Tt.publicKey(r);default:{if("vec"in e.type)return Tt.vec(yr.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return Tt.option(yr.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){if(!t)throw new jd("User defined types not provided");const i=e.type.defined,s=t.filter(l=>l.name===i);if(s.length!==1)throw new jd(`Type not found: ${JSON.stringify(e)}`);return yr.typeDefLayout(s[0],t,r)}else if("array"in e.type){let i=e.type.array[0],s=e.type.array[1],l=yr.fieldLayout({name:void 0,type:i},t);return Tt.array(l,s,r)}else throw new Error(`Not yet implemented: ${e}`)}}}static typeDefLayout(e,t=[],r){switch(e.type.kind){case"struct":{const i=e.type.fields.map(s=>yr.fieldLayout(s,t));return Tt.struct(i,r)}case"enum":{let i=e.type.variants.map(s=>{const l=ln(s.name);if(!s.fields)return Tt.struct([],l);const c=s.fields.map((d,p)=>d?.name?yr.fieldLayout(d,t):yr.fieldLayout({type:d,name:p.toString()},t));return Tt.struct(c,l)});return r!==void 0?Tt.rustEnum(i).replicate(r):Tt.rustEnum(i,r)}case"alias":return yr.fieldLayout({type:e.type.value,name:e.name},t)}}}const Lx="global";class g0{constructor(e){this.idl=e,this.ixLayout=g0.parseIxLayout(e);const t=new Map;e.instructions.forEach(r=>{const i=Ox(Lx,r.name);t.set(xn.encode(i),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=t}encode(e,t){return this._encode(Lx,e,t)}_encode(e,t,r){const i=ut.alloc(1e3),s=ln(t),l=this.ixLayout.get(s);if(!l)throw new Error(`Unknown method: ${s}`);const c=l.encode(r,i),d=i.slice(0,c);return ut.concat([Ox(e,t),d])}static parseIxLayout(e){const t=e.instructions.map(r=>{let i=r.args.map(l=>{var c,d;return yr.fieldLayout(l,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(d=e.types)!==null&&d!==void 0?d:[]]))});const s=ln(r.name);return[s,Tt.struct(i,s)]});return new Map(t)}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?ut.from(e,"hex"):xn.decode(e));let r=xn.encode(e.slice(0,8)),i=e.slice(8);const s=this.sighashLayouts.get(r);return s?{data:s.layout.decode(i),name:s.name}:null}format(e,t){return mo.format(e,t,this.idl)}}class mo{static format(e,t,r){const i=r.instructions.filter(d=>e.name===d.name)[0];if(i===void 0)return console.error("Invalid instruction given"),null;const s=i.args.map(d=>({name:d.name,type:mo.formatIdlType(d.type),data:mo.formatIdlData(d,e.data[d.name],r.types)})),l=mo.flattenIdlAccounts(i.accounts),c=t.map((d,p)=>p<l.length?{name:l[p].name,...d}:{name:void 0,...d});return{args:s,accounts:c}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map(i=>this.formatIdlData({name:"",type:e.type.vec},i)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const i=r.filter(s=>s.name===e.type.defined);if(i.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return mo.formatIdlDataDefined(i[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":{const i=e.type;return"{ "+Object.keys(t).map(l=>{const c=i.fields.find(d=>d.name===l);if(!c)throw new Error("Unable to find type");return l+": "+mo.formatIdlData(c,t[l],r)}).join(", ")+" }"}case"enum":{if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const i=e.type.variants,s=Object.keys(t)[0],l=t[s],c=Object.keys(l).map(p=>{var m;const k=l[p],_=(m=i[s])===null||m===void 0?void 0:m.find(v=>v.name===p);if(!_)throw new Error("Unable to find variant");return p+": "+mo.formatIdlData(_,k,r)}).join(", "),d=ln(s,{pascalCase:!0});return c.length===0?d:`${d} { ${c} }`}else return"Tuple formatting not yet implemented"}case"alias":return mo.formatIdlType(e.type.value)}}static flattenIdlAccounts(e,t){return e.map(r=>{const i=cD(r.name);if(r.hasOwnProperty("accounts")){const s=t?`${t} > ${i}`:i;return mo.flattenIdlAccounts(r.accounts,s)}else return{...r,name:t?`${t} > ${i}`:i}}).flat()}}function cD(n){const e=n.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}function Ox(n,e){let t=lD(e),r=`${n}:${t}`;return ut.from(Pd(r).slice(0,8))}function W2(n,e){switch(e.type.kind){case"struct":return e.type.fields.map(t=>bs(n,t.type)).reduce((t,r)=>t+r,0);case"enum":{const t=e.type.variants.map(r=>r.fields?r.fields.map(i=>typeof i=="object"&&"name"in i?bs(n,i.type):bs(n,i)).reduce((i,s)=>i+s,0):0);return Math.max(...t)+1}case"alias":return bs(n,e.type.value)}}function bs(n,e){var t,r;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+bs(n,e.option);if("coption"in e)return 4+bs(n,e.coption);if("defined"in e){const i=(r=(t=n.types)===null||t===void 0?void 0:t.filter(l=>l.name===e.defined))!==null&&r!==void 0?r:[];if(i.length!==1)throw new jd(`Type not found: ${JSON.stringify(e)}`);let s=i[0];return W2(n,s)}if("array"in e){let i=e.array[0],s=e.array[1];return bs(n,i)*s}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const ng=8;function K2(n){return ct.from(Pd(n).slice(0,ng))}class Vi{constructor(e){if(e.accounts===void 0){this.accountLayouts=new Map;return}const t=e.accounts.map(r=>[r.name,yr.typeDefLayout(r,e.types)]);this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=ut.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const s=i.encode(t,r);let l=r.slice(0,s),c=Vi.accountDiscriminator(e);return ut.concat([c,l])}decode(e,t){if(Vi.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,8),r=Array.from(this.accountLayouts.keys()).find(i=>Vi.accountDiscriminator(i).equals(t));if(!r)throw new Error("Account descriminator not found");return this.decodeUnchecked(r,e)}decodeUnchecked(e,t){const r=t.subarray(ng),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.decode(r)}memcmp(e,t){const r=Vi.accountDiscriminator(e);return{offset:0,bytes:xn.encode(t?ut.concat([r,t]):r)}}size(e){var t;return ng+((t=W2(this.idl,e))!==null&&t!==void 0?t:0)}static accountDiscriminator(e){const t=`account:${ln(e,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`;return K2(t)}}class uD{constructor(e){if(e.events===void 0){this.layouts=new Map;return}const t=e.events.map(r=>{let i={name:r.name,type:{kind:"struct",fields:r.fields.map(s=>({name:s.name,type:s.type}))}};return[r.name,yr.typeDefLayout(i,e.types)]});this.layouts=new Map(t),this.discriminators=new Map(e.events===void 0?[]:e.events.map(r=>[Px(dD(r.name)),r.name]))}decode(e){let t;try{t=D2(e)}catch{return null}const r=Px(t.slice(0,8)),i=this.discriminators.get(r);if(i===void 0)return null;const s=this.layouts.get(i);if(!s)throw new Error(`Unknown event: ${i}`);return{data:s.decode(t.slice(8)),name:i}}}function dD(n){return K2(`event:${n}`)}class fD{constructor(e){if(e.types===void 0){this.typeLayouts=new Map;return}const t=e.types.map(r=>[r.name,yr.typeDefLayout(r,e.types)]);this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const r=ut.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const s=i.encode(t,r);return r.slice(0,s)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class q2{constructor(e){this.instruction=new g0(e),this.accounts=new Vi(e),this.events=new uD(e),this.types=new fD(e)}}var hD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof K1<"u"?K1:typeof self<"u"?self:{};class br{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var _f=br;function pD(n,e){return e.property?n+"["+e.property+"]":n}class ks extends br{isCount(){throw new Error("ExternalLayout is abstract")}}class H2 extends ks{constructor(e,t,r){if(!(e instanceof br))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof If||this.layout instanceof G2}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class If extends br{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class G2 extends br{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const rg=Math.pow(2,32);function Y2(n){const e=Math.floor(n/rg),t=n-e*rg;return{hi32:e,lo32:t}}function Z2(n,e){return n*rg+e}class mD extends br{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return Z2(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=Y2(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}}class gD extends br{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return Z2(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=Y2(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}}class yD extends br{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,l)=>s&&l instanceof br,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,l)=>s+l.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const l=s.getSpan(e,t);return t+=l,i+l},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,l=0;for(const c of this.fields){let d=c.span;if(l=0<d?d:0,c.property!==void 0){const p=e[c.property];p!==void 0&&(l=c.encode(p,t,r),0>d&&(d=c.getSpan(t,r)))}s=r,r+=d}return s+l-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class X2{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Dx extends X2{constructor(e,t){if(!(e instanceof ks&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class Q2 extends br{constructor(e,t,r){const i=e instanceof If||e instanceof G2;if(i)e=new Dx(new H2(e));else if(e instanceof ks&&e.isCount())e=new Dx(e);else if(!(e instanceof X2))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof br))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&i&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return l(c)},this.configGetSourceVariant=function(c){l=c.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,s=i.decode(e,t);let l=this.registry[s];if(l===void 0){let c=0;l=this.defaultLayout,this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[l.property]=this.defaultLayout.decode(e,t+c)}else r=l.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,l=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],t,r),c+l.encode(e[l.property],t,r+c)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new wD(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return ct.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class wD extends br{constructor(e,t,r,i){if(!(e instanceof Q2))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof br))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class vD extends br{constructor(e,t){if(!(e instanceof ks&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ks||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof ks&&(i=e.length),!(ct.isBuffer(e)&&i===e.length))throw new TypeError(pD("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof ks&&this.length.encode(i,t,r),i}}var xD=((n,e,t)=>new H2(n,e,t)),bD=(n=>new If(1,n)),Qo=(n=>new If(4,n)),kD=(n=>new mD(n)),ii=(n=>new gD(n)),Tn=((n,e,t)=>new yD(n,e,t)),J2=((n,e,t)=>new Q2(n,e,t)),_c=((n,e)=>new vD(n,e));class SD extends _f{constructor(e){super(-1,e),this.property=e,this.layout=Tn([Qo("length"),Qo("lengthPadding"),_c(xD(Qo(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const i={chars:ct.from(e,"utf8")};return this.layout.encode(i,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Qo().span+Qo().span+new sr(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Pf(n){return new SD(n)}function $r(n){return _c(32,n)}const Cr=J2(Qo("instruction"));Cr.addVariant(0,Tn([ii("lamports"),ii("space"),$r("owner")]),"createAccount");Cr.addVariant(1,Tn([$r("owner")]),"assign");Cr.addVariant(2,Tn([ii("lamports")]),"transfer");Cr.addVariant(3,Tn([$r("base"),Pf("seed"),ii("lamports"),ii("space"),$r("owner")]),"createAccountWithSeed");Cr.addVariant(4,Tn([$r("authorized")]),"advanceNonceAccount");Cr.addVariant(5,Tn([ii("lamports")]),"withdrawNonceAccount");Cr.addVariant(6,Tn([$r("authorized")]),"initializeNonceAccount");Cr.addVariant(7,Tn([$r("authorized")]),"authorizeNonceAccount");Cr.addVariant(8,Tn([ii("space")]),"allocate");Cr.addVariant(9,Tn([$r("base"),Pf("seed"),ii("space"),$r("owner")]),"allocateWithSeed");Cr.addVariant(10,Tn([$r("base"),Pf("seed"),$r("owner")]),"assignWithSeed");Cr.addVariant(11,Tn([ii("lamports"),Pf("seed"),$r("owner")]),"transferWithSeed");Math.max(...Object.values(Cr.registry).map(n=>n.span));class ED extends _f{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function jx(n){return new ED(_c(32),e=>new _e(e),e=>e.toBuffer(),n)}Tn([Qo("version"),Qo("state"),jx("authorizedPubkey"),jx("nonce"),Tn([kD("lamportsPerSignature")],"feeCalculator")]);function AD(n,...e){let t=[ut.from([97,110,99,104,111,114])];e.forEach(i=>{t.push(i instanceof ut?i:Ur(i).toBuffer())});const[r]=_e.findProgramAddressSync(t,Ur(n));return r}const _D=new _e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ID=new _e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Fx={exports:{}};(function(n,e){var t=typeof self<"u"?self:hD,r=(function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s})();(function(s){(function(l){var c={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function d(f){return f&&DataView.prototype.isPrototypeOf(f)}if(c.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(f){return f&&p.indexOf(Object.prototype.toString.call(f))>-1};function k(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function _(f){return typeof f!="string"&&(f=String(f)),f}function v(f){var y={next:function(){var E=f.shift();return{done:E===void 0,value:E}}};return c.iterable&&(y[Symbol.iterator]=function(){return y}),y}function C(f){this.map={},f instanceof C?f.forEach(function(y,E){this.append(E,y)},this):Array.isArray(f)?f.forEach(function(y){this.append(y[0],y[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(y){this.append(y,f[y])},this)}C.prototype.append=function(f,y){f=k(f),y=_(y);var E=this.map[f];this.map[f]=E?E+", "+y:y},C.prototype.delete=function(f){delete this.map[k(f)]},C.prototype.get=function(f){return f=k(f),this.has(f)?this.map[f]:null},C.prototype.has=function(f){return this.map.hasOwnProperty(k(f))},C.prototype.set=function(f,y){this.map[k(f)]=_(y)},C.prototype.forEach=function(f,y){for(var E in this.map)this.map.hasOwnProperty(E)&&f.call(y,this.map[E],E,this)},C.prototype.keys=function(){var f=[];return this.forEach(function(y,E){f.push(E)}),v(f)},C.prototype.values=function(){var f=[];return this.forEach(function(y){f.push(y)}),v(f)},C.prototype.entries=function(){var f=[];return this.forEach(function(y,E){f.push([E,y])}),v(f)},c.iterable&&(C.prototype[Symbol.iterator]=C.prototype.entries);function I(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function T(f){return new Promise(function(y,E){f.onload=function(){y(f.result)},f.onerror=function(){E(f.error)}})}function z(f){var y=new FileReader,E=T(y);return y.readAsArrayBuffer(f),E}function K(f){var y=new FileReader,E=T(y);return y.readAsText(f),E}function F(f){for(var y=new Uint8Array(f),E=new Array(y.length),U=0;U<y.length;U++)E[U]=String.fromCharCode(y[U]);return E.join("")}function Y(f){if(f.slice)return f.slice(0);var y=new Uint8Array(f.byteLength);return y.set(new Uint8Array(f)),y.buffer}function te(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:c.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:c.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():c.arrayBuffer&&c.blob&&d(f)?(this._bodyArrayBuffer=Y(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||m(f))?this._bodyArrayBuffer=Y(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var f=I(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?I(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(z)}),this.text=function(){var f=I(this);if(f)return f;if(this._bodyBlob)return K(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(F(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(Q)}),this.json=function(){return this.text().then(JSON.parse)},this}var se=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ne(f){var y=f.toUpperCase();return se.indexOf(y)>-1?y:f}function ae(f,y){y=y||{};var E=y.body;if(f instanceof ae){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,y.headers||(this.headers=new C(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!E&&f._bodyInit!=null&&(E=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=y.credentials||this.credentials||"same-origin",(y.headers||!this.headers)&&(this.headers=new C(y.headers)),this.method=ne(y.method||this.method||"GET"),this.mode=y.mode||this.mode||null,this.signal=y.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&E)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(E)}ae.prototype.clone=function(){return new ae(this,{body:this._bodyInit})};function Q(f){var y=new FormData;return f.trim().split("&").forEach(function(E){if(E){var U=E.split("="),L=U.shift().replace(/\+/g," "),N=U.join("=").replace(/\+/g," ");y.append(decodeURIComponent(L),decodeURIComponent(N))}}),y}function Z(f){var y=new C,E=f.replace(/\r?\n[\t ]+/g," ");return E.split(/\r?\n/).forEach(function(U){var L=U.split(":"),N=L.shift().trim();if(N){var b=L.join(":").trim();y.append(N,b)}}),y}te.call(ae.prototype);function ee(f,y){y||(y={}),this.type="default",this.status=y.status===void 0?200:y.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in y?y.statusText:"OK",this.headers=new C(y.headers),this.url=y.url||"",this._initBody(f)}te.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},ee.error=function(){var f=new ee(null,{status:0,statusText:""});return f.type="error",f};var V=[301,302,303,307,308];ee.redirect=function(f,y){if(V.indexOf(y)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:y,headers:{location:f}})},l.DOMException=s.DOMException;try{new l.DOMException}catch{l.DOMException=function(y,E){this.message=y,this.name=E;var U=Error(y);this.stack=U.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function D(f,y){return new Promise(function(E,U){var L=new ae(f,y);if(L.signal&&L.signal.aborted)return U(new l.DOMException("Aborted","AbortError"));var N=new XMLHttpRequest;function b(){N.abort()}N.onload=function(){var w={status:N.status,statusText:N.statusText,headers:Z(N.getAllResponseHeaders()||"")};w.url="responseURL"in N?N.responseURL:w.headers.get("X-Request-URL");var h="response"in N?N.response:N.responseText;E(new ee(h,w))},N.onerror=function(){U(new TypeError("Network request failed"))},N.ontimeout=function(){U(new TypeError("Network request failed"))},N.onabort=function(){U(new l.DOMException("Aborted","AbortError"))},N.open(L.method,L.url,!0),L.credentials==="include"?N.withCredentials=!0:L.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&c.blob&&(N.responseType="blob"),L.headers.forEach(function(w,h){N.setRequestHeader(h,w)}),L.signal&&(L.signal.addEventListener("abort",b),N.onreadystatechange=function(){N.readyState===4&&L.signal.removeEventListener("abort",b)}),N.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return D.polyfill=!0,s.fetch||(s.fetch=D,s.Headers=C,s.Request=ae,s.Response=ee),l.Headers=C,l.Request=ae,l.Response=ee,l.fetch=D,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(Fx,Fx.exports);Tt.rustEnum([Tt.struct([],"uninitialized"),Tt.struct([Tt.option(Tt.publicKey(),"authorityAddress")],"buffer"),Tt.struct([Tt.publicKey("programdataAddress")],"program"),Tt.struct([Tt.u64("slot"),Tt.option(Tt.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Tt.u32());function PD(n){return"accounts"in n}async function RD(n){const e=(await _e.findProgramAddress([],n))[0];return await _e.createWithSeed(e,TD(),n)}function TD(){return"anchor:idl"}const CD=Tt.struct([Tt.publicKey("authority"),Tt.vecU8("data")]);function ND(n){return CD.decode(n)}function Rf(n,e){var t,r;let i={};const s=n.args?n.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${n?.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(l=>l.name))!==null&&r!==void 0?r:[]}`);i=e.pop()}return[e,i]}class Ud{static build(e,t,r){if(e.name==="_inner")throw new jd("the _inner name is reserved");const i=(...s)=>{const[l,c]=Rf(e,[...s]);j2(e.accounts,c.accounts),BD(e,...s);const d=i.accounts(c.accounts);return c.remainingAccounts!==void 0&&d.push(...c.remainingAccounts),$2("debug-logs")&&console.log("Outgoing account metas:",d),new $t({keys:d,programId:r,data:t(e.name,jO(e,...l))})};return i.accounts=s=>Ud.accountsArray(s,e.accounts,r,e.name),i}static accountsArray(e,t,r,i){return e?t.map(s=>{if(("accounts"in s?s.accounts:void 0)!==void 0){const c=e[s.name];return Ud.accountsArray(c,s.accounts,r,i).flat()}else{const c=s;let d;try{d=Ur(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const p=c.isOptional&&d.equals(r),m=c.isMut&&!p,k=c.isSigner&&!p;return{pubkey:d,isWritable:m,isSigner:k}}}).flat():[]}}function BD(n,...e){}class MD{static build(e,t){return(...i)=>{var s,l,c;const[,d]=Rf(e,[...i]),p=new Dt;if(d.preInstructions&&d.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=d.preInstructions)===null||s===void 0||s.forEach(m=>p.add(m)),(l=d.instructions)===null||l===void 0||l.forEach(m=>p.add(m)),p.add(t(...i)),(c=d.postInstructions)===null||c===void 0||c.forEach(m=>p.add(m)),p}}}class LD{static build(e,t,r,i){return async(...l)=>{var c;const d=t(...l),[,p]=Rf(e,[...l]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(d,(c=p.signers)!==null&&c!==void 0?c:[],p.options)}catch(m){throw V2(m,r)}}}}class OD{static build(e,t,r,i){var s;const l={};return(s=e.accounts)===null||s===void 0||s.forEach(c=>{const d=ln(c.name);l[d]=new DD(e,c,r,i,t)}),l}}class DD{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(e,t,r,i,s){this._idlAccount=t,this._programId=r,this._provider=i??Jm(),this._coder=s??new q2(e),this._size=this._coder.accounts.size(t)}async fetchNullable(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){const r=await this.getAccountInfoAndContext(e,t),{value:i,context:s}=r;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:s}}async fetch(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){const{data:r,context:i}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:i}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,t){return(await GO(this._provider.connection,e.map(i=>Ur(i)),t)).map(i=>{if(i==null)return null;const{account:s,context:l}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,s.data),context:l}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof ct?e:void 0),r=[];return t?.offset!=null&&t?.bytes!=null&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),t?.dataSize!=null&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:s,account:l})=>({publicKey:s,account:this._coder.accounts.decode(this._idlAccount.name,l.data)}))}subscribe(e,t){const r=Kl.get(e.toString());if(r)return r.ee;const i=new BO;e=Ur(e);const s=this._provider.connection.onAccountChange(e,l=>{const c=this._coder.accounts.decode(this._idlAccount.name,l.data);i.emit("change",c)},t);return Kl.set(e.toString(),{ee:i,listener:s}),i}async unsubscribe(e){let t=Kl.get(e.toString());if(!t){console.warn("Address is not subscribed");return}Kl&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{Kl.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Qt.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await AD(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Ur(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(Ur(e),t)}}const Kl=new Map,og="Program log: ",eA="Program data: ",jD=og.length,FD=eA.length;class UD{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new tA(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(i)),this._eventCallbacks.set(i,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,l)=>{if(!s.err)for(const c of this._eventParser.parseLogs(s.logs)){const d=this._eventListeners.get(c.name);d&&d.forEach(p=>{const m=this._eventCallbacks.get(p);if(m){const[,k]=m;k(c.data,l.slot,s.signature)}})}})),i}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let i=this._eventListeners.get(r);if(!i)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),i=i.filter(s=>s!==e),this._eventListeners.set(r,i),i.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class tA{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const r=new $D(e),i=new zD;let s=r.next();for(;s!==null;){let[l,c,d]=this.handleLog(i,s,t);l&&(yield l),c&&i.push(c),d&&i.pop(),s=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(og)||e.startsWith(eA)){const r=e.startsWith(og)?e.slice(jD):e.slice(FD),i=this.coder.events.decode(r);if(t&&i===null)throw new Error(`Unable to decode event ${r}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class zD{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class $D{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class VD{static build(e,t,r,i,s,l,c){return async(...p)=>{var m;const k=t(...p),[,_]=Rf(e,[...p]);let v;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{v=await i.simulate(k,_.signers,(m=_.options)===null||m===void 0?void 0:m.commitment)}catch(T){throw V2(T,r)}if(v===void 0)throw new Error("Unable to simulate transaction");const C=v.logs;if(!C)throw new Error("Simulated logs not found");const I=[];if(c.events){let T=new tA(l,s);for(const z of T.parseLogs(C))I.push(z)}return{events:I,raw:C}}}}function fm(n){return new nA(_c(8),e=>KD.fromBuffer(e),e=>e.toBuffer(),n)}function nd(n){return new nA(_c(32),e=>new _e(e),e=>e.toBuffer(),n)}function hm(n,e){return new WD(n,e)}class nA extends _f{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class WD extends _f{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Qo()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}let KD=class rA extends sr{toBuffer(){const e=super.toArray().reverse(),t=ct.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=ct.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new rA([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}};const qD=Tn([nd("mint"),nd("owner"),fm("amount"),hm(nd(),"delegate"),(n=>{const e=J2(bD("discriminator"),null,n);return e.addVariant(0,Tn([]),"uninitialized"),e.addVariant(1,Tn([]),"initialized"),e.addVariant(2,Tn([]),"frozen"),e})("state"),hm(fm(),"isNative"),fm("delegatedAmount"),hm(nd(),"closeAuthority")]);function HD(n){return qD.decode(n)}class hc{constructor(e,t,r,i,s,l,c,d){this._accounts=t,this._provider=r,this._programId=i,this._idlIx=s,this._idlTypes=c,this._customResolver=d,this._args=e,this._accountStore=new GD(r,l,this._programId)}args(e){this._args=e}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveOptionalsHelper(e,t){const r={};for(const i of t){const s=i.name,l=e[s];l!==void 0&&(oA(l)?PD(i)?r[s]=this.resolveOptionalsHelper(l,i.accounts):r[s]=iA(l):l!==null?r[s]=Ur(l):i.isOptional&&(r[s]=this._programId))}return r}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((r,i)=>r&&r[i],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((i,s)=>{s==e.length-1&&(r[i]=t),r[i]=r[i]||{},r=r[i]})}async resolveConst(e,t=[]){for(let r=0;r<e.length;r+=1){const i=e[r],s=i.accounts;s&&await this.resolveConst(s,[...t,ln(i.name)]);const l=i,c=ln(i.name);if(l.isSigner&&!this.get([...t,c])){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...t,c],this._provider.wallet.publicKey)}Reflect.has(hc.CONST_ACCOUNTS,c)&&!this.get([...t,c])&&this.set([...t,c],hc.CONST_ACCOUNTS[c])}}_resolveEventCpi(e,t=[]){for(const r in e){const i=e[r],s=i.accounts;s&&this._resolveEventCpi(s,[...t,ln(i.name)]);const l=+r+1;if(l===e.length)return;const c=ln(e[r].name),d=ln(e[l].name);if(c==="eventAuthority"&&d==="program"){const p=[...t,c],m=[...t,d];this.get(p)||this.set(p,_e.findProgramAddressSync([ct.from("__event_authority")],this._programId)[0]),this.get(m)||this.set(m,this._programId);return}}}async resolvePdas(e,t=[]){let r=0;for(let i=0;i<e.length;i+=1){const s=e[i],l=s.accounts;l&&(r+=await this.resolvePdas(l,[...t,ln(s.name)]));const c=s,d=ln(s.name);c.pda&&c.pda.seeds.length>0&&!this.get([...t,d])&&await this.autoPopulatePda(c,t)&&(r+=1)}return r}async resolveRelations(e,t=[]){let r=0;for(let i=0;i<e.length;i+=1){const s=e[i],l=s.accounts;l&&(r+=await this.resolveRelations(l,[...t,ln(s.name)]));const c=s.relations||[],d=ln(s.name),p=[...t,d],m=this.get(p);if(m){const k=c.filter(_=>!this.get([...t,ln(_)]));if(r+=k.length,k.length>0){const _=await this._accountStore.fetchAccount({publicKey:m});await Promise.all(k.map(async v=>{const C=ln(v);return this.set([...t,C],_[C]),_[C]}))}}}return r}async autoPopulatePda(e,t=[]){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(e.pda.seeds.map(l=>this.toBuffer(l,t)));if(r.some(l=>typeof l>"u"))return;const i=await this.parseProgramId(e,t);if(!i)return;const[s]=await _e.findProgramAddress(r,i);this.set([...t,ln(e.name)],s)}async parseProgramId(e,t=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new _e(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId,t);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}getType(e,t=[]){if(t.length>0&&e.defined){const r=this._idlTypes.find(l=>l.name===e.defined);if(!r)throw new Error(`Cannot find type ${e.defined}`);const s=r.type.fields.find(l=>l.name===t[0]);return this.getType(s.type,t.slice(1))}return e}toBufferConst(e){return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),e.value)}async toBufferArg(e){const t=this.argValue(e);if(!(typeof t>"u"))return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),t)}argValue(e){const t=e.path.split("."),r=ln(t[0]),i=this._idlIx.args.findIndex(s=>s.name===r);if(i===-1)throw new Error(`Unable to find argument for seed: ${r}`);return t.slice(1).reduce((s,l)=>(s||{})[l],this._args[i])}async toBufferAccount(e,t=[]){const r=await this.accountValue(e,t);if(r)return this.toBufferValue(e.type,r)}async accountValue(e,t=[]){const r=e.path.split("."),i=r[0],s=this.get([...t,ln(i)]);if(s===null)throw new Error("fieldPubkey is null");if(r.length===1)return s;const l=await this._accountStore.fetchAccount({publicKey:s,name:e.account});return this.parseAccountValue(l,r.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[ln(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return ct.from([t]);case"u16":let r=ct.alloc(2);return r.writeUInt16LE(t),r;case"u32":let i=ct.alloc(4);return i.writeUInt32LE(t),i;case"u64":let s=ct.alloc(8);return s.writeBigUInt64LE(BigInt(t)),s;case"string":return ct.from(OO(t));case"publicKey":return t.toBuffer();default:if(e.array)return ct.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}hc.CONST_ACCOUNTS={associatedTokenProgram:ID,rent:Co,systemProgram:Qt.programId,tokenProgram:_D,clock:eo};class GD{constructor(e,t,r){this._provider=e,this._programId=r,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async ensureIdl(e){if(!this._idls[e.toBase58()]){const t=await Ao.fetchIdl(e,this._provider);if(t){const r=new Ao(t,e,this._provider);this._idls[e.toBase58()]=r.account}}return this._idls[e.toBase58()]}async fetchAccount({publicKey:e,name:t,programId:r=this._programId}){const i=e.toString();if(!this._cache.has(i))if(t==="TokenAccount"){const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`invalid account info for ${i}`);const l=HD(s.data);this._cache.set(i,l)}else if(t){const s=await this.ensureIdl(r);if(s){const l=s[ln(t)];if(l){const c=await l.fetch(e);this._cache.set(i,c)}}}else{const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`invalid account info for ${i}`);const l=s.data,c=await this.ensureIdl(s.owner);if(c){const d=Object.values(c)[0];if(!d)throw new Error("No accounts for this program");const p=d.coder.accounts.decodeAny(l);this._cache.set(i,p)}}return this._cache.get(i)}}class YD{static build(e,t,r,i,s,l,c,d,p,m,k){return(..._)=>new ZD(_,i,s,l,c,d,e,t,r,p,m,k)}}function oA(n){return typeof n=="object"&&n!==null&&!("_bn"in n)}function iA(n,e){const t={};for(const r in n){const i=n[r];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");t[r]=oA(i)?iA(i):Ur(i)}return t}class ZD{constructor(e,t,r,i,s,l,c,d,p,m,k,_){this._ixFn=t,this._txFn=r,this._rpcFn=i,this._simulateFn=s,this._viewFn=l,this._programId=d,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=e,this._accountsResolver=new hc(e,this._accounts,c,d,p,m,k,_)}args(e){this._args=e,this._accountsResolver.args(e)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class XD{static build(e,t,r,i){const s=t.accounts.find(d=>d.isMut),l=!!t.returns;return s||!l?void 0:async(...d)=>{var p,m;let k=await r(...d);const _=`Program return: ${e} `;let v=k.raw.find(z=>z.startsWith(_));if(!v)throw new Error("View expected return log");let C=D2(v.slice(_.length)),I=t.returns;if(!I)throw new Error("View expected return type");return yr.fieldLayout({type:I},Array.from([...(p=i.accounts)!==null&&p!==void 0?p:[],...(m=i.types)!==null&&m!==void 0?m:[]])).decode(C)}}}class QD{static build(e,t,r,i,s){const l={},c={},d={},p={},m={},k={},_=DO(e),v=e.accounts?OD.build(e,t,r,i):{};return e.instructions.forEach(C=>{const I=Ud.build(C,(se,ne)=>t.instruction.encode(se,ne),r),T=MD.build(C,I),z=LD.build(C,T,_,i),K=VD.build(C,T,_,i,t,r,e),F=XD.build(r,C,K,e),Y=YD.build(i,r,C,I,T,z,K,F,v,e.types||[],s&&s(C)),te=ln(C.name);c[te]=I,d[te]=T,l[te]=z,p[te]=K,m[te]=Y,F&&(k[te]=F)}),[l,c,d,v,p,m,k]}}class Ao{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t,r,i,s){t=Ur(t),r||(r=Jm()),this._idl=e,this._provider=r,this._programId=t,this._coder=i??new q2(e),this._events=new UD(this._programId,r,this._coder);const[l,c,d,p,m,k,_]=QD.build(e,this._coder,t,r,s??(()=>{}));this.rpc=l,this.instruction=c,this.transaction=d,this.account=p,this.simulate=m,this.methods=k,this.views=_}static async at(e,t){const r=Ur(e),i=await Ao.fetchIdl(r,t);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new Ao(i,r,t)}static async fetchIdl(e,t){t=t??Jm();const r=Ur(e),i=await RD(r),s=await t.connection.getAccountInfo(i);if(!s)return null;let l=ND(s.data.slice(8));const c=TO(l.data);return JSON.parse(LO(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new _e("11111111111111111111111111111111");const jn=new _e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new _e("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Fr=new _e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new _e("So11111111111111111111111111111111111111112");new _e("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const y0=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}};var fs={},Ux;function JD(){if(Ux)return fs;Ux=1,Object.defineProperty(fs,"__esModule",{value:!0});function n(i){{const s=ct.from(i);s.reverse();const l=s.toString("hex");return l.length===0?BigInt(0):BigInt(`0x${l}`)}}fs.toBigIntLE=n;function e(i){{const s=i.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}fs.toBigIntBE=e;function t(i,s){{const l=i.toString(16),c=ct.from(l.padStart(s*2,"0").slice(0,s*2),"hex");return c.reverse(),c}}fs.toBufferLE=t;function r(i,s){{const l=i.toString(16);return ct.from(l.padStart(s*2,"0").slice(0,s*2),"hex")}}return fs.toBufferBE=r,fs}var zx=JD();const ej=n=>e=>{const t=oe.blob(n,e),{encode:r,decode:i}=y0(t),s=t;return s.decode=(l,c)=>{const d=i(l,c);return zx.toBigIntLE(ct.from(d))},s.encode=(l,c,d)=>{const p=zx.toBufferLE(l,n);return r(p,c,d)},s},gd=ej(8),sA=n=>{const e=oe.u8(n),{encode:t,decode:r}=y0(e),i=e;return i.decode=(s,l)=>!!r(s,l),i.encode=(s,l,c)=>{const d=Number(s);return t(d,l,c)},i},Vn=n=>{const e=oe.blob(32,n),{encode:t,decode:r}=y0(e),i=e;return i.decode=(s,l)=>{const c=r(s,l);return new _e(c)},i.encode=(s,l,c)=>{const d=s.toBuffer();return t(d,l,c)},i};class js extends Error{constructor(e){super(e)}}class w0 extends js{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class tj extends js{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class v0 extends js{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class Ql extends js{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class aA extends js{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class nj extends js{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class lA extends js{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var zd;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Mint=1]="Mint",n[n.Account=2]="Account"})(zd||(zd={}));const cA=1,rj=oe.struct([oe.u8("m"),oe.u8("n"),sA("isInitialized"),Vn("signer1"),Vn("signer2"),Vn("signer3"),Vn("signer4"),Vn("signer5"),Vn("signer6"),Vn("signer7"),Vn("signer8"),Vn("signer9"),Vn("signer10"),Vn("signer11")]),uA=rj.span;var $d;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initialized=1]="Initialized",n[n.Frozen=2]="Frozen"})($d||($d={}));const dA=oe.struct([Vn("mint"),Vn("owner"),gd("amount"),oe.u32("delegateOption"),Vn("delegate"),oe.u8("state"),oe.u32("isNativeOption"),gd("isNative"),gd("delegatedAmount"),oe.u32("closeAuthorityOption"),Vn("closeAuthority")]),Ui=dA.span;async function $x(n,e,t,r=jn){const i=await n.getAccountInfo(e,t);return oj(e,i,r)}function oj(n,e,t=jn){if(!e)throw new w0;if(!e.owner.equals(t))throw new v0;if(e.data.length<Ui)throw new Ql;const r=dA.decode(e.data.slice(0,Ui));let i=ct.alloc(0);if(e.data.length>Ui){if(e.data.length===uA)throw new Ql;if(e.data[Ui]!=zd.Account)throw new tj;i=e.data.slice(Ui+cA)}return{address:n,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==$d.Uninitialized,isFrozen:r.state===$d.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:i}}const fA=oe.struct([oe.u32("mintAuthorityOption"),Vn("mintAuthority"),gd("supply"),oe.u8("decimals"),sA("isInitialized"),oe.u32("freezeAuthorityOption"),Vn("freezeAuthority")]),pm=fA.span;async function dF(n,e,t,r=jn){const i=await n.getAccountInfo(e,t);return ij(e,i,r)}function ij(n,e,t=jn){if(!e)throw new w0;if(!e.owner.equals(t))throw new v0;if(e.data.length<pm)throw new Ql;const r=fA.decode(e.data.slice(0,pm));let i=ct.alloc(0);if(e.data.length>pm){if(e.data.length<=Ui)throw new Ql;if(e.data.length===uA)throw new Ql;if(e.data[Ui]!=zd.Mint)throw new aA;i=e.data.slice(Ui+cA)}return{address:n,mintAuthority:r.mintAuthorityOption?r.mintAuthority:null,supply:r.supply,decimals:r.decimals,isInitialized:r.isInitialized,freezeAuthority:r.freezeAuthorityOption?r.freezeAuthority:null,tlvData:i}}async function Ho(n,e,t=!1,r=jn,i=Fr){if(!t&&!_e.isOnCurve(e.toBuffer()))throw new lA;const[s]=await _e.findProgramAddress([e.toBuffer(),r.toBuffer(),n.toBuffer()],i);return s}function sj(n,e,t=!1,r=jn,i=Fr){if(!t&&!_e.isOnCurve(e.toBuffer()))throw new lA;const[s]=_e.findProgramAddressSync([e.toBuffer(),r.toBuffer(),n.toBuffer()],i);return s}function aj(n,e,t,r,i=jn,s=Fr){return lj(n,e,t,r,ct.alloc(0),i,s)}function lj(n,e,t,r,i,s=jn,l=Fr){const c=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Qt.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new $t({keys:c,programId:l,data:i})}async function cj(n,e,t,r,i=!1,s,l,c=jn,d=Fr){const p=sj(t,r,i,c,d);let m;try{m=await $x(n,p,s,c)}catch(k){if(k instanceof w0||k instanceof v0){try{const _=new Dt().add(aj(e.publicKey,p,r,t,c,d));await Ld(n,_,[e],l)}catch{}m=await $x(n,p,s,c)}else throw k}if(!m.mint.equals(t))throw new aA;if(!m.owner.equals(r))throw new nj;return m}function uj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hA={exports:{}},Sn=hA.exports={},go,yo;function ig(){throw new Error("setTimeout has not been defined")}function sg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?go=setTimeout:go=ig}catch{go=ig}try{typeof clearTimeout=="function"?yo=clearTimeout:yo=sg}catch{yo=sg}})();function pA(n){if(go===setTimeout)return setTimeout(n,0);if((go===ig||!go)&&setTimeout)return go=setTimeout,setTimeout(n,0);try{return go(n,0)}catch{try{return go.call(null,n,0)}catch{return go.call(this,n,0)}}}function dj(n){if(yo===clearTimeout)return clearTimeout(n);if((yo===sg||!yo)&&clearTimeout)return yo=clearTimeout,clearTimeout(n);try{return yo(n)}catch{try{return yo.call(null,n)}catch{return yo.call(this,n)}}}var ei=[],Ba=!1,Ss,yd=-1;function fj(){!Ba||!Ss||(Ba=!1,Ss.length?ei=Ss.concat(ei):yd=-1,ei.length&&mA())}function mA(){if(!Ba){var n=pA(fj);Ba=!0;for(var e=ei.length;e;){for(Ss=ei,ei=[];++yd<e;)Ss&&Ss[yd].run();yd=-1,e=ei.length}Ss=null,Ba=!1,dj(n)}}Sn.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];ei.push(new gA(n,e)),ei.length===1&&!Ba&&pA(mA)};function gA(n,e){this.fun=n,this.array=e}gA.prototype.run=function(){this.fun.apply(null,this.array)};Sn.title="browser";Sn.browser=!0;Sn.env={};Sn.argv=[];Sn.version="";Sn.versions={};function ai(){}Sn.on=ai;Sn.addListener=ai;Sn.once=ai;Sn.off=ai;Sn.removeListener=ai;Sn.removeAllListeners=ai;Sn.emit=ai;Sn.prependListener=ai;Sn.prependOnceListener=ai;Sn.listeners=function(n){return[]};Sn.binding=function(n){throw new Error("process.binding is not supported")};Sn.cwd=function(){return"/"};Sn.chdir=function(n){throw new Error("process.chdir is not supported")};Sn.umask=function(){return 0};var hj=hA.exports;const pj=uj(hj),Vx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var mj={};const gj=typeof pj<"u"?mj??{}:{},yj=typeof import.meta<"u"&&Vx?Vx:{},$n=(n,e="")=>{const t=gj[n]??yj[n];return t!==void 0?t:e},Rn={SOLANA_RPC_URL:$n("NEXT_PUBLIC_SOLANA_RPC_URL","https://api.devnet.solana.com"),PROGRAM_ID:$n("NEXT_PUBLIC_PROGRAM_ID","CG7e3BfRFQn1AVUdXFRUsQBiKHtSpCiH7afhpJaoE4PT"),ADMIN_WALLET:$n("NEXT_PUBLIC_ADMIN_WALLET","FWqD9UHbEKKbCeAKNTFJRYkbr8VxhqabUd3nH3uJebMJ"),MEMO_PROGRAM_ID:$n("NEXT_PUBLIC_MEMO_PROGRAM_ID","MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),NETWORK:$n("NEXT_PUBLIC_NETWORK",""),STAKING_MINT:$n("NEXT_PUBLIC_STAKING_MINT",""),REWARD_MINT:$n("NEXT_PUBLIC_REWARD_MINT",""),APP_NAME:$n("NEXT_PUBLIC_APP_NAME","NPC Stake"),APP_DESCRIPTION:$n("NEXT_PUBLIC_APP_DESCRIPTION","Professional Solana staking dashboard for NPC token"),SUPABASE_URL:$n("NEXT_PUBLIC_SUPABASE_URL",""),SUPABASE_ANON_KEY:$n("NEXT_PUBLIC_SUPABASE_ANON_KEY",""),SUPABASE_SERVICE_KEY:$n("SUPABASE_SERVICE_KEY",$n("NEXT_PUBLIC_SUPABASE_SERVICE_KEY",""))};console.log("[ENV] Environment variables loaded:",{PROGRAM_ID:Rn.PROGRAM_ID,ADMIN_WALLET:Rn.ADMIN_WALLET,STAKING_MINT:Rn.STAKING_MINT,REWARD_MINT:Rn.REWARD_MINT,RPC_URL:Rn.SOLANA_RPC_URL,fromEnv:{PROGRAM_ID:$n("NEXT_PUBLIC_PROGRAM_ID"),ADMIN_WALLET:$n("NEXT_PUBLIC_ADMIN_WALLET"),STAKING_MINT:$n("NEXT_PUBLIC_STAKING_MINT"),REWARD_MINT:$n("NEXT_PUBLIC_REWARD_MINT")}});const x0={ADMIN_WALLET:Rn.ADMIN_WALLET,RPC_URL:Rn.SOLANA_RPC_URL,MEMO_PROGRAM_ID:Rn.MEMO_PROGRAM_ID},Ne=n=>{if(n instanceof _e)return n;if(!n)throw new Error("PublicKey is null or undefined. Please ensure wallet is connected.");if(typeof n=="string"&&(n.trim()===""||n.includes("your_")||n.includes("_here")))throw new Error(`Invalid or placeholder PublicKey: ${n}. Please set proper environment variables.`);try{return new _e(n)}catch{throw new Error(`Invalid PublicKey format: ${n}. Expected a valid base58 string.`)}};function ag(n,e){const t=Ne(n),r=Ne(e);return _e.findProgramAddressSync([ct.from("pool"),r.toBuffer()],t)[0]}function wd(n,e){const t=Ne(n),r=Ne(e);return _e.findProgramAddressSync([ct.from("pool-signer"),r.toBuffer()],t)[0]}function hs(n,e,t){const r=Ne(n),i=Ne(e),s=Ne(t);return _e.findProgramAddressSync([ct.from("user"),i.toBuffer(),s.toBuffer()],r)[0]}function wj(n){const e=r=>typeof r=="string"?(r==="publicKey"&&console.log("Keeping publicKey as primitive string"),r):r&&typeof r=="object"?"option"in r?{option:e(r.option)}:"vec"in r?{vec:e(r.vec)}:"array"in r?{array:[e(r.array[0]),r.array[1]]}:"defined"in r?{defined:r.defined}:"fields"in r?{...r,fields:r.fields.map(i=>({...i,type:e(i.type)}))}:"variants"in r?{...r,variants:r.variants.map(i=>"fields"in i?{...i,fields:i.fields.map(s=>e(s))}:i)}:Object.fromEntries(Object.entries(r).map(([i,s])=>[i,e(s)])):r,t=JSON.parse(JSON.stringify(n));return console.log("Original IDL sample:",{accounts:t.accounts?.[0]?.type?.fields?.slice(0,2),types:t.types?.[0]?.type?.fields?.slice(0,2)}),Array.isArray(t.accounts)&&t.accounts.forEach(r=>r.type=e(r.type)),Array.isArray(t.types)&&t.types.forEach(r=>r.type=e(r.type)),Array.isArray(t.instructions)&&t.instructions.forEach(r=>{r.args=r.args?.map(i=>({...i,type:e(i.type)}))??[]}),console.log("Normalized IDL sample:",{accounts:t.accounts?.[0]?.type?.fields?.slice(0,2),types:t.types?.[0]?.type?.fields?.slice(0,2)}),t}const vj="0.1.0",xj="sol_stake",bj=[{name:"initialize",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"stakingMint",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"configureRewards",docs:["One-shot: set reward mint + initial rate; program creates reward_vault ATA."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"ratePerSec",type:"u64"}]},{name:"setRewardRate",docs:["Admin can adjust reward rate any time after configuration."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"newRate",type:"u64"}]},{name:"setPaused",docs:["Pause blocks new stakes, but allows claim / unstake."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"paused",type:"bool"}]},{name:"setAdmin",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"newAdmin",type:"publicKey"}]},{name:"fundRewards",docs:["Fund reward vault from admin ATA."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"adminRewardAta",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawRewards",docs:["Withdraw reward tokens back to admin; only when paused."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"adminRewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"ensureVaults",docs:["Safety/ops: recreate any missing ATAs (idempotent)."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingMint",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1,isOptional:!0},{name:"rewardVault",isMut:!0,isSigner:!1,isOptional:!0},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initUser",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stake",docs:["Stake (blocked when paused). No auto-claim."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"unstake",docs:["Unstake principal (allowed while paused)."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"emergencyUnstake",docs:["Emergency exit: principal only, no rewards."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userStakingAta",isMut:!0,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"claim",docs:["Claim rewards (allowed while paused). Pays vault funds, carries unpaid remainder."],accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"userRewardAta",isMut:!0,isSigner:!1},{name:"user",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"closeUser",docs:["Close user record (no stake, no pending, no unpaid)."],accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"user",isMut:!0,isSigner:!1}],args:[]},{name:"closePool",docs:["Close pool once paused, all stakes withdrawn, vaults emptied."],accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"stakingVault",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1,isOptional:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],kj=[{name:"Pool",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"stakingMint",type:"publicKey"},{name:"stakingVault",type:"publicKey"},{name:"rewardConfigured",type:"bool"},{name:"rewardMint",type:"publicKey"},{name:"rewardVault",type:"publicKey"},{name:"rewardRatePerSec",type:"u64"},{name:"rateCap",type:"u64"},{name:"totalStaked",type:"u64"},{name:"accScaled",type:"u128"},{name:"lastUpdateTs",type:"i64"},{name:"paused",type:"bool"},{name:"locked",type:"bool"},{name:"bump",type:"u8"},{name:"signerBump",type:"u8"},{name:"reserved",type:{array:["u8",44]}}]}},{name:"User",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"staked",type:"u64"},{name:"debt",type:"u128"},{name:"unpaidRewards",type:"u128"},{name:"bump",type:"u8"},{name:"reserved",type:{array:["u8",23]}}]}}],Sj=[{name:"PoolInitialized",fields:[{name:"pool",type:"publicKey",index:!1},{name:"admin",type:"publicKey",index:!1},{name:"stakingMint",type:"publicKey",index:!1}]},{name:"RewardsConfigured",fields:[{name:"pool",type:"publicKey",index:!1},{name:"rewardMint",type:"publicKey",index:!1},{name:"ratePerSec",type:"u64",index:!1}]},{name:"RewardRateUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"newRate",type:"u64",index:!1}]},{name:"PausedUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"paused",type:"bool",index:!1}]},{name:"AdminUpdated",fields:[{name:"pool",type:"publicKey",index:!1},{name:"newAdmin",type:"publicKey",index:!1}]},{name:"RewardsFunded",fields:[{name:"pool",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"RewardsWithdrawn",fields:[{name:"pool",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Staked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Unstaked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"EmergencyUnstaked",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"RewardsClaimed",fields:[{name:"pool",type:"publicKey",index:!1},{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VaultsEnsured",fields:[{name:"pool",type:"publicKey",index:!1}]}],Ej=[{code:6e3,name:"Paused",msg:"Paused"},{code:6001,name:"NotPaused",msg:"Not paused"},{code:6002,name:"AlreadyConfigured",msg:"Already configured"},{code:6003,name:"NotConfigured",msg:"Rewards not configured"},{code:6004,name:"ZeroAmount",msg:"Amount must be > 0"},{code:6005,name:"InsufficientStake",msg:"Insufficient stake"},{code:6006,name:"Overflow",msg:"Overflow"},{code:6007,name:"Underflow",msg:"Underflow"},{code:6008,name:"VaultNotEmpty",msg:"Vault must be empty to close"},{code:6009,name:"NonZeroStake",msg:"Pool still has stake"},{code:6010,name:"RateTooHigh",msg:"Emission rate too high"},{code:6011,name:"Reentrancy",msg:"Re-entrancy detected"}],Aj={address:"CG7e3BfRFQn1AVUdXFRUsQBiKHtSpCiH7afhpJaoE4PT"},_j={version:vj,name:xj,instructions:bj,accounts:kj,events:Sj,errors:Ej,metadata:Aj},tr=Ne(Rn.PROGRAM_ID);async function Ij(n,e){try{console.log(" Fetching on-chain IDL for debugging...");const t=await Ao.fetchIdl(tr,n);if(t){console.log(" On-chain IDL fetched successfully"),console.log("On-chain IDL structure:",{version:t?.version,name:t?.name,hasInstructions:!!t?.instructions,hasAccounts:!!t?.accounts,hasTypes:!!t?.types});const r=t.accounts?.find(i=>i.name.toLowerCase()==="pool");return r&&(console.log(" Pool account structure from on-chain IDL:"),console.log("- Fields count:",r.type.fields?.length||0),console.log("- Fields:",r.type.fields?.map(i=>({name:i.name,type:i.type})))),t}else return console.log(" No on-chain IDL found"),null}catch(t){return console.error(" Failed to fetch on-chain IDL:",t),null}}async function er(n){let e;try{console.log(" Fetching on-chain IDL..."),console.log("Program ID:",tr.toBase58()),console.log("Provider connection:",n.connection.rpcEndpoint);const t=await Ao.fetchIdl(tr,n);if(t){console.log(" On-chain IDL fetched successfully"),e=t,e.address=tr.toBase58(),console.log("On-chain IDL structure:",{version:e?.version,name:e?.name,address:e?.address,hasInstructions:!!e?.instructions,hasAccounts:!!e?.accounts,hasTypes:!!e?.types});const r=e.accounts?.find(i=>i.name.toLowerCase()==="pool");r?(console.log(" Pool account found in on-chain IDL"),console.log("Pool account fields:",r.type.fields?.length||0)):console.warn(" Pool account not found in on-chain IDL")}else throw new Error("No on-chain IDL found")}catch(t){console.log(" Failed to fetch on-chain IDL:",t instanceof Error?t.message:String(t)),console.log(" Trying alternative on-chain IDL fetch...");try{const r=await Ao.fetchIdl(tr,n);if(r)console.log(" Alternative on-chain IDL fetch successful"),e=r,e.address=tr.toBase58();else throw new Error("Alternative fetch also failed")}catch(r){console.log(" Alternative on-chain IDL fetch also failed:",r),console.log(" Falling back to local IDL..."),e=_j,console.log(" Local IDL loaded as fallback"),console.log("Local IDL structure:",{version:e?.version,name:e?.name,address:e?.address,hasInstructions:!!e?.instructions,hasAccounts:!!e?.accounts,hasTypes:!!e?.types}),e.address=tr.toBase58()}}try{console.log("Creating Program instance...");const t=new Ao(e,tr,n);return console.log(" Program created successfully"),t}catch(t){console.error(" Failed to create Program:",t),console.error("Error details:",t instanceof Error?t.message:String(t)),console.log("Trying with normalized IDL as final fallback...");try{const r=wj(e),i=new Ao(r,tr,n);return console.log(" Program created with normalized IDL"),i}catch(r){throw console.error(" All IDL approaches failed:",r),new Error(`Failed to create Program: ${t instanceof Error?t.message:String(t)}`)}}}const Pj=Rn.SOLANA_RPC_URL;let mm=!1;async function Rj(n,e){if(!mm){mm=!0;try{const t=new l0(Pj,"confirmed"),r={publicKey:Ne(e.publicKey),signTransaction:e.signTransaction,signAllTransactions:e.signAllTransactions},i=new Ln(t,r,{commitment:"confirmed"}),s=await er(i),l=Ne(n),c=ag(s.programId,l),d=wd(s.programId,c),p=await Ho(l,d,!0);if(await t.getAccountInfo(c,{commitment:"processed"}))return console.warn("Pool already exists; skipping initialize."),{pool:c.toBase58(),signer:d.toBase58(),stakingVault:p.toBase58()};const{blockhash:k,lastValidBlockHeight:_}=await t.getLatestBlockhash("confirmed");let v;try{v=await s.methods.initialize().accounts({admin:i.wallet.publicKey,stakingMint:l,pool:c,poolSigner:d,stakingVault:p,systemProgram:Qt.programId,tokenProgram:jn,rent:Co,associatedTokenProgram:Fr}).rpc({commitment:"confirmed"}),await t.confirmTransaction({signature:v,blockhash:k,lastValidBlockHeight:_},"confirmed")}catch(I){if(String(I?.message??I).includes("already been processed")){v&&await t.confirmTransaction({signature:v,blockhash:k,lastValidBlockHeight:_},"confirmed");for(let K=0;K<10&&!await t.getAccountInfo(c,{commitment:"confirmed"});K++)await new Promise(Y=>setTimeout(Y,300));if(!await t.getAccountInfo(c,{commitment:"confirmed"}))throw I}else throw I}const C=await s.account.pool.fetch(c);return{pool:c.toBase58(),signer:d.toBase58(),stakingVault:p.toBase58(),admin:C.admin.toBase58(),stakingMint:C.stakingMint.toBase64?C.stakingMint.toBase58():C.stakingMint.toBase58?.()??String(C.stakingMint),totalStaked:C.totalStaked?.toString?.()??String(C.totalStaked),ratePerSec:C.rewardRatePerSec?.toString?.()??String(C.rewardRatePerSec)}}finally{mm=!1}}}const rd=new _e(x0.MEMO_PROGRAM_ID),od=(n,e)=>{const t=String(n);if(!t.includes("."))return new sr(t).mul(new sr(10).pow(new sr(e)));const[r,i]=t.split("."),s=(i+"0".repeat(e)).slice(0,e),l=r?new sr(r):new sr(0),c=s?new sr(s):new sr(0);return l.mul(new sr(10).pow(new sr(e))).add(c)},Wx=x0.RPC_URL,gm=new _e(x0.ADMIN_WALLET),Hl=n=>{try{return n?.toBase58?.()??n?.toString?.()??String(n??"unknown")}catch{return"unknown"}},Kx=(n,e={})=>{try{console.log(`[Staking] ${n}`,{programId:Hl(tr),...e})}catch(t){console.log("[Staking] Failed to log program request",t)}},yA=$.createContext(void 0);function Tj({children:n}){const[e]=$.useState(new l0(Wx,"confirmed")),[t,r]=$.useState(null),[i,s]=$.useState(!1),[l,c]=$.useState(null),[d,p]=$.useState(null),[m,k]=$.useState(!1),[_,v]=$.useState(null),C=Rn.STAKING_MINT&&Rn.STAKING_MINT!=="11111111111111111111111111111111"?Rn.STAKING_MINT:null,[I,T]=$.useState(C),[z,K]=$.useState(6),[F,Y]=$.useState(6),[te,se]=$.useState(0);$.useEffect(()=>{console.log("[Staking] Config snapshot",{programId:Hl(tr),rpcUrl:Wx,envStakingMint:Rn.STAKING_MINT,adminWallet:Hl(gm)})},[]),$.useEffect(()=>{const ye=gm.toBase58();s(!!t&&t===ye)},[t]),$.useEffect(()=>{t&&!l&&ae()},[t,l]),$.useEffect(()=>{if((async()=>{if(typeof window>"u"||!window.solana?.isPhantom){r(null);return}try{if(window.solana.isConnected){const xe=await window.solana.connect({onlyIfTrusted:!0});r(xe?.publicKey?.toString()??null)}else r(null)}catch{r(null)}})(),typeof window<"u"&&window.solana?.isPhantom){const xe=Re=>r(Re.toString()),Ce=()=>r(null);return"on"in window.solana&&(window.solana.on("connect",xe),window.solana.on("disconnect",Ce)),()=>{try{window.solana&&"off"in window.solana&&(window.solana.off("connect",xe),window.solana.off("disconnect",Ce))}catch{}}}},[]),$.useEffect(()=>{const ye=gm.toBase58();s(!!t&&t===ye)},[t]),$.useEffect(()=>{t&&!l&&ae()},[t,l]);const ne=async()=>{if(t){k(!0),v(null);try{const ye={publicKey:Ne(t),signTransaction:async Re=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(Re);throw new Error("Wallet not connected")},signAllTransactions:async Re=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(Re);throw new Error("Wallet not connected")}};Kx("refreshData -> loadProgram",{wallet:t});const xe=new Ln(e,ye,{commitment:"confirmed"}),Ce=await er(xe);if(console.log("[Staking] refreshData -> program loaded",{programId:Hl(Ce?.programId)}),!Ce.idl.accounts?.some(Re=>Re.name.toLowerCase()==="pool"))throw new Error("Loaded IDL missing 'pool' account in IDL");if(l?.poolAddress){const Re=Ne(l.poolAddress);if(Re.equals(Ne(l.stakingMint)))throw new Error("Detected stakingMint used as pool. Pool must be the Pool PDA.");const De=await Ce.account.pool.fetch(Re);console.log("Raw pool data from blockchain:",{stakingMint:De.stakingMint?.toBase58?.()??"undefined",rewardRatePerSec:De.rewardRatePerSec?.toString?.()??"undefined",rewardRatePerSecNumber:De.rewardRatePerSec?.toNumber?.()??0,rewardMint:De.rewardMint?.toBase58?.()??"undefined",totalStaked:De.totalStaked?.toNumber?.()??0,admin:De.admin?.toBase58?.()??"undefined"}),c({poolAddress:Re.toBase58(),admin:De.admin?.toBase58()??"Unknown",stakingMint:De.stakingMint?.toBase58()??"Unknown",stakingVault:De.stakingVault?.toBase58()??"Unknown",rewardConfigured:De.rewardConfigured??!1,rewardMint:De.rewardMint?.toBase58()??"Unknown",rewardVault:De.rewardVault?.toBase58()??"Unknown",rewardRatePerSec:De.rewardRatePerSec?.toNumber?.()??0,rateCap:De.rateCap?.toNumber?.()??0,totalStaked:De.totalStaked?.toNumber?.()??0,accScaled:De.accScaled?.toString?.()??"0",lastUpdateTs:De.lastUpdateTs?.toNumber?.()??0,paused:De.paused??!1,locked:De.locked??!1,bump:De.bump??0,signerBump:De.signerBump??0});const Me=hs(Ce.programId,Re,Ne(t));if(await e.getAccountInfo(Me)){const Fe=await Ce.account.user.fetch(Me);console.log(" User account data:",{owner:Fe.owner?.toBase58(),staked:Fe.staked?.toNumber(),debt:Fe.debt?.toString(),unpaidRewards:Fe.unpaidRewards?.toString(),bump:Fe.bump}),p({owner:Fe.owner?.toBase58()??"Unknown",staked:Fe.staked?.toNumber?.()??0,debt:Fe.debt?.toString?.()??"0",unpaidRewards:Fe.unpaidRewards?.toString?.()??"0",bump:Fe.bump??0})}else console.log(" User account not found - user needs to initialize"),p(null)}else c(null),p(null)}catch(ye){console.error("refreshData error:",ye),v(ye?.message??"Failed to refresh"),l||(c(null),p(null))}finally{k(!1)}}},ae=async()=>{if(t)try{if(console.log(" Setting up staking context..."),I)try{console.log(` Trying to fetch pool for current staking mint: ${I}`),await Q(I),console.log(" Pool found for current staking mint!");return}catch(ye){console.log(" No pool found for current staking mint:",ye instanceof Error?ye.message:String(ye)),console.log(" This is normal if the pool hasn't been created yet")}if(Rn.STAKING_MINT&&Rn.STAKING_MINT!=="11111111111111111111111111111111"){console.log(` Setting staking mint from environment: ${Rn.STAKING_MINT}`),T(Rn.STAKING_MINT);try{await Q(Rn.STAKING_MINT),console.log(" Pool found for environment staking mint!");return}catch{console.log(" No pool found for environment staking mint (normal for new deployments)")}}else console.log(" No staking mint configured - ready for admin to set up"),console.log(" Use the admin interface to set the staking mint and initialize a pool")}catch(ye){console.log(" Auto-detection failed:",ye),console.log(" This is normal for new deployments - use the admin interface to set up")}},Q=async ye=>{if(!t)throw new Error("Wallet not connected");k(!0),v(null);try{console.log("[Staking] fetchPoolByMint invoked",{stakingMint:ye,wallet:t});const xe={publicKey:Ne(t),signTransaction:async at=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(at);throw new Error("Wallet not connected")},signAllTransactions:async at=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(at);throw new Error("Wallet not connected")}};Kx("fetchPoolByMint -> loadProgram");const Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce);console.log("[Staking] fetchPoolByMint -> program loaded",{programId:Hl(Re?.programId)});const De=new _e(ye),Me=ag(Re.programId,De);console.log("Debug PDA derivation:",{programId:Re.programId.toBase58(),stakingMint:De.toBase58(),poolPDA:Me.toBase58()});const Te=await e.getAccountInfo(Me);if(!Te)throw new Error("Pool account does not exist");if(console.log("Pool account info:",{owner:Te.owner.toBase58(),executable:Te.executable,lamports:Te.lamports,dataLength:Te.data?.length,isProgramAccount:Te.owner.equals(Re.programId)}),!Te.owner.equals(Re.programId))throw new Error(`Pool account is not owned by our program. Owner: ${Te.owner.toBase58()}, Expected: ${Re.programId.toBase58()}`);if(!Te.data||Te.data.length===0)throw new Error("Pool account has no data");console.log(" Checking account discriminator...");const Fe=Vi.accountDiscriminator("Pool"),Se=Vi.accountDiscriminator("User"),We=Te.data.slice(0,8),vt=ct.compare(We,Fe)===0,Qe=ct.compare(We,Se)===0;if(console.log("Discriminator check:",{isPool:vt,isUser:Qe,gotDiscriminator:Array.from(We),expectedPoolDisc:Array.from(Fe),expectedUserDisc:Array.from(Se)}),Qe)throw new Error("Account at pool PDA is a User account, not a Pool account. Check your PDA derivation seeds.");if(!vt)throw new Error("Account at pool PDA is not a Pool account (discriminator mismatch). This might be a different account type or corrupted data.");console.log(" Account discriminator matches Pool - proceeding with decode");let Ue;try{Ue=await Re.account.pool.fetch(Me),console.log("Pool data fetched successfully:",Ue)}catch(at){throw console.error("Failed to decode pool account:",at),console.log("Account data length:",Te.data.length),console.log("Account data (first 32 bytes):",Te.data.slice(0,32)),at instanceof Error&&at.message.includes("beyond buffer length")?(console.log(" Account Analysis:"),console.log("- Account exists and discriminator matches Pool"),console.log("- But IDL layout mismatch:"),console.log(`  - On-chain data length: ${Te.data.length} bytes`),console.log("  - Expected by local IDL: ~265 bytes"),console.log(`  - Difference: ${Te.data.length-265} bytes`),console.log(" This means your local IDL does not match the deployed program"),console.log(" Solutions:"),console.log("  1. Use the exact IDL that was compiled with the deployed program"),console.log("  2. Rebuild and redeploy the program to match your current IDL"),console.log("  3. Check if the program was updated but IDL wasn't updated"),console.log("  4. Verify the _reserved array length in your struct"),new Error(`Pool decode failed: IDL/program layout mismatch. Account data length=${Te.data.length} bytes, but your local IDL expects ~265 bytes. Update your IDL to match the deployed binary (or redeploy the program).`)):at}c({poolAddress:Me.toString(),admin:Ue.admin?.toString()??"Unknown",stakingMint:Ue.stakingMint?.toString()??"Unknown",stakingVault:Ue.stakingVault?.toString()??"Unknown",rewardConfigured:Ue.rewardConfigured??!1,rewardMint:Ue.rewardMint?.toString()??"Unknown",rewardVault:Ue.rewardVault?.toString()??"Unknown",rewardRatePerSec:Ue.rewardRatePerSec?.toNumber?.()??0,rateCap:Ue.rateCap?.toNumber?.()??0,totalStaked:Ue.totalStaked?.toNumber?.()??0,accScaled:Ue.accScaled?.toString?.()??"0",lastUpdateTs:Ue.lastUpdateTs?.toNumber?.()??0,paused:Ue.paused??!1,locked:Ue.locked??!1,bump:Ue.bump??0,signerBump:Ue.signerBump??0});try{const{getMint:at}=await Pn(async()=>{const{getMint:X}=await import("./index-DHWTy87z.js");return{getMint:X}},[]),nt=new _e(Ue.stakingMint?.toString()??"Unknown"),W=new _e(Ue.rewardMint?.toString()??"Unknown"),P=await at(e,nt),R=await at(e,W);K(P.decimals??6),Y(R.decimals??6),console.log("Token decimals fetched:",{staking:P.decimals,reward:R.decimals})}catch(at){console.warn("Failed to fetch token decimals, using defaults:",at),K(6),Y(6)}try{const at=hs(Re.programId,Me,new _e(t)),nt=await Re.account.user.fetch(at);p({owner:nt.owner?.toString()??"Unknown",staked:nt.staked?.toNumber?.()??0,debt:nt.debt?.toString?.()??"0",unpaidRewards:nt.unpaidRewards?.toString?.()??"0",bump:nt.bump??0}),console.log("User data fetched:",nt)}catch(at){console.log("User account not found yet (normal for new users):",at),p(null)}console.log(" Pool data loaded successfully")}catch(xe){throw console.error(" Failed to fetch pool:",xe),v(xe?.message??"Failed to fetch pool data"),xe}finally{k(!1)}},Z=async ye=>{if(!i||!t)throw new Error("Only admin can initialize pool");k(!0),v(null);try{if(typeof window>"u"||!window.solana?.isPhantom)throw new Error("Phantom wallet not detected");window.solana.isConnected||await window.solana.connect();const xe={publicKey:Ne(t),signTransaction:async De=>window.solana.signTransaction(De),signAllTransactions:async De=>window.solana.signAllTransactions(De)};console.log(" Waiting 1 second before submitting transaction..."),await new Promise(De=>setTimeout(De,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:Ce}=await e.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",Ce);const Re=await Rj(ye,xe);if(!Re)throw new Error("Pool initialization failed - no result returned");c({poolAddress:Re.pool,admin:Re.admin,stakingMint:Re.stakingMint,stakingVault:Re.stakingVault,rewardConfigured:!1,rewardMint:"11111111111111111111111111111111",rewardVault:"11111111111111111111111111111111",rewardRatePerSec:Number(Re.ratePerSec),rateCap:0,totalStaked:Number(Re.totalStaked),accScaled:"0",lastUpdateTs:Math.floor(Date.now()/1e3),paused:!1,locked:!1,bump:0,signerBump:0}),await ne()}catch(xe){if(console.error("initializePool error:",xe),xe?.message?.includes("already in use")||xe?.logs?.some(Re=>Re.includes("already in use"))){console.log("Pool already exists, fetching existing pool data...");try{const Re=new _e(ye),De=ag(tr,Re);console.log("Fetching existing pool at:",De.toBase58()),await Q(ye),console.log(" Existing pool data loaded successfully");return}catch(Re){throw console.error("Failed to load existing pool data:",Re),v("Pool exists but could not load data. Please refresh the page."),Re}}const Ce=xe?.message??"Failed to initialize pool";throw v(Ce),new Error(Ce)}finally{k(!1)}},ee=async ye=>{if(!i||!t||!l)throw new Error("Only admin can update rate");k(!0),v(null);try{const xe={publicKey:Ne(t),signTransaction:async Ue=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(Ue);throw new Error("Wallet not connected")},signAllTransactions:async Ue=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(Ue);throw new Error("Wallet not connected")}},Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce),De=Ne(l.poolAddress),{getMint:Me}=await Pn(async()=>{const{getMint:Ue}=await import("./index-DHWTy87z.js");return{getMint:Ue}},[]),Te=Ne(l.rewardMint),Se=(await Me(e,Te)).decimals??0,We=od(ye,Se);console.log("Updating reward rate:",{humanRate:ye,decimals:Se,baseRate:We.toString()}),console.log(" Waiting 1 second before submitting transaction..."),await new Promise(Ue=>setTimeout(Ue,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:vt}=await e.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",vt);const Qe=await Re.methods.setRewardRate(We).accounts({pool:De,admin:Ne(t)}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log(" setRewardRate tx:",Qe),await new Promise(Ue=>setTimeout(Ue,1200)),await ne()}catch(xe){if(console.error(" setRewardRate failed",xe),xe?.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(" setRewardRate successful (transaction was already processed)"),await ne();return}else throw xe?.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):xe?.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to pool configuration issues or insufficient permissions"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(v(xe?.message??"Failed to update rate"),xe)}finally{k(!1)}},V=async ye=>{if(!i||!t||!l)throw new Error("Only admin can pause/unpause pool");k(!0),v(null);try{const xe={publicKey:Ne(t),signTransaction:async Te=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(Te);throw new Error("Wallet not connected")},signAllTransactions:async Te=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(Te);throw new Error("Wallet not connected")}},Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce),De=Ne(l.poolAddress);console.log(` ${ye?"Pausing":"Unpausing"} pool...`),console.log("Pool PDA:",De.toBase58()),console.log(" Waiting 1 second before submitting transaction..."),await new Promise(Te=>setTimeout(Te,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:Me}=await e.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",Me);try{console.log(" Building setPaused instruction manually...");const Te=await Re.methods.setPaused(ye).accounts({pool:De,admin:Ne(t)}).instruction(),Fe=crypto.randomUUID(),Se=new $t({programId:rd,keys:[],data:ct.from(`setPaused:${Fe}`,"utf8")});console.log(" Using unique memo:",Fe);const We=new Dt().add(Se,Te),{blockhash:vt,lastValidBlockHeight:Qe}=await e.getLatestBlockhash("finalized");We.recentBlockhash=vt,We.lastValidBlockHeight=Qe,We.feePayer=Ne(t),console.log(" Using fresh blockhash:",vt);const Ue=await xe.signTransaction(We),at=await e.sendRawTransaction(Ue.serialize(),{skipPreflight:!1});await e.confirmTransaction({signature:at,blockhash:vt,lastValidBlockHeight:Qe},"confirmed"),console.log(` Pool ${ye?"paused":"unpaused"} successfully:`,at)}catch(Te){if(console.error(" Transaction failed:",Te),Te.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success..."),console.log(` Pool ${ye?"paused":"unpaused"} successfully (transaction was already processed)`),await ne();return}else throw Te.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):Te.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient permissions or account issues"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):Te}await new Promise(Te=>setTimeout(Te,1200)),await ne()}catch(xe){if(console.error(` Failed to ${ye?"pause":"unpause"} pool:`,xe),xe?.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(` Pool ${ye?"paused":"unpaused"} successfully (transaction was already processed)`),await ne();return}else throw xe?.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):xe?.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient permissions or account issues"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(v(xe?.message??`Failed to ${ye?"pause":"unpause"} pool`),xe)}finally{k(!1)}},D=async(ye,xe)=>{if(!i||!t||!l)throw new Error("Only admin can set reward config");k(!0),v(null);try{const Ce={publicKey:Ne(t),signTransaction:async W=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(W);throw new Error("Wallet not connected")},signAllTransactions:async W=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(W);throw new Error("Wallet not connected")}},Re=new Ln(e,Ce,{commitment:"confirmed"}),De=await er(Re),Me=Ne(l.poolAddress),Te=wd(De.programId,Me),Fe=Ne(ye),{getMint:Se}=await Pn(async()=>{const{getMint:W}=await import("./index-DHWTy87z.js");return{getMint:W}},[]),vt=(await Se(e,Fe)).decimals??0,Qe=od(xe,vt);Qe.isZero()&&console.warn("ratePerSec scaled to 0; APY will remain 0. Use a larger rate or fewer decimals.");const Ue=await Ho(Fe,Te,!0);console.log(" ATA Debug Info:"),console.log("Reward Mint:",Fe.toBase58()),console.log("Pool Signer PDA:",Te.toBase58()),console.log("Derived Reward Vault:",Ue.toBase58()),console.log(" Account Verification:"),console.log("Pool PDA:",Me.toBase58()),console.log("Admin:",t),console.log("Reward Mint:",Fe.toBase58()),console.log("Pool Signer:",Te.toBase58()),console.log("Reward Vault:",Ue.toBase58());try{if(await e.getAccountInfo(Ue)){console.log(" ATA already exists - checking owner...");const{getAccount:P}=await Pn(async()=>{const{getAccount:R}=await import("./index-DHWTy87z.js");return{getAccount:R}},[]);try{const R=await P(e,Ue);throw console.log("ATA Owner:",R.owner.toBase58()),console.log("Expected Owner (PDA):",Te.toBase58()),R.owner.equals(Te)?(console.log(" ATA has correct owner (PDA)"),console.log(" Checking ATA balance..."),console.log("ATA Balance:",R.amount.toString()),R.amount>0?console.log(" ATA has existing balance - this might affect the configuration"):console.log(" ATA is empty - safe to proceed"),console.log(" BLOCKING: ATA already exists but program uses init constraint"),console.log(" The program expects to create the ATA, but it already exists"),console.log(' This will fail with "Provided owner is not allowed"'),console.log(" Solutions:"),console.log("1. Use a different reward mint (recommended)"),console.log("2. Create a new pool with different staking mint"),console.log("3. Update the program to handle existing ATAs"),new Error("ATA already exists but program uses init constraint. Please use a different reward mint or create a new pool.")):(console.log(" ATA has wrong owner! Expected PDA but got:",R.owner.toBase58()),console.log(" This ATA was created with a different owner than the PDA"),console.log(" The program expects to create the ATA with PDA as owner, but it already exists with a different owner"),console.log(" Solutions:"),console.log("1. Use a different reward mint (recommended)"),console.log("2. Create a new pool with a different staking mint"),console.log("3. The program needs to be updated to handle existing ATAs"),new Error(`ATA already exists with wrong owner. Expected ${Te.toBase58()} but got ${R.owner.toBase58()}. Please use a different reward mint or create a new pool.`))}catch(R){console.log("Could not parse ATA account:",R),console.log(" ATA Account Info:",{address:Ue.toBase58(),exists:!0,parseError:R instanceof Error?R.message:String(R)});try{const X=await e.getAccountInfo(Ue);console.log("Raw ATA Account Info:",{address:Ue.toBase58(),owner:X?.owner?.toBase58(),executable:X?.executable,lamports:X?.lamports,dataLength:X?.data?.length,data:X?.data?"Has data":"No data"})}catch(X){console.log("Could not get raw account info:",X)}console.log(" ATA exists but cannot be parsed - proceeding anyway"),console.log(" The program might be able to handle this invalid ATA state"),console.log(" If this fails, try using a different reward mint")}}else console.log(" ATA does not exist yet (normal for new setup)")}catch(W){throw console.log("ATA check failed:",W),W}if(console.log("SetRewardConfig accounts",{pool:Me.toBase58(),admin:t,poolSigner:Te.toBase58(),rewardMint:Fe.toBase58(),rewardVault:Ue.toBase58()}),console.log("Rate scaling:",{humanRate:xe,decimals:vt,baseRate:Qe.toString(),baseRateNumber:Qe.toNumber()}),l&&l.rewardMint&&l.rewardMint!=="11111111111111111111111111111111")throw console.log(" Pool rewards are already configured!"),console.log("Current reward mint:",l.rewardMint),console.log("Current rate per sec:",l.rewardRatePerSec),console.log(" Use setRewardRate to update the rate instead"),new Error("Pool rewards are already configured. Use setRewardRate to update the rate instead.");console.log(" About to call configureRewards..."),console.log(" WARNING: The ATA already exists, but the program now uses init_if_needed"),console.log(" This should work with the updated program"),console.log(" If this fails, the pool might already be configured"),console.log(" Waiting 1 second before submitting transaction..."),await new Promise(W=>setTimeout(W,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:at}=await e.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",at);const nt=await De.methods.configureRewards(Qe).accounts({pool:Me,admin:Ne(t),rewardMint:Fe,poolSigner:Te,rewardVault:Ue,tokenProgram:jn,associatedTokenProgram:Fr,systemProgram:Qt.programId,rent:Co}).rpc({skipPreflight:!0,commitment:"confirmed"});console.log(" setRewardConfig tx:",nt),await new Promise(W=>setTimeout(W,1200)),await ne()}catch(Ce){if(console.error(" setRewardConfig failed",Ce),Ce?.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(" This is normal with Phantom wallet - transaction was successful"),await ne();return}else throw Ce?.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):Ce?.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to pool configuration issues or insufficient permissions"),new Error("Transaction simulation failed. Please check your admin permissions and try again.")):(v(Ce?.message??"Failed to set reward config"),Ce)}finally{k(!1)}},f=async ye=>{if(console.log(" STAKE FUNCTION CALLED!",{amount:ye,walletAddress:t,poolData:l}),!t||!l)throw new Error("Wallet not connected or pool not initialized");k(!0),v(null);try{console.log("Staking tokens:",{amount:ye,walletAddress:t,poolAddress:l.poolAddress});const xe=window.solana;if(!xe?.publicKey)throw new Error("Wallet not connected");const Ce={publicKey:Ne(xe.publicKey),signTransaction:xe.signTransaction,signAllTransactions:xe.signAllTransactions},Re=new Ln(e,Ce,{commitment:"confirmed"}),De=await er(Re),Me=Ne(l.poolAddress),[Te,Fe]=_e.findProgramAddressSync([ct.from("signer"),Me.toBuffer()],De.programId),{getAccount:Se}=await Pn(async()=>{const{getAccount:He}=await import("./index-DHWTy87z.js");return{getAccount:He}},[]),We=Ne(l.stakingVault);console.log(" Reading pool signer from vault authority...");const vt=await Se(e,We),Qe=new _e(vt.owner);console.log(" Pool signer (from vault authority):",Qe.toBase58()),console.log(" Comparing with our derivation:",Te.toBase58()),console.log(" Expected from error:","DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt"),console.log(" Matches expected:",Qe.toBase58()==="DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt");const Ue=Qe,at=hs(De.programId,Me,Ne(t));console.log(" PDA Derivation Debug:"),console.log("Program ID:",De.programId.toBase58()),console.log("Pool PDA:",Me.toBase58()),console.log("Signer PDA (our derivation):",Te.toBase58()),console.log("User PDA:",at.toBase58());const[nt,W]=_e.findProgramAddressSync([ct.from("signer"),Me.toBuffer()],De.programId);console.log("Expected Signer PDA:",nt.toBase58()),console.log("Expected Bump:",W),console.log("Signer PDA matches expected:",Te.equals(nt));const[P,R]=_e.findProgramAddressSync([ct.from("pool_signer"),Me.toBuffer()],De.programId);console.log("Alternative Signer PDA (pool_signer):",P.toBase58());const[X,ce]=_e.findProgramAddressSync([ct.from("signer"),Me.toBuffer()],De.programId);console.log("Alternative Signer PDA (signer):",X.toBase58());const pe="DHPdammvheftDaSmEvPuDnHErMTudC1iTGjfLPbPnsbt";console.log("Expected from error:",pe),console.log("Our derivation matches error:",Te.toBase58()===pe),console.log("Alt derivation 1 matches error:",P.toBase58()===pe),console.log("Alt derivation 2 matches error:",X.toBase58()===pe);const we=await Ho(Ne(l.stakingMint),Ne(t)),it=Ne(l.stakingVault),{getMint:tt}=await Pn(async()=>{const{getMint:He}=await import("./index-DHWTy87z.js");return{getMint:He}},[]),_t=(await tt(e,Ne(l.stakingMint))).decimals??0,Ke=od(ye,_t);console.log("Stake scaling:",{humanAmount:ye,decimals:_t,baseAmount:Ke.toString()}),console.log("Stake accounts:",{owner:t,pool:Me.toBase58(),signer:Ue.toBase58(),userStakingAta:we.toBase58(),stakingVault:it.toBase58(),user:at.toBase58()});try{const He=await Se(e,we);if(console.log(" User token balance:",He.amount.toString()),console.log(" Amount to stake:",Ke.toString()),He.amount<BigInt(Ke.toString()))throw new Error(`Insufficient token balance. Available: ${He.amount.toString()}, Required: ${Ke.toString()}`)}catch(He){console.log(" Could not check token balance:",He),console.log(" Proceeding with transaction - balance will be checked by the program")}console.log(" Waiting 1 second before submitting transaction..."),await new Promise(He=>setTimeout(He,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:It}=await e.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",It),l.signerBump&&l.signerBump>0&&(console.log(" Pool data has signerBump:",l.signerBump),console.log(" This suggests the signer PDA was derived during pool initialization"),console.log(" Let me check if we need to use a different derivation..."));try{const He=await De.methods.stake(Ke).accounts({owner:Ne(t),pool:Me,poolSigner:Ue,userStakingAta:we,stakingVault:it,user:at,systemProgram:Qt.programId,tokenProgram:jn,associatedTokenProgram:Fr,rent:Co}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log(" Stake transaction successful:",He)}catch(He){if(console.error(" Transaction failed:",He),He.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(" Stake successful (transaction was already processed)"),await ne();return}else throw He.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):He.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient funds or account issues"),new Error("Transaction simulation failed. Please check your token balance and try again.")):He}console.log(" Stake successful"),await ne()}catch(xe){throw console.error(" Stake failed:",xe),v(xe?.message??"Failed to stake"),xe}finally{k(!1)}},y=async ye=>{if(!t||!l)throw new Error("Wallet not connected or pool not initialized");k(!0),v(null);try{console.log("Unstaking tokens:",{amount:ye,walletAddress:t,poolAddress:l.poolAddress}),console.log(" Claiming rewards before unstaking to preserve them...");try{await E(),console.log(" Rewards claimed successfully before unstaking")}catch(R){console.log(" Could not claim rewards before unstaking (this is OK if no rewards to claim):",R)}const xe={publicKey:Ne(t),signTransaction:async R=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(R);throw new Error("Wallet not connected")},signAllTransactions:async R=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(R);throw new Error("Wallet not connected")}},Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce),De=Ne(l.poolAddress),{getAccount:Me}=await Pn(async()=>{const{getAccount:R}=await import("./index-DHWTy87z.js");return{getAccount:R}},[]),Te=Ne(l.stakingVault);console.log(" Reading pool signer from vault authority for unstake...");const Fe=await Me(e,Te),Se=new _e(Fe.owner);console.log(" Pool signer (from vault authority):",Se.toBase58());const We=hs(Re.programId,De,Ne(t)),vt=await Ho(Ne(l.stakingMint),Ne(t)),Qe=Ne(l.stakingVault),{getMint:Ue}=await Pn(async()=>{const{getMint:R}=await import("./index-DHWTy87z.js");return{getMint:R}},[]),nt=(await Ue(e,Ne(l.stakingMint))).decimals??0,W=od(ye,nt);console.log("Unstake scaling:",{humanAmount:ye,decimals:nt,baseAmount:W.toString()}),console.log("Unstake accounts:",{owner:t,pool:De.toBase58(),signer:Se.toBase58(),stakingVault:Qe.toBase58(),userStakingAta:vt.toBase58(),user:We.toBase58()});try{const R=await Me(e,vt);if(console.log(" User staked balance:",R.amount.toString()),console.log(" Amount to unstake:",W.toString()),R.amount<BigInt(W.toString()))throw new Error(`Insufficient staked balance. Available: ${R.amount.toString()}, Required: ${W.toString()}`)}catch(R){console.log(" Could not check staked balance:",R),console.log(" Proceeding with transaction - balance will be checked by the program")}console.log(" Waiting 1 second before submitting transaction..."),await new Promise(R=>setTimeout(R,1e3)),console.log(" Getting fresh blockhash...");const{blockhash:P}=await e.getLatestBlockhash("confirmed");console.log(" Fresh blockhash obtained:",P);try{const R=await Re.methods.unstake(W).accounts({owner:Ne(t),pool:De,poolSigner:Se,stakingVault:Qe,userStakingAta:vt,user:We,tokenProgram:jn}).rpc({commitment:"confirmed",preflightCommitment:"processed"});console.log(" Unstake transaction successful:",R)}catch(R){if(console.error(" Transaction failed:",R),R.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success"),console.log(" Unstake successful (transaction was already processed)"),await ne();return}else throw R.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):R.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient staked balance or account issues"),new Error("Transaction simulation failed. Please check your staked balance and try again.")):R}console.log(" Unstake successful"),await ne()}catch(xe){throw console.error(" Unstake failed:",xe),v(xe?.message??"Failed to unstake"),xe}finally{k(!1)}},E=async()=>{if(!t||!l)throw new Error("Wallet not connected or pool not initialized");const ye=Date.now();if(ye-te<5e3)throw new Error("Please wait a few seconds before submitting another transaction");k(!0),v(null),se(ye);try{console.log("Claiming rewards:",{walletAddress:t,poolAddress:l.poolAddress});const xe={publicKey:Ne(t),signTransaction:async P=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(P);throw new Error("Wallet not connected")},signAllTransactions:async P=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(P);throw new Error("Wallet not connected")}},Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce),De=Ne(l.poolAddress),{getAccount:Me}=await Pn(async()=>{const{getAccount:P}=await import("./index-DHWTy87z.js");return{getAccount:P}},[]),Te=Ne(l.stakingVault);console.log(" Reading pool signer from vault authority for claim...");const Fe=await Me(e,Te),Se=new _e(Fe.owner);console.log(" Pool signer (from vault authority):",Se.toBase58());const We=hs(Re.programId,De,Ne(t)),vt=Ne(l.rewardVault);console.log(" Ensuring user reward ATA exists..."),console.log(" Reward mint:",l.rewardMint),console.log(" User wallet:",t);const Qe=await e.getBalance(Ne(t)),Ue=.002*1e9;if(console.log(" User SOL balance:",Qe/1e9,"SOL"),console.log(" Minimum required:",Ue/1e9,"SOL"),Qe<Ue)throw new Error(`Insufficient SOL balance. You need at least 0.002 SOL to create token accounts. Current balance: ${(Qe/1e9).toFixed(6)} SOL`);let at;const nt=await Ho(Ne(l.rewardMint),Ne(t));if(console.log(" Derived ATA address:",nt.toBase58()),await e.getAccountInfo(nt))console.log(" ATA already exists:",nt.toBase58()),at=nt;else{console.log(" ATA does not exist, creating it...");try{at=(await cj(e,xe,Ne(l.rewardMint),Ne(t))).address,console.log(" ATA created automatically:",at.toBase58())}catch(P){console.log(" Automatic creation failed, trying manual creation:",P.message);try{const{createAssociatedTokenAccountInstruction:R}=await Pn(async()=>{const{createAssociatedTokenAccountInstruction:tt}=await import("./index-DHWTy87z.js");return{createAssociatedTokenAccountInstruction:tt}},[]),{Transaction:X}=await Pn(async()=>{const{Transaction:tt}=await Promise.resolve().then(()=>hd);return{Transaction:tt}},void 0),ce=new X;ce.add(R(Ne(t),nt,Ne(t),Ne(l.rewardMint)));const{blockhash:pe}=await e.getLatestBlockhash("confirmed");ce.recentBlockhash=pe,ce.feePayer=Ne(t);const we=await xe.signTransaction(ce),it=await e.sendRawTransaction(we.serialize());await e.confirmTransaction(it,"confirmed"),console.log(" ATA created manually:",it),at=nt}catch(R){throw new Error(`Failed to create user reward token account. Please ensure you have enough SOL (at least 0.002 SOL) for the account creation fee. Error: ${R.message}`)}}}console.log("Claim accounts:",{owner:t,pool:De.toBase58(),poolSigner:Se.toBase58(),rewardVault:vt.toBase58(),userRewardAta:at.toBase58(),user:We.toBase58()}),console.log(" Waiting 1 second before submitting transaction..."),await new Promise(P=>setTimeout(P,1e3));try{console.log(" Building claim instruction manually...");const P=await Re.methods.claim().accounts({owner:Ne(t),pool:De,poolSigner:Se,rewardVault:vt,userRewardAta:at,user:We,tokenProgram:jn,associatedTokenProgram:Fr}).instruction(),R=crypto.randomUUID(),X=new $t({programId:rd,keys:[],data:ct.from(`claim:${R}`,"utf8")});console.log(" Using unique memo:",R);const ce=new Dt().add(X,P),{blockhash:pe,lastValidBlockHeight:we}=await e.getLatestBlockhash("finalized");ce.recentBlockhash=pe,ce.lastValidBlockHeight=we,ce.feePayer=Ne(t),console.log(" Using fresh blockhash:",pe);const it=await xe.signTransaction(ce),tt=await e.sendRawTransaction(it.serialize(),{skipPreflight:!1});await e.confirmTransaction({signature:tt,blockhash:pe,lastValidBlockHeight:we},"confirmed"),console.log(" Claim transaction successful:",tt);try{const rt=await e.getTokenAccountBalance(at),_t=Number(rt.value.amount),Ke=_t/Math.pow(10,F);console.log(" Current reward balance after claim:",{baseUnits:_t,uiAmount:Ke,decimals:F})}catch(rt){console.log("Could not check balance after claim:",rt)}}catch(P){if(console.error(" Transaction failed:",P),P.message?.includes("already been processed")){console.log(" Transaction already processed - treating as success..."),console.log(" Claim successful (transaction was already processed)"),await ne();return}else throw P.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):P.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient rewards or account issues"),new Error("Transaction simulation failed. Please check your rewards and try again.")):P}console.log(" Claim successful"),await ne()}catch(xe){throw console.error(" Claim failed:",xe),v(xe?.message??"Failed to claim rewards"),xe}finally{k(!1)}},U=async()=>{if(!l)return console.log("No pool data available"),0;if(l.rewardVault==="11111111111111111111111111111111")return console.log("Reward vault not configured yet"),0;try{const ye=Ne(l.rewardVault),xe=await e.getTokenAccountBalance(ye);return console.log("Reward Vault Balance:",{vaultAddress:ye.toBase58(),balance:xe.value.uiAmount,balanceString:xe.value.uiAmountString,decimals:xe.value.decimals}),xe.value.uiAmount||0}catch(ye){return console.error("Failed to check reward vault balance:",ye),0}},L=async()=>{if(!l)return null;try{if(console.log(" APY Calculation Debug:",{rewardMint:l.rewardMint,ratePerSec:l.rewardRatePerSec,totalStaked:l.totalStaked,rewardConfigured:l.rewardMint!=="11111111111111111111111111111111"}),l.rewardRatePerSec>0){const nt=new _e(l.rewardMint),{getMint:W}=await Pn(async()=>{const{getMint:ce}=await import("./index-DHWTy87z.js");return{getMint:ce}},[]),R=(await W(e,nt)).decimals??0,X=l.rewardRatePerSec/10**R;console.log(" Current Rate Settings:",{baseUnits:l.rewardRatePerSec,humanReadable:X,decimals:R,perSecond:`${X} tokens per second`,perDay:`${(X*86400).toFixed(6)} tokens per day`,perYear:`${(X*31536e3).toFixed(6)} tokens per year`})}if(!l.rewardMint||l.rewardMint==="11111111111111111111111111111111")return console.log(" Reward configuration not set"),null;if(l.rewardRatePerSec<=0)return console.log(" Invalid rate:",{ratePerSec:l.rewardRatePerSec,reason:"Rate is 0 or negative"}),null;if(l.totalStaked<=0){console.log(" No tokens staked yet - showing theoretical APY (assuming 1 token staked)");const nt=new _e(l.stakingMint),W=new _e(l.rewardMint),{getMint:P}=await Pn(async()=>{const{getMint:It}=await import("./index-DHWTy87z.js");return{getMint:It}},[]),R=await P(e,nt),X=await P(e,W),ce=R.decimals??0,pe=X.decimals??0,we=l.rewardRatePerSec/10**pe,it=1,tt=31536e3,rt=we*tt,Ke=rt/it*100;return console.log(" Theoretical APY (1 token staked):",{ratePerSecUI:we,theoreticalStaked:it,yearlyRewards:rt,apyPercent:`${Ke.toFixed(6)}%`,formula:`(${we} * ${tt} / ${it}) * 100 = ${Ke.toFixed(6)}%`}),{ratePerSecUI:we,totalStakedUI:it,yearlyRewards:rt,secondsPerYear:tt,apyPercent:Ke,decimals:{staking:ce,reward:pe},baseUnits:{ratePerSec:l.rewardRatePerSec,totalStaked:l.totalStaked},isTheoretical:!0}}const ye=new _e(l.stakingMint),xe=new _e(l.rewardMint),{getMint:Ce}=await Pn(async()=>{const{getMint:nt}=await import("./index-DHWTy87z.js");return{getMint:nt}},[]),Re=await Ce(e,ye),De=await Ce(e,xe),Me=Re.decimals??0,Te=De.decimals??0,Fe=l.rewardRatePerSec/10**Te,Se=l.totalStaked/10**Me;if(Se<=0)return null;const We=31536e3,vt=Fe*We,Ue=vt/Se*100,at={ratePerSecUI:Fe,totalStakedUI:Se,yearlyRewards:vt,secondsPerYear:We,apyPercent:Ue,decimals:{staking:Me,reward:Te},baseUnits:{ratePerSec:l.rewardRatePerSec,totalStaked:l.totalStaked}};return console.log(" APY Debugger:",at),console.log(" APY Calculation successful:",{ratePerSecUI:Fe,totalStakedUI:Se,apyPercent:`${Ue.toFixed(6)}%`,formula:`(${Fe} * ${We} / ${Se}) * 100 = ${Ue.toFixed(6)}%`}),at}catch(ye){return console.error("Failed to compute APY:",ye),null}},N=async()=>{if(!l){console.log("No pool data available");return}try{if(console.log(" Checking current pool state..."),console.log("Current pool data:",{poolAddress:l.poolAddress,rewardMint:l.rewardMint,ratePerSec:l.rewardRatePerSec,totalStaked:l.totalStaked,admin:l.admin}),l.rewardMint&&l.rewardMint!=="11111111111111111111111111111111"){console.log(" Reward configuration is already set!"),console.log("Reward Mint:",l.rewardMint),console.log("Rate Per Second:",l.rewardRatePerSec);const ye=await L();ye&&console.log("Current APY:",`${ye.apyPercent.toFixed(6)}%`),await U()}else console.log(" Reward configuration not set yet"),console.log("Reward Mint:",l.rewardMint),console.log("Rate Per Second:",l.rewardRatePerSec)}catch(ye){console.error("Failed to check pool state:",ye)}},b=async ye=>{if(!i||!t||!l)throw new Error("Only admin can add reward tokens");const xe=Date.now();if(xe-te<5e3)throw new Error("Please wait a few seconds before submitting another transaction");k(!0),v(null),se(xe);try{const Ce={publicKey:Ne(t),signTransaction:async He=>{if(window.solana?.isPhantom)return await window.solana.signTransaction(He);throw new Error("Wallet not connected")},signAllTransactions:async He=>{if(window.solana?.isPhantom)return await window.solana.signAllTransactions(He);throw new Error("Wallet not connected")}},Re=new Ln(e,Ce,{commitment:"confirmed"}),De=await er(Re),Me=Ne(l.poolAddress),Te=wd(De.programId,Me),Fe=Ne(l.rewardMint);if(!Fe)throw new Error("Reward mint not configured yet");const Se=await Ho(Fe,Te,!0),We=await Ho(Fe,Ne(t));try{const He=await e.getTokenAccountBalance(We);if(console.log("Admin balance before transfer:",He.value.uiAmount),He.value.uiAmount===null||He.value.uiAmount<ye)throw console.log(" Insufficient reward tokens in admin wallet!"),console.log(" Admin balance:",He.value.uiAmount),console.log(" Required amount:",ye),console.log(" Solution: You need to acquire some reward tokens first"),console.log(" Reward mint:",Fe.toBase58()),new Error(`Insufficient reward tokens. Admin has ${He.value.uiAmount||0} tokens, but needs ${ye} tokens. Please acquire some reward tokens first.`)}catch(He){if(He instanceof Error&&He.message?.includes("Insufficient reward tokens"))throw He;console.log("Admin ATA does not exist for reward mint, creating it...");const{createAssociatedTokenAccountInstruction:Rt}=await Pn(async()=>{const{createAssociatedTokenAccountInstruction:H}=await import("./index-DHWTy87z.js");return{createAssociatedTokenAccountInstruction:H}},[]),{Transaction:Ge}=await Pn(async()=>{const{Transaction:H}=await Promise.resolve().then(()=>hd);return{Transaction:H}},void 0),kt=new Ge;kt.add(Rt(Ne(t),We,Ne(t),Fe)),console.log("Creating admin ATA for reward mint...");const pt=await Re.sendAndConfirm(kt);throw console.log("Admin ATA created:",pt),console.log(" Admin ATA created but has 0 balance"),console.log(" You need to acquire some reward tokens first"),console.log(" Reward mint:",Fe.toBase58()),new Error("Admin ATA created but has 0 balance. Please acquire some reward tokens first.")}const vt=await e.getAccountInfo(Se),{createAssociatedTokenAccountInstruction:Qe,getMint:Ue,createTransferCheckedInstruction:at}=await Pn(async()=>{const{createAssociatedTokenAccountInstruction:He,getMint:Rt,createTransferCheckedInstruction:Ge}=await import("./index-DHWTy87z.js");return{createAssociatedTokenAccountInstruction:He,getMint:Rt,createTransferCheckedInstruction:Ge}},[]),{Transaction:nt}=await Pn(async()=>{const{Transaction:He}=await Promise.resolve().then(()=>hd);return{Transaction:He}},void 0),W=new nt,{blockhash:P,lastValidBlockHeight:R}=await e.getLatestBlockhash("confirmed");W.recentBlockhash=P,W.lastValidBlockHeight=R,W.feePayer=Ne(t),console.log(" Fresh blockhash:",P),console.log(" Last valid block height:",R);const X=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ce=ct.from(`reward-top-up-${X}`,"utf8"),pe={programId:rd,keys:[{pubkey:Ne(t),isSigner:!0,isWritable:!1}],data:ce};W.add(pe),vt||W.add(Qe(Ne(t),Se,Te,Fe));const it=(await Ue(e,Fe)).decimals??0,tt=BigInt(10)**BigInt(it),rt=BigInt(Math.trunc(ye))*tt;W.add(at(We,Fe,Se,Ne(t),rt,it)),console.log("Sending addRewardTokens tx",{pool:Me.toBase58(),signer:Te.toBase58(),rewardMint:Fe.toBase58(),rewardVault:Se.toBase58(),adminRewardAta:We.toBase58(),decimals:it,amountBaseUnits:rt.toString()});let _t,Ke=0;const It=3;for(;Ke<It;)try{console.log(` Attempting transaction (attempt ${Ke+1}/${It})...`),_t=await Re.sendAndConfirm(W,[],{commitment:"confirmed",skipPreflight:!1,preflightCommitment:"confirmed"}),console.log(" Transfer transaction successful:",_t);break}catch(He){if(Ke++,console.log(` Attempt ${Ke} failed:`,He.message),He.message.includes("already been processed")){console.log(" Transaction was already processed - checking if it succeeded...");try{const H=await e.getTokenAccountBalance(Se);if(H.value.uiAmount&&H.value.uiAmount>0){console.log(" Transaction actually succeeded despite error message");break}}catch(H){console.log("Could not check vault balance:",H)}}if(Ke>=It)throw He;await new Promise(H=>setTimeout(H,1e3*Ke));const{blockhash:Rt,lastValidBlockHeight:Ge}=await e.getLatestBlockhash("confirmed");W.recentBlockhash=Rt,W.lastValidBlockHeight=Ge;const kt=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pt=ct.from(`reward-top-up-${kt}`,"utf8");W.instructions[0]={programId:rd,keys:[{pubkey:Ne(t),isSigner:!0,isWritable:!1}],data:pt}}try{const He=await e.getTokenAccountBalance(We),Rt=await e.getTokenAccountBalance(Se);console.log("Balances after transfer:",{adminBalance:He.value.uiAmount,vaultBalance:Rt.value.uiAmount,vaultAddress:Se.toBase58()})}catch(He){console.log("Could not check balances after transfer:",He)}console.log(" Reward tokens transferred into vault");try{const He=await e.getTokenAccountBalance(We),Rt=await e.getTokenAccountBalance(Se);console.log(" Balances after transfer:",{adminBalance:He.value.uiAmount,vaultBalance:Rt.value.uiAmount,vaultAddress:Se.toBase58()}),Rt.value.uiAmount&&Rt.value.uiAmount>0?(console.log(" Reward vault now has tokens!"),console.log(" Vault balance:",Rt.value.uiAmount),console.log(" This should enable APY calculation once users stake")):console.log(" Vault balance is still 0 - check if transfer was successful")}catch(He){console.log("Could not check balances after transfer:",He)}await ne()}catch(Ce){throw console.error(" addRewardTokens failed",Ce),Ce?.message?.includes("already been processed")?(console.log(" Transaction already processed - this might be a duplicate submission"),console.log(" Try refreshing the page and attempting the token transfer again"),new Error("Transaction already processed. Please refresh and try again.")):Ce?.message?.includes("Blockhash not found")?(console.log(" Blockhash not found - this is a network timing issue"),console.log(" This usually resolves itself, please try again"),new Error("Network timing issue. Please try again in a moment.")):Ce?.message?.includes("simulation failed")?(console.log(" Transaction simulation failed - checking for specific issues"),console.log(" This might be due to insufficient token balance or account issues"),new Error("Transaction simulation failed. Please check your token balance and try again.")):Ce?.message?.includes("Insufficient reward tokens")?(console.log(" Insufficient reward tokens - admin needs more tokens"),new Error("Insufficient reward tokens. Please acquire more reward tokens first.")):(v(Ce?.message??"Failed to add reward tokens"),Ce)}finally{k(!1)}},w=ye=>{console.log(` Setting staking mint to: ${ye}`),T(ye)},h=async(ye,xe,Ce)=>{const Re=Ne(ye);try{const{getAccount:Te}=await Pn(async()=>{const{getAccount:We}=await import("./index-DHWTy87z.js");return{getAccount:We}},[]),Fe=await Te(e,Ne(xe)),Se=new _e(Fe.owner);return console.log("[Staking] Resolved pool signer from vault authority:",Se.toBase58()),Se}catch(Te){console.log("[Staking] Unable to read vault authority, falling back to PDA derivation",Te)}const De=[ct.from("pool-signer"),ct.from("pool_signer"),ct.from("signer")];for(const Te of De)try{const[Fe,Se]=_e.findProgramAddressSync([Te,Re.toBuffer()],tr);if(Ce===void 0||Se===Ce)return console.log("[Staking] Using derived signer PDA",Fe.toBase58(),"seed",Te.toString()),Fe}catch(Fe){console.log("[Staking] Failed to derive signer with seed",Te.toString(),Fe)}const Me=wd(tr,Re);return console.log("[Staking] Using fallback signer helper",Me.toBase58()),Me},Pt={connection:e,walletAddress:t,isAdmin:i,poolData:l,userData:d,isLoading:m,error:_,stakingMint:I,stakingDecimals:z,rewardDecimals:F,initializePool:Z,fetchPoolByMint:Q,setStakingMint:w,diagnoseAccount:async ye=>{try{const xe=await e.getAccountInfo(new _e(ye));if(!xe){console.log(" Account does not exist");return}return console.log(" Account Diagnosis:"),console.log("- Address:",ye),console.log("- Owner:",xe.owner.toBase58()),console.log("- Executable:",xe.executable),console.log("- Lamports:",xe.lamports),console.log("- Data Length:",xe.data?.length),console.log("- Is Program Account:",xe.owner.equals(tr)),xe.data&&xe.data.length>0&&(console.log("- First 32 bytes:",Array.from(xe.data.slice(0,32))),console.log("- Last 32 bytes:",Array.from(xe.data.slice(-32)))),xe}catch(xe){console.error(" Failed to diagnose account:",xe)}},fetchOnChainIdl:async()=>{try{const ye={publicKey:Ne(t),signTransaction:async Re=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signTransaction(Re);throw new Error("Wallet not connected")},signAllTransactions:async Re=>{if(typeof window<"u"&&window.solana?.isPhantom)return await window.solana.signAllTransactions(Re);throw new Error("Wallet not connected")}},xe=new Ln(e,ye,{commitment:"confirmed"}),Ce=await Ij(xe);return Ce?(console.log(" On-chain IDL fetched successfully"),Ce):(console.log(" Failed to fetch on-chain IDL"),null)}catch(ye){return console.error(" Failed to fetch on-chain IDL:",ye),null}},verifyPdaSeeds:ye=>{console.log(" Verifying PDA seeds match program expectations...");const xe=new _e(ye),Ce=tr,[Re,De]=_e.findProgramAddressSync([ct.from("pool"),xe.toBuffer()],Ce);console.log("PDA Derivation:",{programId:Ce.toBase58(),stakingMint:xe.toBase58(),seeds:["pool",xe.toBase58()],derivedPDA:Re.toBase58(),bump:De});const Me=[ct.from("pool"),xe.toBuffer()],[Te,Fe]=_e.findProgramAddressSync(Me,Ce);if(!Re.equals(Te))throw new Error("PDA derivation mismatch - seeds do not match program expectations");return console.log(" PDA seeds match program expectations"),{poolPDA:Re,bump:De}},setRewardConfig:D,setRewardRate:ee,setPaused:V,addRewardTokens:b,checkRewardVaultBalance:U,checkCurrentPoolState:N,computeApy:L,stake:f,unstake:y,emergencyUnstake:async ye=>{if(!t||!l)throw new Error("Wallet not connected or pool not initialized");k(!0),v(null);try{console.log("Emergency unstaking tokens:",{amount:ye,walletAddress:t,poolAddress:l.poolAddress});const xe={publicKey:Ne(t),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce),De=Ne(l.poolAddress),Me=Ne(l.stakingMint),Te=await h(l.poolAddress,l.stakingVault,l.signerBump),Fe=await Re.methods.emergencyUnstake(new sr(ye)).accounts({owner:Ne(t),pool:De,poolSigner:Te,userStakingAta:await Ho(Me,Ne(t)),stakingVault:Ne(l.stakingVault),user:hs(Re.programId,De,Ne(t)),systemProgram:Qt.programId,tokenProgram:jn,associatedTokenProgram:Fr}).rpc();console.log(" Emergency unstake successful:",Fe),await ne()}catch(xe){throw console.error(" Emergency unstake failed:",xe),v(xe?.message??"Failed to emergency unstake"),xe}finally{k(!1)}},claim:E,withdrawRewards:async ye=>{if(!i||!t||!l)throw new Error("Admin access required");k(!0),v(null);try{console.log("Withdrawing rewards:",{amount:ye,poolAddress:l.poolAddress});const xe={publicKey:Ne(t),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce),De=Ne(l.poolAddress),Me=Ne(l.rewardMint),Te=await h(l.poolAddress,l.stakingVault,l.signerBump),Fe=await Re.methods.withdrawRewards(new sr(ye)).accounts({pool:De,admin:Ne(t),poolSigner:Te,rewardVault:Ne(l.rewardVault),adminRewardAta:await Ho(Me,Ne(t)),tokenProgram:jn,associatedTokenProgram:Fr}).rpc();console.log(" Rewards withdrawn successfully:",Fe),await ne()}catch(xe){throw console.error(" Withdraw rewards failed:",xe),v(xe?.message??"Failed to withdraw rewards"),xe}finally{k(!1)}},setAdmin:async ye=>{if(!i||!t||!l)throw new Error("Admin access required");k(!0),v(null);try{console.log("Setting new admin:",{newAdmin:ye,poolAddress:l.poolAddress});const xe={publicKey:Ne(t),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},Ce=new Ln(e,xe,{commitment:"confirmed"}),Re=await er(Ce),De=Ne(l.poolAddress),Me=await Re.methods.setAdmin(Ne(ye)).accounts({pool:De,admin:Ne(t)}).rpc();console.log(" Admin updated successfully:",Me),await ne()}catch(xe){throw console.error(" Set admin failed:",xe),v(xe?.message??"Failed to set admin"),xe}finally{k(!1)}},ensureVaults:async()=>{if(!i||!t||!l)throw new Error("Admin access required");k(!0),v(null);try{console.log("Ensuring vaults exist:",{poolAddress:l.poolAddress});const ye={publicKey:Ne(t),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},xe=new Ln(e,ye,{commitment:"confirmed"}),Ce=await er(xe),Re=Ne(l.poolAddress),De=Ne(l.stakingMint),Me=l.rewardConfigured?Ne(l.rewardMint):void 0,Te=await h(l.poolAddress,l.stakingVault,l.signerBump),Fe={pool:Re,admin:Ne(t),poolSigner:Te,stakingMint:De,stakingVault:Ne(l.stakingVault),associatedTokenProgram:Fr,tokenProgram:jn,systemProgram:Qt.programId};Me&&(Fe.rewardMint=Me,Fe.rewardVault=Ne(l.rewardVault));const Se=await Ce.methods.ensureVaults().accounts(Fe).rpc();console.log(" Vaults ensured successfully:",Se),await ne()}catch(ye){throw console.error(" Ensure vaults failed:",ye),v(ye?.message??"Failed to ensure vaults"),ye}finally{k(!1)}},closeUser:async()=>{if(!t||!l)throw new Error("Wallet not connected or pool not initialized");k(!0),v(null);try{console.log("Closing user account:",{walletAddress:t,poolAddress:l.poolAddress});const ye={publicKey:Ne(t),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},xe=new Ln(e,ye,{commitment:"confirmed"}),Ce=await er(xe),Re=Ne(l.poolAddress),De=await Ce.methods.closeUser().accounts({owner:Ne(t),pool:Re,user:hs(Ce.programId,Re,Ne(t))}).rpc();console.log(" User account closed successfully:",De),await ne()}catch(ye){throw console.error(" Close user failed:",ye),v(ye?.message??"Failed to close user account"),ye}finally{k(!1)}},closePool:async()=>{if(!i||!t||!l)throw new Error("Admin access required");k(!0),v(null);try{console.log("Closing pool:",{poolAddress:l.poolAddress});const ye={publicKey:Ne(t),signTransaction:window.solana?.signTransaction,signAllTransactions:window.solana?.signAllTransactions},xe=new Ln(e,ye,{commitment:"confirmed"}),Ce=await er(xe),Re=Ne(l.poolAddress),De=await h(l.poolAddress,l.stakingVault,l.signerBump),Me={pool:Re,admin:Ne(t),poolSigner:De,stakingVault:Ne(l.stakingVault),tokenProgram:jn};l.rewardConfigured&&(Me.rewardVault=Ne(l.rewardVault));const Te=await Ce.methods.closePool().accounts(Me).rpc();console.log(" Pool closed successfully:",Te),await ne()}catch(ye){throw console.error(" Close pool failed:",ye),v(ye?.message??"Failed to close pool"),ye}finally{k(!1)}},refreshData:ne,connectWallet:async()=>{if(typeof window>"u"||!window.solana?.isPhantom)throw new Error("Phantom wallet not detected. Please install Phantom wallet.");try{const ye=await window.solana.connect();r(ye?.publicKey?.toString()??null),console.log(" Wallet connected:",ye?.publicKey?.toString())}catch(ye){throw console.error(" Failed to connect wallet:",ye),new Error("Failed to connect wallet. Please try again.")}},disconnectWallet:()=>{r(null),console.log(" Wallet disconnected")}};return S.jsx(yA.Provider,{value:Pt,children:n})}function Ic(){const n=$.useContext(yA);if(!n)throw new Error("useStaking must be used within a StakingProvider");return n}const wA=$.createContext(void 0);function Cj({children:n}){const[e,t]=$.useState([]),r=p=>{const m=Math.random().toString(36).substr(2,9),k={...p,id:m};t(_=>[..._,k])},i=p=>{t(m=>m.filter(k=>k.id!==p))},s=(p,m,k=5e3)=>{r({type:"success",title:p,message:m,duration:k})},l=(p,m,k=7e3)=>{r({type:"error",title:p,message:m,duration:k})},c=(p,m,k=6e3)=>{r({type:"warning",title:p,message:m,duration:k})},d=(p,m,k=5e3)=>{r({type:"info",title:p,message:m,duration:k})};return S.jsx(wA.Provider,{value:{showSuccess:s,showError:l,showWarning:c,showInfo:d,notifications:e,removeNotification:i},children:n})}function vA(){const n=$.useContext(wA);if(n===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return n}const qx=BigInt("1000000000000"),Nj=31536e3;function xA(n,e,t=Math.floor(Date.now()/1e3)){return $.useMemo(()=>{if(!n||!e||e.staked===0)return null;const r=BigInt(Math.max(0,t-n.lastUpdateTs)),i=BigInt(n.accScaled)+r*BigInt(n.rewardRatePerSec)*qx/BigInt(n.totalStaked),s=BigInt(e.staked)*i/qx-BigInt(e.debt)+BigInt(e.unpaidRewards),l=n.rewardDecimals??6,c=Number(s)/10**l,d=Number(BigInt(n.rewardRatePerSec)*BigInt(Nj))/10**l,p=n.totalStaked>0?d/(n.totalStaked/10**(n.stakeDecimals??6))*100:0;return{pendingUI:c,apy:p}},[n,e,t])}const lg=(n,e,t=0,r=8)=>{const s=(typeof n=="number"?n:Number(n))/Math.pow(10,e);return s===0?"0.000000":s<1e-6?s.toExponential(6):s.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:r})};function Bj(){return Lk(),$.useEffect(()=>{const n=window.location.hash;if(n){const e=document.getElementById(n.substring(1));e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},100)}},[]),S.jsxs("div",{id:"home",className:"relative",children:[S.jsx(Mj,{}),S.jsx(Oj,{}),S.jsx(jj,{}),S.jsx(Fj,{}),S.jsx(Uj,{}),S.jsx($j,{})]})}function b0(){const n=$.useRef(null),e=$.useRef(null),t=$.useRef(0);return $.useEffect(()=>{const r=()=>{const i=window.scrollY||window.pageYOffset;if(t.current=i,!n.current)return;const s=n.current.getBoundingClientRect(),l=Math.min(Math.max((window.innerHeight-s.top)/(window.innerHeight+s.height),-1),2);Array.from(n.current.querySelectorAll("[data-orb]")).forEach((d,p)=>{const m=(p+1)*.06,k=Math.sin((i+p*100)/200)*(10+p*6),_=-l*(40+p*20)*m;d.style.transform=`translate3d(${k}px, ${_}px, 0) scale(${1+p*.01})`}),e.current=requestAnimationFrame(r)};return e.current=requestAnimationFrame(r),window.addEventListener("resize",r),window.addEventListener("scroll",r,{passive:!0}),()=>{e.current&&cancelAnimationFrame(e.current),window.removeEventListener("resize",r),window.removeEventListener("scroll",r)}},[]),S.jsxs("div",{ref:n,"aria-hidden":!0,className:"pointer-events-none absolute inset-0 overflow-hidden",children:[S.jsx("div",{"data-orb":!0,className:"absolute -top-24 -left-24 h-72 w-72 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-mint)/0.6), transparent 60%)"}}),S.jsx("div",{"data-orb":!0,className:"absolute -top-16 right-0 h-96 w-96 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-purple)/0.55), transparent 60%)"}}),S.jsx("div",{"data-orb":!0,className:"absolute bottom-0 left-1/3 h-80 w-80 rounded-full blur-3xl opacity-40",style:{background:"radial-gradient(circle, hsl(var(--solana-pink)/0.5), transparent 60%)"}})]})}function Mj(){return S.jsx("div",{className:"hero-wrapper",children:S.jsxs("section",{className:"hero-content",children:[S.jsx(b0,{}),S.jsxs("div",{className:"container flex flex-col items-center text-center gap-6",children:[S.jsx("div",{className:"relative",children:S.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-[11px] uppercase tracking-wider text-foreground/80 reveal","data-reveal":!0,children:[S.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gradient-to-r from-solana-mint via-solana-purple to-solana-pink"}),"Built for Solana | Pump.fun origins"]})}),S.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold leading-[1.05] reveal","data-reveal":!0,children:["Stake"," ",S.jsx("span",{className:"text-gradient",children:S.jsx(Yv,{words:["NPC","N.P.C"]})}),".",S.jsx("br",{}),"Make your bags"," ",S.jsx("span",{className:"text-gradient",children:S.jsx(Yv,{words:["work","earn","grow"]})}),"."]}),S.jsx("p",{className:"max-w-2xl text-foreground/80 text-balance reveal","data-reveal":!0,children:"A magical, interactive staking experience for the NPC token on Solana. Lock in your tokens, earn dynamic rewards, and enjoy the show."}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 reveal","data-reveal":!0,children:[S.jsx(Xt,{asChild:!0,size:"lg",className:"btn-gradient shadow-lg shadow-fuchsia-500/20 w-full sm:w-auto",children:S.jsxs("a",{href:"#stake",className:"inline-flex items-center justify-center",children:["Start staking ",S.jsx(yP,{className:"ml-2"})]})}),S.jsx(Xt,{asChild:!0,variant:"outline",size:"lg",className:"backdrop-blur glass w-full sm:w-auto",children:S.jsxs("a",{href:"#how",className:"inline-flex items-center justify-center",children:[S.jsx(Hd,{className:"mr-2"}),"See how it works"]})})]}),S.jsx("div",{className:"relative mt-8 w-full reveal","data-reveal":!0,children:S.jsx("div",{className:"glass gradient-border mx-auto max-w-4xl p-4 md:p-6",children:S.jsx(Lj,{})})})]})]})})}function Lj(){return S.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[S.jsx("div",{className:"absolute inset-0 opacity-40 mix-blend-screen",style:{backgroundImage:"radial-gradient(circle at 20% 20%, hsl(var(--solana-mint)/0.2), transparent 40%), radial-gradient(circle at 80% 20%, hsl(var(--solana-purple)/0.2), transparent 40%), radial-gradient(circle at 50% 80%, hsl(var(--solana-pink)/0.2), transparent 40%)"}}),S.jsx("div",{className:"relative grid grid-cols-2 md:grid-cols-4 gap-3",children:["Instant Unstake","Auto-Compound","No Lock Penalty","Boosted Epochs"].map((n,e)=>{const r={"Instant Unstake":kP,"Auto-Compound":_P,"No Lock Penalty":xP,"Boosted Epochs":NP}[n]??Hd;return S.jsx(ir,{className:"group glass gradient-border reveal","data-reveal":!0,children:S.jsx(_r,{className:"p-4 md:p-5",children:S.jsxs("div",{className:"flex flex-col items-center gap-3",children:[S.jsx("div",{className:"h-12 w-12 rounded-lg bg-transparent grid place-items-center",children:S.jsx(r,{className:"h-8 w-8 text-gradient",style:{color:"hsl(var(--solana-mint))"}})}),S.jsx("div",{className:"font-semibold text-lg",children:n})]})})},n)})}),S.jsx("div",{className:"absolute -inset-x-10 -bottom-10 h-24 bg-gradient-to-t from-primary/20 to-transparent"})]})}function Oj(){return S.jsxs("section",{className:"relative mt-20 reveal","data-reveal":!0,children:[S.jsx(b0,{}),S.jsx("div",{className:"container",children:S.jsxs("div",{className:"grid gap-8 md:grid-cols-2 items-center",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/5 px-3 py-1 text-xs border border-white/10 mb-4 reveal","data-reveal":!0,children:[S.jsx(Tb,{className:"h-3.5 w-3.5"})," Built for Solana | Pump.fun origins"]}),S.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold leading-tight reveal","data-reveal":!0,children:"Stake NPC tokens and unlock exclusive games"}),S.jsx("p",{className:"mt-4 text-foreground/80 reveal","data-reveal":!0,children:"The more you stake, the more games you unlock. Start with Cyber Defense and Pop Pop, then unlock higher-tier games as your staking amount grows."}),S.jsx("ul",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[{icon:S.jsx(Pb,{className:"h-4 w-4"}),text:"Secure Solana staking"},{icon:S.jsx(Ib,{className:"h-4 w-4"}),text:"Dynamic rewards & APR"},{icon:S.jsx(TP,{className:"h-4 w-4"}),text:"Auto-compound rewards"},{icon:S.jsx(Hd,{className:"h-4 w-4"}),text:"Unlock exclusive games"}].map(n=>S.jsxs("li",{className:"glass gradient-border flex items-center gap-2 px-3 py-2 reveal","data-reveal":!0,children:[S.jsx("span",{className:"text-gradient",children:n.icon}),S.jsx("span",{children:n.text})]},n.text))})]}),S.jsx("div",{className:"relative reveal","data-reveal":!0,children:S.jsx(ir,{className:"glass gradient-border",children:S.jsx(_r,{className:"p-0",children:S.jsx(Dj,{})})})})]})})]})}function Dj(){return S.jsxs("div",{className:"relative w-full h-full aspect-[4/3] overflow-hidden rounded-xl bg-black",children:[S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(255,255,255,.02),transparent_60%)]"}),S.jsx("div",{className:"absolute inset-0 grid place-items-center",children:S.jsx("video",{src:"https://cdn.builder.io/o/assets%2Fc36ad3bb9b384c0aadf72235a9675e8a%2F9d6cad34db9b4e0d8ecb6a1123f4015d?alt=media&token=a7353fb4-daeb-47b8-a4bb-8e6e5e143291&apiKey=c36ad3bb9b384c0aadf72235a9675e8a",poster:"https://cdn.builder.io/api/v1/image/assets%2Fc36ad3bb9b384c0aadf72235a9675e8a%2F714dc485ed014bea94b2b8a48ff73b33?format=webp&width=800",className:"min-w-full min-h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,"aria-hidden":!0})}),S.jsx("div",{className:"absolute inset-x-0 bottom-0 h-28 bg-gradient-to-t from-background to-transparent"})]})}function jj(){return S.jsx("section",{id:"how",className:"relative mt-24 reveal","data-reveal":!0,children:S.jsxs("div",{className:"container",children:[S.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold text-center reveal","data-reveal":!0,children:"How it works"}),S.jsx("p",{className:"text-center text-foreground/80 mt-3 max-w-2xl mx-auto reveal","data-reveal":!0,children:"Stake NPC on Solana and earn rewards auto-compounded each epoch. Unstake anytime. Boost your yield with time-weighted multipliers."}),S.jsx("div",{className:"mt-10 grid gap-6 md:grid-cols-3",children:[{title:"Connect wallet",desc:"Works with popular Solana wallets.",icon:S.jsx(Pb,{})},{title:"Stake NPC",desc:"Choose amount and duration.",icon:S.jsx(Tb,{})},{title:"Earn rewards",desc:"Watch your NPC grow with every epoch.",icon:S.jsx(Ib,{})}].map(n=>S.jsx(ir,{className:"group glass gradient-border hover:translate-y-[-2px] transition-transform reveal","data-reveal":!0,children:S.jsxs(_r,{className:"p-6",children:[S.jsx("div",{className:"h-12 w-12 rounded-lg bg-transparent grid place-items-center",children:S.jsx("div",{className:"text-2xl font-bold text-gradient",children:n.title==="Connect wallet"?"":n.title==="Earn rewards"?"":""})}),S.jsx("div",{className:"mt-4 font-semibold text-lg",children:n.title}),S.jsx("p",{className:"text-sm text-foreground/80",children:n.desc})]})},n.title))})]})})}function Fj(){const{poolData:n,userData:e,stakingDecimals:t,rewardDecimals:r}=Ic(),i=xA(n,e),s=i?.apy??0,l=n?`${lg(n.totalStaked??0,t,0,2)} NPC`:"0 NPC";i?.pendingUI;const c=n?n.rewardRatePerSec/Math.pow(10,r):0,d=c>=1?`${c.toFixed(2)} NPC/sec`:`${c.toFixed(6)} NPC/sec`;return S.jsxs("section",{id:"rewards",className:"relative mt-24 reveal","data-reveal":!0,children:[S.jsx(b0,{}),S.jsx("div",{className:"container",children:S.jsx("div",{className:"glass gradient-border p-6 md:p-8 reveal","data-reveal":!0,children:S.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 items-center",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-2xl font-extrabold",children:"Dynamic Rewards"}),S.jsx("p",{className:"text-foreground/80 mt-2",children:"APR adapts with epochs and community staking. The visuals reflect live motion."})]}),S.jsx(ym,{label:"Current APY",value:`${s.toFixed(2)}%`,trend:s>=0?"up":"down"}),S.jsx(ym,{label:"Total Staked",value:l,trend:n&&n.totalStaked>0?"up":"down"}),S.jsx(ym,{label:"Rewards / sec",value:d,trend:c>0?"up":"down"})]})})})]})}function ym({label:n,value:e,trend:t}){return S.jsxs("div",{className:"glass gradient-border p-4 reveal","data-reveal":!0,children:[S.jsx("div",{className:"text-sm text-foreground/80",children:n}),S.jsx("div",{className:"text-3xl font-extrabold mt-1",children:S.jsx("span",{className:"bg-[linear-gradient(90deg,hsl(var(--solana-mint)),hsl(var(--solana-purple)),hsl(var(--solana-pink)))] bg-clip-text text-transparent animate-shine bg-[length:200%_100%]",children:e})}),S.jsxs("div",{className:"text-xs mt-1 opacity-80",children:["Trend: ",t==="up"?"rising":"steady"]})]})}function Uj(){const{walletAddress:n,connectWallet:e,poolData:t,userData:r,isLoading:i,error:s,stake:l,unstake:c,claim:d,stakingDecimals:p}=Ic(),{showSuccess:m,showError:k,showWarning:_}=vA(),v=xA(t,r),[C,I]=$.useState(0),[T,z]=$.useState(!1),K=r&&p>=0?r.staked/Math.pow(10,p):0,F=Math.max(1e4,Math.min(1e6,K>0?Math.ceil(K*2):0));$.useEffect(()=>{C>F&&I(F)},[C,F]);const Y=v?.pendingUI??0,te=`${(v?.apy??0).toFixed(2)}%`,se=r?`${lg(r.staked??0,p,0,2)} NPC`:"0 NPC",ne=`${Y.toFixed(6)} NPC`,ae=Number.isFinite(C)&&C>0,Q=async()=>{if(console.log(" HANDLE STAKE CLICKED!",{walletAddress:n,amount:C,poolData:t}),!n){_("Wallet Required","Please connect your wallet first");return}if(!t){_("Pool Not Ready","Pool is not initialized yet.");return}if(t.paused){_("Pool Paused","Pool is paused - staking is temporarily disabled");return}if(i){console.log("Transaction already in progress, ignoring click");return}if(!ae){_("Invalid Amount","Enter an amount greater than zero");return}try{console.log(" CALLING STAKE FUNCTION WITH AMOUNT:",C),await l(C),console.log(" STAKE FUNCTION COMPLETED SUCCESSFULLY"),m("Staking Successful",`Your ${C.toLocaleString()} NPC stake request was submitted.`),I(0)}catch(f){k("Staking Failed",f instanceof Error?f.message:"Unknown error occurred")}},Z=async()=>{if(!n){_("Wallet Required","Please connect your wallet first");return}if(i){console.log("Transaction already in progress, ignoring click");return}if(!ae){_("Invalid Amount","Enter an amount greater than zero");return}if(Y>0){z(!0);return}if(K>0&&C>K){const f=lg(r?.staked??0,p,0,2);_("Insufficient Staked Balance",`You only have ${f} NPC available to unstake.`);return}try{await c(C),m("Unstaking Successful","Your tokens have been unstaked and rewards claimed!"),I(0)}catch(f){k("Operation Failed",f instanceof Error?f.message:"Unknown error occurred")}},ee=async()=>{z(!1);try{await c(C),m("Unstaking Successful","Your tokens have been unstaked and rewards claimed!"),I(0)}catch(f){k("Operation Failed",f instanceof Error?f.message:"Unknown error occurred")}},V=async()=>{if(!n){_("Wallet Required","Please connect your wallet first");return}if(i){console.log("Transaction already in progress, ignoring click");return}try{await d(),m("Rewards Claimed","Your rewards have been claimed successfully!")}catch(f){k("Operation Failed",f instanceof Error?f.message:"Unknown error occurred")}},D=async()=>{try{await e(),m("Wallet Connected","Your wallet has been connected successfully!")}catch(f){k("Connection Failed",f instanceof Error?f.message:"Failed to connect wallet")}};return S.jsxs("section",{id:"stake",className:"relative mt-24 reveal","data-reveal":!0,children:[S.jsx("div",{className:"container max-w-5xl",children:S.jsxs("div",{className:"glass gradient-border p-6 md:p-8",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-2xl font-extrabold",children:"Stake"}),S.jsx("p",{className:"text-foreground/80",children:"Stake your NPC tokens instantly. No duration lock  unstake anytime."})]}),n?S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-xs text-foreground/70",children:"Wallet Connected"}),S.jsxs("div",{className:"font-mono font-semibold text-green-400",children:[n.slice(0,4),"...",n.slice(-4)]})]}):S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-xs text-foreground/70",children:"Connect wallet to start"}),S.jsx("div",{className:"font-mono font-semibold text-foreground/60",children:"Staking"})]})]}),n?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6 items-center",children:[S.jsxs("div",{children:[S.jsx(zj,{children:"Amount (NPC)"}),S.jsx("div",{className:"mt-2",children:S.jsx(Qk,{value:[C],min:0,max:F,step:1,onValueChange:f=>I(Math.max(0,f[0]??0))})}),S.jsxs("div",{className:"mt-1 text-sm opacity-80",children:[C.toLocaleString()," NPC"]})]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 justify-end",children:[S.jsx(Xt,{className:"btn-gradient w-full sm:w-auto",onClick:()=>{console.log(" STAKE BUTTON CLICKED!",{isLoading:i,poolPaused:t?.paused,hasValidAmount:ae,amount:C,disabled:i||t?.paused||!ae}),Q()},disabled:i||t?.paused||!ae,children:i?"Processing...":t?.paused?"Pool Paused":"Stake"}),S.jsx(Xt,{variant:"outline",className:"glass w-full sm:w-auto",onClick:Z,disabled:i||!r||r.staked===0||!ae,children:"Unstake"}),S.jsx(Xt,{variant:"secondary",className:"w-full sm:w-auto",onClick:V,disabled:i||!v||v.pendingUI===0,children:"Claim Rewards"})]})]}),S.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-4",children:[S.jsx(wm,{k:"APR",v:te}),S.jsx(wm,{k:"Staked",v:se}),S.jsx(wm,{k:"Rewards",v:ne})]}),t?.paused&&S.jsx("div",{className:"mt-4 text-sm text-yellow-400 text-center",children:"Pool is paused - staking is temporarily disabled"}),s&&S.jsx("div",{className:"mt-6 rounded-md border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:s})]}):S.jsxs("div",{className:"mt-8 text-center py-8",children:[S.jsx("div",{className:"text-foreground/60 mb-4",children:"Connect your wallet to start staking"}),S.jsxs(Xt,{className:"btn-gradient",onClick:D,children:[S.jsx(n3,{className:"mr-2"}),"Connect Wallet"]})]})]})}),S.jsx(e3,{open:T,onOpenChange:z,children:S.jsxs(HS,{className:"glass gradient-border",children:[S.jsxs(GS,{children:[S.jsx(ZS,{className:"text-gradient",children:"Confirm Unstaking"}),S.jsxs(XS,{className:"text-foreground/80",children:["You have ",Y.toFixed(6)," pending rewards.",S.jsx("br",{}),S.jsx("br",{}),"Unstaking will automatically claim these rewards first so you keep them.",S.jsx("br",{}),S.jsx("br",{}),"Do you want to continue?"]})]}),S.jsxs(YS,{children:[S.jsx(JS,{className:"glass",onClick:()=>z(!1),children:"Cancel"}),S.jsx(QS,{className:"btn-gradient",onClick:ee,children:"Continue Unstaking"})]})]})})]})}function zj({children:n}){return S.jsx("div",{className:"text-xs uppercase tracking-wider opacity-80",children:n})}function wm({k:n,v:e}){return S.jsxs("div",{className:"glass gradient-border p-4 text-center reveal","data-reveal":!0,children:[S.jsx("div",{className:"text-xs opacity-80",children:n}),S.jsx("div",{className:"text-xl font-semibold text-gradient",children:e})]})}function $j(){return S.jsx("section",{id:"faq",className:"relative mt-24 mb-20 reveal","data-reveal":!0,children:S.jsxs("div",{className:"container max-w-4xl",children:[S.jsx("h3",{className:"text-2xl font-extrabold text-center reveal","data-reveal":!0,children:"FAQ"}),S.jsxs("div",{className:"mt-6 grid gap-4",children:[S.jsx(ps,{q:"Is this the official NPC staking?",a:"This is a next-generation landing and simulation experience for the NPC token on Solana."}),S.jsx(ps,{q:"Can I unstake anytime?",a:"Yes. There's no penalty. Longer durations may unlock boost multipliers."}),S.jsx(ps,{q:"Where did NPC launch?",a:"NPC was deployed on pump.fun and lives on the Solana blockchain."}),S.jsx(ps,{q:"What is the NPC token?",a:"NPC is a Solana-based token that originated on pump.fun. You can view its current price and trading data on DexScreener."}),S.jsx(ps,{q:"How do I get NPC tokens?",a:"You can purchase NPC tokens on Solana DEXs like Raydium, Jupiter, or directly on pump.fun. Always DYOR before investing."}),S.jsx(ps,{q:"Is staking safe?",a:"This is a simulation platform for educational purposes. Always research any staking protocol thoroughly and never invest more than you can afford to lose."}),S.jsx(ps,{q:"What games can I play?",a:"Games are unlocked based on your staking tier. Start with Cyber Defense and Pop Pop games. More games unlock with higher staking amounts."})]})]})})}function ps({q:n,a:e}){return S.jsx(ir,{className:"glass gradient-border reveal","data-reveal":!0,children:S.jsxs(_r,{className:"p-6",children:[S.jsx("div",{className:"font-semibold",children:n}),S.jsx("p",{className:"text-sm text-foreground/80",children:e})]})})}const Fi=$.forwardRef(({className:n,type:e,...t},r)=>S.jsx("input",{type:e,className:en("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));Fi.displayName="Input";var Vj="Separator",Hx="horizontal",Wj=["horizontal","vertical"],bA=$.forwardRef((n,e)=>{const{decorative:t,orientation:r=Hx,...i}=n,s=Kj(r)?r:Hx,c=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return S.jsx(Jt.div,{"data-orientation":s,...c,...i,ref:e})});bA.displayName=Vj;function Kj(n){return Wj.includes(n)}var kA=bA;const SA=$.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>S.jsx(kA,{ref:i,decorative:t,orientation:e,className:en("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));SA.displayName=kA.displayName;const Oi=new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}),qj=n=>{if(!n)return"";try{return new Date(n*1e3).toLocaleString()}catch{return String(n)}};function Hj(){const{isAdmin:n,isLoading:e,error:t,poolData:r,stakingMint:i,stakingDecimals:s,rewardDecimals:l,initializePool:c,fetchPoolByMint:d,setStakingMint:p,setRewardConfig:m,addRewardTokens:k,setRewardRate:_,setPaused:v,withdrawRewards:C,setAdmin:I,ensureVaults:T,closePool:z,refreshData:K,checkRewardVaultBalance:F}=Ic(),{showSuccess:Y,showError:te,showWarning:se,showInfo:ne}=vA(),[ae,Q]=$.useState(i??""),[Z,ee]=$.useState(""),[V,D]=$.useState(""),[f,y]=$.useState(""),[E,U]=$.useState(""),[L,N]=$.useState(""),[b,w]=$.useState(""),[h,x]=$.useState(null),[j,q]=$.useState(!1);$.useEffect(()=>{Q(i??"")},[i]),$.useEffect(()=>{let Se=!1;return(async()=>{if(!r){x(null);return}q(!0);try{const vt=await F();Se||x(vt)}catch(vt){console.error("Failed to fetch reward vault balance:",vt)}finally{Se||q(!1)}})(),()=>{Se=!0}},[r]);const re=$.useMemo(()=>r?r.paused?{label:"Paused",tone:"secondary"}:{label:"Active",tone:"default"}:{label:"Not initialised",tone:"outline"},[r]),le=$.useMemo(()=>r?Oi.format(r.totalStaked/Math.pow(10,s||0)):"",[r,s]),fe=$.useMemo(()=>{if(!r)return 0;const Se=l??0;return r.rewardRatePerSec/Math.pow(10,Se)},[r,l]),Ie=$.useMemo(()=>!r||r.totalStaked<=0?0:r.rewardRatePerSec*31536e3/r.totalStaked*100,[r]),Ze=fe*86400,Pe=Ie>0?`${Oi.format(Ie)}%`:"",ht=[{label:"0.5 tokens/sec (testing)",value:.5},{label:"0.01 tokens/sec (moderate)",value:.01},{label:"0.001 tokens/sec (low)",value:.001}];if(!n)return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-6",children:S.jsx(ir,{className:"max-w-md bg-black/40 border-white/10 text-center",children:S.jsxs(Zr,{children:[S.jsx(Xr,{className:"text-2xl text-white",children:"Access restricted"}),S.jsx(Qr,{className:"text-gray-300",children:"Connect with the configured admin wallet to manage the pool."})]})})});const Ot=async()=>{if(!ae.trim()){se("Missing mint","Enter a staking mint address to fetch.");return}try{p(ae.trim()),await d(ae.trim()),Y("Pool loaded","Fetched on-chain pool information.")}catch(Se){te("Fetch failed",Se instanceof Error?Se.message:"Unable to fetch pool data.")}},Pt=()=>{if(!ae.trim()){se("Missing mint","Enter a staking mint address to set.");return}const Se=ae.trim();p(Se),ne("Staking mint updated","Context updated. Fetch the pool to load on-chain data.")},ye=async()=>{if(!ae.trim()){se("Missing staking mint","Provide the staking mint address before initialising.");return}try{await c(ae.trim()),Y("Pool initialised","Pool PDA and vault were created."),await K()}catch(Se){te("Initialisation failed",Se instanceof Error?Se.message:"Unable to initialise pool.")}},xe=async()=>{if(!r){se("Pool required","Initialise or fetch a pool first.");return}if(!Z.trim()||!V.trim()){se("Missing data","Provide both reward mint and reward rate to configure rewards.");return}const Se=Number(V);if(!Number.isFinite(Se)||Se<=0){se("Invalid reward rate","Reward rate must be a positive number.");return}try{await m(Z.trim(),Se),Y("Rewards configured","Reward mint and base rate saved on-chain."),ee(""),D(""),await K()}catch(We){te("Configuration failed",We instanceof Error?We.message:"Unable to configure rewards.")}},Ce=async()=>{if(!r){se("Pool required","Initialise or fetch a pool first.");return}const Se=Number(f);if(!Number.isFinite(Se)||Se<=0){se("Invalid amount","Enter a positive amount to deposit.");return}try{await k(Se),Y("Vault funded","Tokens transferred into the reward vault successfully."),y(""),await K()}catch(We){te("Funding failed",We instanceof Error?We.message:"Unable to add reward tokens.")}},Re=async()=>{if(!r){se("Pool required","Initialise or fetch a pool first.");return}const Se=Number(E);if(!Number.isFinite(Se)||Se<=0){se("Invalid rate","Enter a positive reward rate.");return}try{await _(Se),Y("Reward rate updated","New reward emission rate is live."),U(""),await K()}catch(We){te("Update failed",We instanceof Error?We.message:"Unable to update reward rate.")}},De=async()=>{if(!r){se("Pool required","Initialise or fetch a pool first.");return}try{await v(!r.paused),Y(r.paused?"Pool resumed":"Pool paused",r.paused?"Stakers can interact with the pool again.":"Pool is paused; staking operations are disabled."),await K()}catch(Se){te("Status change failed",Se instanceof Error?Se.message:"Unable to toggle pool status.")}},Me=async()=>{if(!r){se("Pool required","Initialise or fetch a pool first.");return}const Se=Number(L);if(!Number.isFinite(Se)||Se<=0){se("Invalid amount","Enter a positive amount to withdraw.");return}try{await C(Se),Y("Rewards withdrawn","Tokens moved from the reward vault to the admin."),N(""),await K()}catch(We){te("Withdrawal failed",We instanceof Error?We.message:"Unable to withdraw rewards.")}},Te=async()=>{if(!b.trim()){se("Missing address","Enter a wallet to transfer admin to.");return}try{await I(b.trim()),Y("Admin updated","Ownership transferred. Reload with the new wallet to continue."),w(""),await K()}catch(Se){te("Transfer failed",Se instanceof Error?Se.message:"Unable to set new admin.")}},Fe=async()=>{if(window.confirm("Closing the pool is irreversible. This requires the pool to be empty and paused. Continue?"))try{await z(),Y("Pool closed","Pool, signer PDA, and vaults were closed. Recreate to continue."),await K()}catch(Se){te("Close failed",Se instanceof Error?Se.message:"Unable to close the pool.")}};return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/5",children:S.jsxs("div",{className:"container py-12 space-y-10",children:[S.jsxs("header",{className:"relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-blue-500/10 rounded-2xl blur-3xl"}),S.jsxs("div",{className:"relative glass gradient-border p-8 rounded-2xl",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[S.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:S.jsx("span",{className:"text-2xl",children:""})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Admin Dashboard"}),S.jsx("p",{className:"text-foreground/80 text-lg",children:"Manage the staking pool directly from the admin wallet"})]})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[S.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:[S.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 animate-pulse"}),S.jsx("span",{className:"text-sm font-medium text-green-300",children:re.label})]}),i&&S.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30",children:S.jsxs("span",{className:"text-sm font-mono text-blue-300",children:["Mint: ",i.slice(0,4),"",i.slice(-4)]})}),r?.poolAddress&&S.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30",children:S.jsxs("span",{className:"text-sm font-mono text-purple-300",children:["Pool: ",r.poolAddress.slice(0,4),"",r.poolAddress.slice(-4)]})})]})]})]}),t&&S.jsxs("div",{className:"relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-xl blur-sm"}),S.jsx(ir,{className:"relative border-red-500/40 bg-red-500/10 backdrop-blur-sm",children:S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"text-red-100 flex items-center gap-2",children:[S.jsx("span",{className:"text-xl",children:""}),"On-chain error"]}),S.jsx(Qr,{className:"text-red-200",children:t})]})})]}),S.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[S.jsxs(ir,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Current staking mint"]}),S.jsx(Qr,{children:"Update the mint tracked in the UI and perform mint-related actions."})]}),S.jsxs(_r,{className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2 text-sm",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Mint in context"}),S.jsx("span",{className:"font-mono",children:i?`${i.slice(0,4)}${i.slice(-4)}`:""})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Pool PDA"}),S.jsx("span",{className:"font-mono",children:r?.poolAddress?`${r.poolAddress.slice(0,4)}${r.poolAddress.slice(-4)}`:""})]})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsx(Fi,{value:ae,onChange:Se=>Q(Se.target.value),placeholder:"Enter staking mint address"}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsx(Xt,{variant:"secondary",onClick:Pt,disabled:e,children:"Set mint"}),S.jsx(Xt,{variant:"outline",onClick:Ot,disabled:e,children:"Fetch pool"}),S.jsx(Xt,{onClick:ye,disabled:e,children:"Initialise pool"})]})]})]})]}),S.jsxs(ir,{className:"lg:col-span-2 group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Pool overview"]}),S.jsx(Qr,{children:"Snapshot of the active pool (values shown in UI units)."})]}),S.jsx(_r,{className:"space-y-4",children:S.jsxs("div",{className:"space-y-2 text-sm",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Total staked"}),S.jsx("span",{className:"font-medium",children:le})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Reward rate"}),S.jsx("span",{className:"font-medium",children:r?`${Oi.format(fe)} tokens/sec`:""})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Reward mint"}),S.jsx("span",{className:"font-mono",children:r?.rewardMint?`${r.rewardMint.slice(0,4)}${r.rewardMint.slice(-4)}`:""})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Daily pool rewards"}),S.jsx("span",{className:"font-medium",children:r?`${Oi.format(Ze)} tokens/day`:""})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Current APY"}),S.jsx("span",{className:"font-medium",children:Pe})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Reward vault balance"}),S.jsx("span",{className:"font-medium",children:j?"Checking":h!==null?`${Oi.format(h)}`:""})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-foreground/70",children:"Last update"}),S.jsx("span",{className:"font-medium",children:r?qj(r.lastUpdateTs):""})]})]})})]})]}),S.jsx(SA,{}),S.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[S.jsxs(ir,{className:"lg:col-span-2 group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Configure rewards"]}),S.jsx(Qr,{children:"Set up the reward mint and base emission rate. This should be done once per pool."})]}),S.jsxs(_r,{className:"space-y-4",children:[S.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-foreground/80",children:"Reward mint address"}),S.jsx(Fi,{value:Z,onChange:Se=>ee(Se.target.value),placeholder:"Enter reward mint"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-foreground/80",children:"Reward rate (per second)"}),S.jsx(Fi,{type:"number",value:V,onChange:Se=>D(Se.target.value),placeholder:"e.g. 1000"})]})]}),S.jsx(Xt,{onClick:xe,disabled:e,className:"w-full sm:w-auto",children:"Save reward configuration"})]})]}),S.jsxs(ir,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Fund rewards"]}),S.jsx(Qr,{children:"Deposit reward tokens into the pool signer vault."})]}),S.jsxs(_r,{className:"space-y-4",children:[S.jsx(Fi,{type:"number",value:f,onChange:Se=>y(Se.target.value),placeholder:"Amount in tokens"}),S.jsx(Xt,{onClick:Ce,disabled:e,className:"w-full",children:"Fund reward vault"})]})]})]}),S.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[S.jsxs(ir,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Update reward rate"]}),S.jsx(Qr,{children:"Apply a new emission rate without changing the reward mint."})]}),S.jsxs(_r,{className:"space-y-4",children:[S.jsx(Fi,{type:"number",value:E,onChange:Se=>U(Se.target.value),placeholder:"New reward rate per second"}),S.jsxs("div",{className:"space-y-2 rounded-lg border border-white/10 bg-white/5 p-4 text-xs text-foreground/80",children:[S.jsxs("div",{children:[S.jsx("strong",{children:"Current rate:"})," ",Oi.format(fe)," tokens/sec (",r?r.rewardRatePerSec:0," base units/sec)"]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Pool generates:"})," ",Oi.format(fe)," tokens each second for all stakers."]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Daily emissions:"})," ",Oi.format(Ze)," tokens/day total"]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Current APY:"})," ",Pe]}),S.jsx("div",{children:"Your effective yield still depends on your share of the pool. A higher rate increases rewards for every staker."})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-xs text-foreground/70",children:"Quick rate suggestions"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:ht.map(Se=>S.jsx(Xt,{variant:"outline",size:"sm",type:"button",onClick:()=>U(Se.value.toString()),children:Se.label},Se.value))})]}),S.jsx(Xt,{variant:"secondary",onClick:Re,disabled:e,children:"Update reward rate"})]})]}),S.jsxs(ir,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Withdraw rewards"]}),S.jsx(Qr,{children:"Move tokens from the reward vault back to the admin wallet."})]}),S.jsxs(_r,{className:"space-y-4",children:[S.jsx(Fi,{type:"number",value:L,onChange:Se=>N(Se.target.value),placeholder:"Amount in tokens"}),S.jsx(Xt,{variant:"outline",onClick:Me,disabled:e,children:"Withdraw rewards"})]})]})]}),S.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[S.jsxs(ir,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Pool controls"]}),S.jsx(Qr,{children:"Pause or resume staking operations and perform maintenance."})]}),S.jsxs(_r,{className:"space-y-3 space-x-3",children:[S.jsx(Xt,{onClick:De,disabled:e,className:r?.paused?"btn-gradient":"bg-orange-500 hover:bg-orange-600",children:r?.paused?"Resume pool":"Pause pool"}),S.jsx(Xt,{variant:"destructive",onClick:Fe,disabled:e,className:"mt-4",children:"Close pool"})]})]}),S.jsxs(ir,{className:"group hover:scale-[1.02] transition-all duration-300 glass gradient-border",children:[S.jsxs(Zr,{children:[S.jsxs(Xr,{className:"flex items-center gap-2 text-lg",children:[S.jsx("span",{className:"text-2xl",children:""}),"Transfer admin"]}),S.jsx(Qr,{children:"Assign pool administration privileges to another wallet."})]}),S.jsxs(_r,{className:"space-y-4",children:[S.jsx(Fi,{value:b,onChange:Se=>w(Se.target.value),placeholder:"Admin wallet address"}),S.jsx(Xt,{variant:"secondary",onClick:Te,disabled:e,children:"Set new admin"})]})]})]})]})})}function Gj({isGenerating:n=!1,startTime:e=Date.now()}){const t=$.useRef(null),r=$.useRef(null),[i,s]=$.useState(0),[l,c]=$.useState({isPlaying:!1,isPaused:!1,score:0,highScore:0,gameOver:!1,wave:1,lives:3}),[d,p]=$.useState(!1),m=$.useRef({x:400,y:300,angle:0}),k=$.useRef([]),_=$.useRef([]),v=$.useRef([]),C=$.useRef([]),I=$.useRef({x:400,y:300}),T=$.useRef(!1),z=$.useRef(0),K=$.useRef(0),F=$.useRef({type:"default",duration:0,fireRate:8,damage:1}),Y=$.useRef(0),te=$.useRef(0);$.useEffect(()=>{const y=()=>{p(window.innerWidth<=768||"ontouchstart"in window)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),$.useEffect(()=>{if(!n){s(0);return}const y=setInterval(()=>{s(Math.floor((Date.now()-e)/1e3))},1e3);return()=>clearInterval(y)},[n,e]);const se=()=>n?i<20?"Initializing neural network...":i<40?"Processing style parameters...":i<60?"Generating card artwork...":i<80?"Finalizing details...":"Almost there...":"Ready to generate your epic card",ne=n?Math.min(i/90*100,100):0,ae=$.useCallback(()=>{const y=t.current;y&&(m.current={x:y.width/2,y:y.height/2,angle:0}),k.current=[],_.current=[],v.current=[],C.current=[],z.current=0,K.current=0,te.current=0,F.current={type:"default",duration:0,fireRate:8,damage:1},Y.current=0},[]),Q=$.useCallback(y=>{const E=t.current;if(!E)return;const U=Math.floor(Math.random()*4);let L=0,N=0;switch(U){case 0:L=Math.random()*E.width,N=-30;break;case 1:L=E.width+30,N=Math.random()*E.height;break;case 2:L=Math.random()*E.width,N=E.height+30;break;case 3:L=-30,N=Math.random()*E.height;break}const b=["basic","basic","fast"];y>3&&b.push("heavy");const w=b[Math.floor(Math.random()*b.length)],h={x:L,y:N,size:w==="heavy"?25:w==="fast"?12:18,speed:w==="fast"?3:w==="heavy"?.8:1.5,angle:0,health:w==="heavy"?3:1,type:w,color:w==="heavy"?"#ff00ff":w==="fast"?"#ffff00":"#ff00ff"};k.current.push(h)},[]),Z=$.useCallback(()=>{if(z.current>0)return;const y=m.current,E=F.current,U=E.hasLaser?20:12;if(E.hasTriple)for(let L=-1;L<=1;L++){const N=y.angle+L*.2,b={x:y.x,y:y.y,vx:Math.cos(N)*U,vy:Math.sin(N)*U,lifetime:E.hasLaser?80:60,damage:E.damage,pierce:E.hasLaser||void 0,color:E.hasLaser?"#ff00ff":E.hasRapid?"#ffff00":"#00ffff"};_.current.push(b)}else if(E.hasLaser){const L={x:y.x,y:y.y,vx:Math.cos(y.angle)*U,vy:Math.sin(y.angle)*U,lifetime:80,damage:E.damage,pierce:!0,color:"#ff00ff"};_.current.push(L)}else{const L={x:y.x,y:y.y,vx:Math.cos(y.angle)*U,vy:Math.sin(y.angle)*U,lifetime:60,damage:E.damage,color:E.hasRapid?"#ffff00":"#00ffff"};_.current.push(L)}z.current=E.fireRate},[]),ee=$.useCallback((y,E)=>{const U=["rapid","triple","laser","shield","bomb"],L=U[Math.floor(Math.random()*U.length)],N={rapid:"#ffff00",triple:"#00ff00",laser:"#ff00ff",shield:"#00ffff",bomb:"#ff0000"};C.current.push({x:y,y:E,type:L,lifetime:600,color:N[L],pulse:0})},[]),V=$.useCallback((y,E,U)=>{for(let L=0;L<12;L++){const N=Math.PI*2*L/12,b=2+Math.random()*3;v.current.push({x:y,y:E,vx:Math.cos(N)*b,vy:Math.sin(N)*b,life:20+Math.random()*10,color:U})}},[]),D=$.useCallback(()=>{const y=t.current;if(!y)return;const E=y.getContext("2d");if(!E)return;E.fillStyle="rgba(10, 10, 15, 0.9)",E.fillRect(0,0,y.width,y.height),E.strokeStyle="rgba(0, 255, 255, 0.05)",E.lineWidth=1;for(let fe=0;fe<y.width;fe+=40)E.beginPath(),E.moveTo(fe,0),E.lineTo(fe,y.height),E.stroke();for(let fe=0;fe<y.height;fe+=40)E.beginPath(),E.moveTo(0,fe),E.lineTo(y.width,fe),E.stroke();const U=m.current;if(l.isPlaying&&!l.isPaused&&!l.gameOver){const fe=I.current.x-U.x,Ie=I.current.y-U.y;U.angle=Math.atan2(Ie,fe),T.current&&Z(),z.current>0&&z.current--,K.current++;const Ze=Math.max(20,80-l.wave*8);if(K.current%Ze===0&&(Q(l.wave),l.wave>5&&Math.random()<.3&&Q(l.wave)),te.current++,te.current%300===0&&Math.random()<.5){const Pe=t.current;Pe&&ee(50+Math.random()*(Pe.width-100),50+Math.random()*(Pe.height-100))}F.current.duration>0&&(F.current.duration--,F.current.duration===0&&(F.current={type:"default",duration:0,fireRate:8,damage:1,hasRapid:!1,hasTriple:!1,hasLaser:!1})),Y.current>0&&Y.current--,_.current=_.current.filter(Pe=>(Pe.x+=Pe.vx,Pe.y+=Pe.vy,Pe.lifetime--,Pe.lifetime>0&&Pe.x>-10&&Pe.x<y.width+10&&Pe.y>-10&&Pe.y<y.height+10)),k.current=k.current.filter(Pe=>{const ht=U.x-Pe.x,Ot=U.y-Pe.y,Pt=Math.sqrt(ht*ht+Ot*Ot);if(Pe.angle=Math.atan2(Ot,ht),Pe.x+=Math.cos(Pe.angle)*Pe.speed,Pe.y+=Math.sin(Pe.angle)*Pe.speed,Pt<Pe.size+15)return Y.current>0?(V(Pe.x,Pe.y,"#00ffff"),Y.current=0):(V(Pe.x,Pe.y,Pe.color),c(ye=>{const xe=ye.lives-1;return xe<=0?{...ye,lives:0,gameOver:!0,highScore:Math.max(ye.score,ye.highScore)}:{...ye,lives:xe}})),!1;for(let ye=_.current.length-1;ye>=0;ye--){const xe=_.current[ye];if(Math.sqrt(Math.pow(xe.x-Pe.x,2)+Math.pow(xe.y-Pe.y,2))<Pe.size&&(Pe.health-=xe.damage||1,xe.pierce||_.current.splice(ye,1),Pe.health<=0)){if(V(Pe.x,Pe.y,Pe.color),xe.pierce&&!xe.hasRicocheted&&k.current.length>1){let Re=null,De=1/0;if(k.current.forEach(Me=>{if(Me!==Pe){const Te=Math.sqrt(Math.pow(Me.x-Pe.x,2)+Math.pow(Me.y-Pe.y,2));Te<De&&(De=Te,Re=Me)}}),Re!==null){const Me=Math.atan2(Re.y-Pe.y,Re.x-Pe.x),Te={x:Pe.x,y:Pe.y,vx:Math.cos(Me)*20,vy:Math.sin(Me)*20,lifetime:40,damage:xe.damage,pierce:!0,color:"#ffff00",hasRicocheted:!0};_.current.push(Te)}}return Math.random()<.15&&ee(Pe.x,Pe.y),c(Re=>{const De=Re.score+(Pe.type==="heavy"?30:Pe.type==="fast"?20:10),Me=Math.floor(De/200)+1;return{...Re,score:De,wave:Me}}),!1}}return!0}),v.current=v.current.filter(Pe=>(Pe.x+=Pe.vx,Pe.y+=Pe.vy,Pe.vx*=.98,Pe.vy*=.98,Pe.life--,Pe.life>0)),C.current=C.current.filter(Pe=>{Pe.lifetime--,Pe.pulse+=.1;for(let ht=_.current.length-1;ht>=0;ht--){const Ot=_.current[ht],Pt=Ot.x-Pe.x,ye=Ot.y-Pe.y;if(Math.sqrt(Pt*Pt+ye*ye)<20){switch(_.current.splice(ht,1),V(Pe.x,Pe.y,Pe.color),Pe.type){case"rapid":F.current.hasRapid?F.current.duration=Math.max(F.current.duration,600):F.current={...F.current,type:"combined",duration:Math.max(F.current.duration,600),fireRate:Math.min(F.current.fireRate,3),damage:F.current.damage,hasRapid:!0};break;case"triple":F.current.hasTriple?F.current.duration=Math.max(F.current.duration,500):F.current={...F.current,type:"combined",duration:Math.max(F.current.duration,500),fireRate:F.current.hasRapid?F.current.fireRate:Math.max(F.current.fireRate,10),damage:F.current.damage,hasTriple:!0};break;case"laser":F.current.hasLaser?F.current.duration=Math.max(F.current.duration,400):F.current={...F.current,type:"combined",duration:Math.max(F.current.duration,400),damage:Math.max(F.current.damage,2),hasLaser:!0};break;case"shield":Y.current=300;break;case"bomb":k.current.forEach(Ce=>{V(Ce.x,Ce.y,"#ff0000")}),c(Ce=>({...Ce,score:Ce.score+k.current.length*5})),k.current=[];break}return!1}}return Pe.lifetime>0})}v.current.forEach(fe=>{E.globalAlpha=fe.life/30,E.fillStyle=fe.color,E.fillRect(fe.x-2,fe.y-2,4,4)}),E.globalAlpha=1,k.current.forEach(fe=>{if(E.save(),E.translate(fe.x,fe.y),E.rotate(fe.angle),E.fillStyle=fe.color,E.shadowBlur=15,E.shadowColor=fe.color,fe.type==="heavy"){E.beginPath();for(let Ie=0;Ie<6;Ie++){const Ze=Math.PI*2*Ie/6,Pe=Math.cos(Ze)*fe.size,ht=Math.sin(Ze)*fe.size;Ie===0?E.moveTo(Pe,ht):E.lineTo(Pe,ht)}E.closePath(),E.fill()}else fe.type==="fast"?(E.beginPath(),E.moveTo(fe.size,0),E.lineTo(-fe.size,-fe.size*.7),E.lineTo(-fe.size,fe.size*.7),E.closePath(),E.fill()):(E.beginPath(),E.moveTo(fe.size,0),E.lineTo(0,fe.size),E.lineTo(-fe.size,0),E.lineTo(0,-fe.size),E.closePath(),E.fill());E.restore()}),C.current.forEach(fe=>{E.save();const Ie=1+Math.sin(fe.pulse)*.2;if(E.translate(fe.x,fe.y),E.scale(Ie,Ie),E.rotate(fe.pulse*.5),E.fillStyle=fe.color,E.shadowBlur=20,E.shadowColor=fe.color,fe.type==="shield")E.beginPath(),E.moveTo(0,-12),E.lineTo(10,-5),E.lineTo(10,8),E.lineTo(0,12),E.lineTo(-10,8),E.lineTo(-10,-5),E.closePath(),E.fill();else if(fe.type==="bomb")E.beginPath(),E.arc(0,0,10,0,Math.PI*2),E.fill(),E.fillRect(-2,-15,4,8);else{E.beginPath();for(let Ze=0;Ze<5;Ze++){const Pe=Math.PI*2*Ze/5-Math.PI/2,ht=Math.cos(Pe)*12,Ot=Math.sin(Pe)*12;Ze===0?E.moveTo(ht,Ot):E.lineTo(ht,Ot);const Pt=Pe+Math.PI/5,ye=Math.cos(Pt)*6,xe=Math.sin(Pt)*6;E.lineTo(ye,xe)}E.closePath(),E.fill()}E.restore()}),_.current.forEach(fe=>{E.shadowBlur=10,E.shadowColor=fe.color||"#00ffff",E.fillStyle=fe.color||"#00ffff",fe.pierce?E.fillRect(fe.x-12,fe.y-8,24,16):E.fillRect(fe.x-3,fe.y-3,6,6),E.globalAlpha=.3,E.fillRect(fe.x-fe.vx-2,fe.y-fe.vy-2,4,4),E.globalAlpha=1}),E.save(),E.translate(U.x,U.y),Y.current>0&&(E.strokeStyle=`rgba(0, 255, 255, ${.3+Math.sin(Date.now()/100)*.2})`,E.lineWidth=2,E.shadowBlur=20,E.shadowColor="#00ffff",E.beginPath(),E.arc(0,0,25,0,Math.PI*2),E.stroke()),E.rotate(U.angle);let L="#00ffff";if(F.current.type==="combined"){const fe=F.current.hasRapid&&F.current.hasTriple&&F.current.hasLaser,Ie=(F.current.hasRapid?1:0)+(F.current.hasTriple?1:0)+(F.current.hasLaser?1:0)==2;fe?L="#ffffff":Ie?F.current.hasRapid&&F.current.hasTriple?L="#88ff00":F.current.hasRapid&&F.current.hasLaser?L="#ff88ff":F.current.hasTriple&&F.current.hasLaser&&(L="#88ff88"):F.current.hasLaser?L="#ff00ff":F.current.hasTriple?L="#00ff00":F.current.hasRapid&&(L="#ffff00")}E.fillStyle=L,E.shadowBlur=20,E.shadowColor=L,E.beginPath(),E.moveTo(15,0),E.lineTo(-10,-10),E.lineTo(-5,0),E.lineTo(-10,10),E.closePath(),E.fill(),E.fillStyle="#ffffff",E.shadowBlur=10,E.shadowColor="#ffffff",E.fillRect(-2,-3,6,6),E.restore(),l.isPlaying&&!l.isPaused&&(E.strokeStyle="rgba(255, 255, 255, 0.5)",E.lineWidth=2,E.beginPath(),E.arc(I.current.x,I.current.y,15,0,Math.PI*2),E.stroke(),E.beginPath(),E.moveTo(I.current.x-20,I.current.y),E.lineTo(I.current.x-10,I.current.y),E.moveTo(I.current.x+10,I.current.y),E.lineTo(I.current.x+20,I.current.y),E.moveTo(I.current.x,I.current.y-20),E.lineTo(I.current.x,I.current.y-10),E.moveTo(I.current.x,I.current.y+10),E.lineTo(I.current.x,I.current.y+20),E.stroke());const N=window.devicePixelRatio||1,b=y.width<=400,w=b?y.width:y.width/N,h=b?y.height:y.height/N,x=8,j=h-(b?80:50),q=w-(b?40:60),re=b?20:30;if(E.fillStyle="rgba(0, 0, 0, 0.7)",E.fillRect(re-2,j-2,q+4,x+4),E.strokeStyle="rgba(0, 255, 255, 0.3)",E.lineWidth=1,E.strokeRect(re-2,j-2,q+4,x+4),n&&ne>0){const fe=q*ne/100,Ie=E.createLinearGradient(re,0,re+fe,0);Ie.addColorStop(0,"#00ffff"),Ie.addColorStop(.5,"#ff00ff"),Ie.addColorStop(1,"#00ff00"),E.fillStyle=Ie,E.fillRect(re,j,fe,x);const Ze=.3+Math.sin(Date.now()/200)*.3;E.shadowBlur=20,E.shadowColor=`rgba(0, 255, 255, ${Ze})`,E.fillRect(re+fe-2,j,2,x),E.shadowBlur=0}E.fillStyle="#00ffff",E.font=b?"14px monospace":"12px monospace",E.textAlign="center";const le=w/2;if(n){E.fillText(se(),le,j-(b?15:10)),E.fillStyle="rgba(255, 255, 255, 0.9)",E.font=b?"16px monospace":"12px monospace",E.fillText(`${Math.floor(ne)}%`,le,j+x+(b?25:20)),E.fillStyle="rgba(0, 255, 255, 0.8)",E.font=b?"14px monospace":"10px monospace";const fe=Math.max(0,90-i),Ie=Math.floor(fe/60),Ze=fe%60,Pe=fe>0?`ETA: ${Ie}:${Ze.toString().padStart(2,"0")}`:"Finalizing...";E.fillText(Pe,le,j+x+(b?45:35))}else E.fillText("Ready to generate",le,j-(b?15:10));r.current=requestAnimationFrame(D)},[l,Z,Q,V,ee,n,i,ne,se]);$.useEffect(()=>{const y=t.current;if(!y)return;const E=()=>{const N=y.parentElement;if(N){const b=N.getBoundingClientRect(),w=d?400:800,h=d?500:600,x=Math.min(b.width*.9,w),j=Math.min(b.height*.84,h),q=Math.max(400,Math.min(x,w)),re=Math.max(500,Math.min(j,h));y.width=Math.floor(q),y.height=Math.floor(re);const le=window.devicePixelRatio||1;if(le>1&&!d){y.width*=le,y.height*=le,y.style.width=q+"px",y.style.height=re+"px";const fe=y.getContext("2d");fe&&fe.scale(le,le)}m.current.x=y.width/(le>1&&!d?le:1)/2,m.current.y=y.height/(le>1&&!d?le:1)/2}};E();let U;const L=()=>{clearTimeout(U),U=setTimeout(E,100)};return window.addEventListener("resize",L),r.current=requestAnimationFrame(D),()=>{window.removeEventListener("resize",L),clearTimeout(U),r.current&&cancelAnimationFrame(r.current)}},[D]),$.useEffect(()=>{const y=t.current;if(!y)return;const E=h=>{const x=y.getBoundingClientRect(),j=window.devicePixelRatio||1,q=y.width<=400?1:j;I.current={x:(h.clientX-x.left)*(y.width/x.width/q),y:(h.clientY-x.top)*(y.height/x.height/q)}},U=h=>{h.preventDefault();const x=y.getBoundingClientRect(),j=h.touches[0],q=window.devicePixelRatio||1,re=y.width<=400?1:q;I.current={x:(j.clientX-x.left)*(y.width/x.width/re),y:(j.clientY-x.top)*(y.height/x.height/re)}},L=()=>{T.current=!0},N=()=>{T.current=!1},b=h=>{h.preventDefault();const x=y.getBoundingClientRect(),j=h.touches[0],q=window.devicePixelRatio||1,re=y.width<=400?1:q;I.current={x:(j.clientX-x.left)*(y.width/x.width/re),y:(j.clientY-x.top)*(y.height/x.height/re)},T.current=!0},w=()=>{T.current=!1};return y.addEventListener("mousemove",E),y.addEventListener("mousedown",L),y.addEventListener("mouseup",N),y.addEventListener("mouseleave",N),y.addEventListener("touchmove",U),y.addEventListener("touchstart",b),y.addEventListener("touchend",w),()=>{y.removeEventListener("mousemove",E),y.removeEventListener("mousedown",L),y.removeEventListener("mouseup",N),y.removeEventListener("mouseleave",N),y.removeEventListener("touchmove",U),y.removeEventListener("touchstart",b),y.removeEventListener("touchend",w)}},[]);const f=()=>{ae(),c({isPlaying:!0,isPaused:!1,score:0,highScore:l.highScore,gameOver:!1,wave:1,lives:3})};return S.jsx("div",{className:"w-full h-full max-w-7xl mx-auto",children:S.jsxs("div",{className:"h-full flex flex-col bg-cyber-dark/90 backdrop-blur-sm rounded-lg border border-cyber-cyan/20 p-2 sm:p-4 max-h-[96vh]",children:[S.jsxs("div",{className:"flex justify-center items-center mb-2 gap-2 sm:gap-4 md:gap-6",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-cyan/60 font-mono uppercase tracking-wider",children:"SCORE"}),S.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-cyan",children:l.score.toString().padStart(4,"0")})]}),S.jsx("div",{className:"text-cyber-cyan/30",children:"|"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-purple/60 font-mono uppercase tracking-wider",children:"WAVE"}),S.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-purple",children:l.wave.toString().padStart(2,"0")})]}),S.jsx("div",{className:"text-cyber-cyan/30",children:"|"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[10px] sm:text-xs text-cyber-pink/60 font-mono uppercase tracking-wider",children:"LIVES"}),S.jsx("span",{className:"text-sm sm:text-base md:text-lg font-bold font-mono text-cyber-pink",children:"".repeat(l.lives)})]})]}),S.jsxs("div",{className:"relative flex-1 flex items-center justify-center max-h-[72vh]",children:[S.jsx("canvas",{ref:t,className:`bg-cyber-black rounded touch-none select-none w-full h-full ${l.isPlaying&&!l.isPaused?d?"cursor-none":"cursor-crosshair":"cursor-default"}`,style:{imageRendering:"pixelated",maxWidth:"100%",maxHeight:"100%"}}),!l.isPlaying&&!l.gameOver&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cyber-dark/95 rounded backdrop-blur-sm px-4",children:[S.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-cyber-cyan mb-2 font-mono uppercase tracking-wider text-center",children:n?"Your Card is Being Generated":"Cyber Defense"}),n?S.jsx("p",{className:"text-gray-400 mb-6 font-mono text-sm text-center",children:"Defend the system while you wait!"}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"hidden sm:block",children:[S.jsx("p",{className:"text-gray-400 mb-2 font-mono text-sm text-center",children:"Move mouse to aim"}),S.jsx("p",{className:"text-gray-400 mb-6 font-mono text-sm text-center",children:"Click to shoot"})]}),S.jsx("div",{className:"block sm:hidden mb-6",children:S.jsx("p",{className:"text-gray-400 font-mono text-sm text-center",children:"Touch to aim and shoot"})})]}),S.jsx("button",{onClick:f,className:"min-h-[48px] px-6 sm:px-8 py-3 border-2 border-cyber-green text-cyber-green bg-transparent font-bold font-mono uppercase tracking-wider rounded-lg hover:bg-cyber-green/10 active:bg-cyber-green/20 transition-all duration-300 touch-manipulation text-sm sm:text-base",children:"Start Game"}),S.jsx("div",{className:"absolute bottom-[20px] sm:bottom-[60px] left-[20px] sm:left-[40px] right-[20px] sm:right-[40px]",children:S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"h-[8px] border border-cyber-cyan/30",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:n&&ne>0&&S.jsx("div",{className:"h-full",style:{width:`${ne}%`,background:"linear-gradient(to right, #00ffff, #ff00ff, #00ff00)"}})}),S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-cyber-cyan text-xs font-mono mt-[-30px] mb-1",children:n?se():"Ready to generate"}),n&&S.jsxs(S.Fragment,{children:[S.jsxs("p",{className:"text-white/70 text-[10px] font-mono mt-[28px]",children:[Math.floor(ne),"%"]}),S.jsxs("p",{className:"text-white/70 text-[10px] font-mono mt-[8px]",children:["ETA: ",Math.floor(Math.max(0,90-i)/60),":",(Math.max(0,90-i)%60).toString().padStart(2,"0")]})]})]})]})})]}),l.gameOver&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-cyber-dark/95 rounded backdrop-blur-sm px-4",children:[S.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-cyber-pink mb-2 font-mono uppercase tracking-wider animate-pulse text-center",children:"System Breached!"}),S.jsxs("p",{className:"text-cyber-cyan text-lg sm:text-xl mb-2 font-mono text-center",children:["Score: ",l.score]}),S.jsxs("p",{className:"text-cyber-purple mb-4 font-mono text-center",children:["Wave: ",l.wave]}),l.score===l.highScore&&l.score>0&&S.jsx("p",{className:"text-cyber-yellow mb-4 font-mono uppercase tracking-wider text-center text-sm sm:text-base",children:"New High Score!"}),S.jsx("button",{onClick:f,className:"min-h-[48px] px-6 sm:px-8 py-3 border-2 border-cyber-green text-cyber-green bg-transparent font-bold font-mono uppercase tracking-wider rounded-lg hover:bg-cyber-green/10 active:bg-cyber-green/20 transition-all duration-300 touch-manipulation text-sm sm:text-base",children:"Restart Defense"})]}),l.isPaused&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded",children:S.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:"PAUSED"})})]}),!n&&S.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-500 mt-2 px-2",children:[S.jsx("span",{className:"hidden sm:inline",children:"Move: Mouse"}),S.jsx("span",{className:"sm:hidden",children:"Touch to play"}),S.jsx("span",{className:"hidden sm:inline",children:"Shoot: Click"}),S.jsx("span",{className:"sm:hidden",children:"Drag to aim"})]})]})})}const Di=[{name:"Red",color:"#ff6b6b",emoji:""},{name:"Blue",color:"#4ecdc4",emoji:""},{name:"Green",color:"#96ceb4",emoji:""},{name:"Yellow",color:"#feca57",emoji:""},{name:"Purple",color:"#a55eea",emoji:""},{name:"Orange",color:"#ff6348",emoji:""},{name:"Pink",color:"#ff9ff3",emoji:""},{name:"Cyan",color:"#45b7d1",emoji:""}];function Yj(){const n=$.useRef(null),e=$.useRef(null),t=$.useRef(0),r=$.useRef({x:0,y:0}),i=typeof window<"u"&&window.innerWidth<=768,[s,l]=$.useState({isPlaying:!1,isPaused:!1,score:0,highScore:0,gameOver:!1,level:1,lives:3,target:1e3,timeLeft:60,combo:0,multiplier:1,currentPrompt:"Pop only RED balloons!",promptColor:"Red",streak:0}),[c,d]=$.useState([]),[p,m]=$.useState([]),[k,_]=$.useState([]),[v,C]=$.useState(null),[I,T]=$.useState(!1),[z,K]=$.useState(0),[F,Y]=$.useState(0),te=i?40:30,se=i?1500:1e3;$.useCallback((y,E)=>{const U=Di[Math.floor(Math.random()*Di.length)],L=1+Math.random()*2;return{id:`${y}-${E}-${Date.now()}`,x:y,y:E,vx:(Math.random()-.5)*2,vy:L,radius:te,color:U.color,colorName:U.name,emoji:U.emoji,isPopped:!1,isAnimating:!1,animationTime:0,fallSpeed:L}},[]);const ne=$.useCallback((y,E,U)=>({id:`${y}-${E}-${Date.now()}`,x:y,y:E,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10,life:30,maxLife:30,color:U,size:Math.random()*4+2}),[]);$.useCallback((y,E)=>{const U=["multiplier","freeze","magnet","explosion"],L=U[Math.floor(Math.random()*U.length)];return{id:`${y}-${E}-${Date.now()}`,x:y,y:E,type:L,life:300,isActive:!1}},[]);const ae=$.useCallback(()=>{const y=Di[Math.floor(Math.random()*Di.length)];l(E=>({...E,currentPrompt:`Pop only ${y.name.toUpperCase()} balloons!`,promptColor:y.name}))},[]),Q=$.useCallback(()=>{d([]),ae()},[ae]),Z=$.useCallback(()=>{const y=n.current;if(!y)return;const E=Math.random()*(y.width-te*2)+te,L=Math.random()<.7?Di.find(b=>b.name===s.promptColor)??Di[0]:Di[Math.floor(Math.random()*Di.length)],N={id:`${E}-${-te}-${Date.now()}`,x:E,y:-te,vx:(Math.random()-.5)*2,vy:1+Math.random()*2,radius:te,color:L.color,colorName:L.name,emoji:L.emoji,isPopped:!1,isAnimating:!1,animationTime:0,fallSpeed:1+Math.random()*2};d(b=>[...b,N])},[s.promptColor]),ee=$.useCallback((y,E)=>{const U=[];for(let b=0;b<12;b++)U.push(ne(y.x,y.y,y.color));m(b=>[...b,...U]),d(b=>b.filter(w=>w.id!==y.id));let L=0,N=0;E?(L=10+s.streak*5,N=1,Math.random()<.3&&ae()):(L=-5,N=-s.streak,l(b=>({...b,lives:b.lives-1,streak:0}))),l(b=>{const w=Math.max(0,b.score+L),h=Math.max(0,b.streak+N);return{...b,score:w,streak:h,highScore:Math.max(b.highScore,w)}})},[s.streak,ne,ae]),V=()=>{Q(),l(y=>({...y,isPlaying:!0,isPaused:!1,score:0,gameOver:!1,level:1,lives:3,target:1e3,timeLeft:60,combo:0,multiplier:1,streak:0})),Y(0)},D=()=>{l(y=>({...y,isPaused:!y.isPaused}))},f=$.useCallback(y=>{if(!s.isPlaying||s.isPaused){e.current=requestAnimationFrame(f);return}const E=n.current;if(!E)return;const U=y-t.current;t.current=y,s.timeLeft>0?l(N=>({...N,timeLeft:N.timeLeft-U/1e3})):l(N=>({...N,isPlaying:!1,gameOver:!0})),s.lives<=0&&l(N=>({...N,isPlaying:!1,gameOver:!0})),Y(N=>{const b=N+U;return b>=se?(Z(),0):b}),d(N=>N.map(b=>{if(b.isPopped)return b;let w=b.x+b.vx;const h=b.y+b.vy,x=n.current;if(!x)return b;if(w=Math.max(te,Math.min(x.width-te,w)),h>x.height+te)return{...b,isPopped:!0};const j=(Math.random()-.5)*.5;return w=Math.max(te,Math.min(x.width-te,w+j)),{...b,x:w,y:h}}).filter(b=>!b.isPopped)),m(N=>N.map(b=>({...b,x:b.x+b.vx,y:b.y+b.vy,vy:b.vy+.1,life:b.life-1})).filter(b=>b.life>0)),_(N=>N.map(b=>({...b,life:b.life-1})).filter(b=>b.life>0));const L=E.getContext("2d");if(L){L.save(),L.beginPath(),L.rect(0,0,E.width,E.height),L.clip();const N=L.createLinearGradient(0,0,0,E.height);N.addColorStop(0,"#1a1a2e"),N.addColorStop(1,"#16213e"),L.fillStyle=N,L.fillRect(0,0,E.width,E.height),L.fillStyle="rgba(255, 255, 255, 0.1)";for(let b=0;b<50;b++){const w=b*7%E.width,h=b*11%E.height;L.fillRect(w,h,1,1)}c.forEach(b=>{if(b.isPopped)return;const w=b.x,h=b.y,x=b.radius;if(w<-x||w>E.width+x||h<-x||h>E.height+x)return;L.fillStyle="rgba(0, 0, 0, 0.3)",L.beginPath(),L.arc(w+3,h+3,x,0,Math.PI*2),L.fill();const j=L.createRadialGradient(w-x/3,h-x/3,0,w,h,x);j.addColorStop(0,"rgba(255, 255, 255, 0.9)"),j.addColorStop(.6,b.color),j.addColorStop(1,b.color+"CC"),L.fillStyle=j,L.beginPath(),L.arc(w,h,x,0,Math.PI*2),L.fill(),L.fillStyle="rgba(255, 255, 255, 0.7)",L.beginPath(),L.arc(w-x/3,h-x/3,x/3,0,Math.PI*2),L.fill(),L.strokeStyle="#8B4513",L.lineWidth=2,L.beginPath(),L.moveTo(w,h+x),L.lineTo(w+5,h+x+15),L.stroke(),L.font="20px Arial",L.textAlign="center",L.fillText(b.emoji,w,h+7)}),p.forEach(b=>{const w=b.life/b.maxLife;L.fillStyle=b.color+Math.floor(w*255).toString(16).padStart(2,"0"),L.beginPath(),L.arc(b.x,b.y,b.size,0,Math.PI*2),L.fill()}),k.forEach(b=>{const w=b.x,h=b.y;L.fillStyle="#ffff00",L.beginPath(),L.arc(w,h,15,0,Math.PI*2),L.fill(),L.fillStyle="#000000",L.font="12px Arial",L.textAlign="center",L.fillText("",w,h+4)}),L.fillStyle="rgba(0, 0, 0, 0.7)",L.fillRect(10,10,E.width-20,60),L.fillStyle="#ffffff",L.font="bold 24px Arial",L.textAlign="center",L.fillText(s.currentPrompt,E.width/2,40),s.streak>0&&(L.fillStyle="#ffff00",L.font="bold 18px Arial",L.textAlign="left",L.fillText(`STREAK: ${s.streak}`,20,E.height-20)),L.restore()}e.current=requestAnimationFrame(f)},[s,c,p,k,Z]);return $.useEffect(()=>{const y=n.current;if(!y)return;const E=()=>{const U=y.parentElement;if(U){const L=U.getBoundingClientRect();let N=L.width,b=L.height;const w=Math.min(L.width*.95,i?400:1200),h=Math.min(L.height*.84,i?600:720);N=Math.min(N,w),b=Math.min(b,h);const x=N<=400;x&&(N=Math.max(N,350),b=Math.max(b,500)),y.width=Math.floor(N),y.height=Math.floor(b);const j=window.devicePixelRatio||1;if(j>1&&!x){y.width*=j,y.height*=j,y.style.width=N+"px",y.style.height=b+"px";const q=y.getContext("2d");q&&q.scale(j,j)}}};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),$.useEffect(()=>{const y=n.current;if(!y)return;const E=N=>{const b=y.getBoundingClientRect(),w=window.devicePixelRatio||1,h=y.width<=400?1:w;r.current={x:(N.clientX-b.left)*(y.width/b.width/h),y:(N.clientY-b.top)*(y.height/b.height/h)}},U=N=>{if(!s.isPlaying||s.isPaused)return;const b=y.getBoundingClientRect(),w=window.devicePixelRatio||1,h=y.width<=400?1:w,x=(N.clientX-b.left)*(y.width/b.width/h),j=(N.clientY-b.top)*(y.height/b.height/h);d(q=>{for(const re of q){if(re.isPopped)continue;const le=x-re.x,fe=j-re.y;if(Math.hypot(le,fe)<=re.radius){const Ie=re.colorName===s.promptColor;ee(re,Ie),re.isPopped=!0;break}}return q.filter(re=>!re.isPopped)})},L=N=>{if(!s.isPlaying||s.isPaused)return;N.preventDefault();const b=y.getBoundingClientRect(),w=window.devicePixelRatio||1,h=y.width<=400?1:w,x=N.touches[0],j=(x.clientX-b.left)*(y.width/b.width/h),q=(x.clientY-b.top)*(y.height/b.height/h);d(re=>{for(const le of re){if(le.isPopped)continue;const fe=j-le.x,Ie=q-le.y;if(Math.hypot(fe,Ie)<=le.radius){const Ze=le.colorName===s.promptColor;ee(le,Ze),le.isPopped=!0;break}}return re.filter(le=>!le.isPopped)})};return y.addEventListener("mousemove",E),y.addEventListener("click",U),y.addEventListener("touchstart",L,{passive:!1}),()=>{y.removeEventListener("mousemove",E),y.removeEventListener("click",U),y.removeEventListener("touchstart",L)}},[s.isPlaying,s.isPaused,c,ne,ae]),$.useEffect(()=>(s.isPlaying&&!s.isPaused&&(e.current=requestAnimationFrame(f)),()=>{e.current&&cancelAnimationFrame(e.current)}),[f,s.isPlaying,s.isPaused]),S.jsx("div",{className:"w-full h-full max-w-7xl mx-auto",children:S.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-blue-900 via-purple-900 to-pink-900 backdrop-blur-sm rounded-lg border border-blue-500/20 p-2 sm:p-4 max-h-[96vh]",children:[S.jsxs("div",{className:`flex justify-center items-center mb-2 gap-1 sm:gap-2 md:gap-4 ${i?"flex-wrap":""}`,children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-blue-400/60 font-mono uppercase tracking-wider",children:"SCORE"}),S.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-blue-400",children:s.score.toString().padStart(6,"0")})]}),S.jsx("div",{className:"text-blue-400/30",children:"|"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-purple-400/60 font-mono uppercase tracking-wider",children:"LEVEL"}),S.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-purple-400",children:s.level.toString().padStart(2,"0")})]}),S.jsx("div",{className:"text-blue-400/30",children:"|"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-pink-400/60 font-mono uppercase tracking-wider",children:"LIVES"}),S.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-pink-400",children:s.lives})]}),S.jsx("div",{className:"text-blue-400/30",children:"|"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-green-400/60 font-mono uppercase tracking-wider",children:"TARGET"}),S.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-green-400",children:s.target})]}),S.jsx("div",{className:"text-blue-400/30",children:"|"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-[8px] sm:text-[10px] md:text-xs text-yellow-400/60 font-mono uppercase tracking-wider",children:"TIME"}),S.jsx("span",{className:"text-xs sm:text-sm md:text-base font-bold font-mono text-yellow-400",children:Math.ceil(s.timeLeft)})]})]}),S.jsxs("div",{className:"relative flex-1 flex items-center justify-center max-h-[72vh]",children:[S.jsx("canvas",{ref:n,className:`bg-black rounded touch-none select-none w-full h-full ${s.isPlaying&&!s.isPaused?i?"cursor-none":"cursor-crosshair":"cursor-default"}`,style:{imageRendering:"pixelated",maxWidth:"100%",maxHeight:"100%",touchAction:"none",userSelect:"none"}}),!s.isPlaying&&!s.gameOver&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 backdrop-blur-sm rounded",children:[S.jsx("h1",{className:`font-bold text-white mb-4 text-center ${i?"text-3xl":"text-4xl md:text-6xl"}`,children:" POP POP"}),S.jsx("p",{className:`text-gray-300 mb-2 text-center ${i?"text-base":"text-lg md:text-xl"}`,children:i?"Tap balloons to pop them!":"Click on balloons to pop them!"}),S.jsx("p",{className:`text-gray-300 mb-8 text-center ${i?"text-sm":"text-lg md:text-xl"}`,children:"Only pop the color shown in the prompt - wrong colors cost lives!"}),S.jsx("button",{onClick:V,className:`bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-colors duration-200 border-2 border-blue-400 ${i?"px-6 py-3 text-lg":"px-8 py-4 text-xl"}`,children:"START POPPING"})]}),s.gameOver&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-900/50 backdrop-blur-sm rounded",children:[S.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-red-400 mb-4 text-center",children:" GAME OVER"}),S.jsxs("p",{className:"text-2xl md:text-3xl text-white mb-2",children:["Final Score: ",s.score]}),S.jsxs("p",{className:"text-lg md:text-xl text-gray-300 mb-8",children:["High Score: ",s.highScore]}),S.jsx("button",{onClick:V,className:"px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-bold text-xl rounded-lg transition-colors duration-200 border-2 border-red-400",children:"PLAY AGAIN"})]}),s.isPaused&&S.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-blue-900/50 backdrop-blur-sm rounded",children:[S.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-blue-400 mb-8 text-center",children:" PAUSED"}),S.jsx("button",{onClick:D,className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold text-xl rounded-lg transition-colors duration-200 border-2 border-blue-400",children:"RESUME GAME"})]}),s.isPlaying&&!s.isPaused&&S.jsxs("div",{className:`absolute bottom-4 left-4 right-4 flex justify-between items-center text-white ${i?"text-xs":"text-sm"}`,children:[S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("span",{children:i?"Tap balloons to pop":"Click balloons to pop"})}),S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("span",{children:"Follow the prompt!"})})]})]})]})})}const vm=[{id:"cyber-defense",name:"Cyber Defence",description:"Defend your base from incoming cyber attacks in this tower defense game",icon:"",component:Gj,isAvailable:!0,stakingRequirement:1e10,tier:1},{id:"pop-pop",name:"Pop Pop",description:"Click the right colored balloons as they fall! Follow the prompts and avoid wrong colors to build your streak",icon:"",component:Yj,isAvailable:!0,stakingRequirement:1e10,tier:1}];function Zj(){const[n,e]=$.useState(null),{userData:t,stakingDecimals:r}=Ic(),i=p=>{e(p)},s=()=>{e(null)},l=t?.staked||0;console.log(" Games Section Debug:",{userStakedAmount:l,stakingDecimals:r,userStakedFormatted:l/Math.pow(10,r),games:vm.map(p=>({name:p.name,requirement:p.stakingRequirement,requirementFormatted:p.stakingRequirement/Math.pow(10,r),canAccess:l>=p.stakingRequirement}))});const c=p=>p.isAvailable?l>=p.stakingRequirement:!1,d=p=>r>0?(p/Math.pow(10,r)).toLocaleString():p.toLocaleString();if(n){const p=vm.find(m=>m.id===n);if(p&&c(p)){const m=p.component;return S.jsxs("div",{children:[S.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 mb-6",children:S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white transition-colors",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),S.jsx("span",{className:"text-2xl",children:p.icon}),S.jsx("h1",{className:"text-2xl font-bold text-white",children:p.name})]})})}),S.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-6",children:S.jsx(m,{})})]})}else if(p&&!c(p))return S.jsxs("div",{children:[S.jsx("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 mb-6",children:S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white transition-colors",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),S.jsx("span",{className:"text-2xl",children:p.icon}),S.jsx("h1",{className:"text-2xl font-bold text-white",children:p.name})]})}),S.jsxs("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-6 text-center",children:[S.jsx("div",{className:"text-6xl mb-4",children:""}),S.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Restricted"}),S.jsxs("p",{className:"text-gray-300 mb-6",children:["You need to stake at least ",S.jsxs("span",{className:"font-bold text-yellow-400",children:[d(p.stakingRequirement)," tokens"]})," to access this game."]}),S.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:S.jsxs("p",{className:"text-yellow-400 text-sm",children:["Current staked: ",S.jsxs("span",{className:"font-bold",children:[r>0?(l/Math.pow(10,r)).toLocaleString():l.toLocaleString()," tokens"]})]})})]})]})}return S.jsxs("div",{children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:" Games Hub"}),S.jsx("p",{className:"text-gray-300 text-sm md:text-base",children:"Choose your adventure and earn rewards while playing!"})]}),S.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-lg p-4 mb-6",children:[S.jsx("h2",{className:"text-lg font-bold text-white mb-3",children:" Game Access"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-2xl mb-2",children:""}),S.jsx("h3",{className:"font-semibold text-white mb-1",children:"Locked"}),S.jsx("p",{className:"text-sm text-gray-300",children:"Less than 10,000 tokens"}),S.jsx("p",{className:"text-xs text-red-400",children:"No game access"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-2xl mb-2",children:""}),S.jsx("h3",{className:"font-semibold text-white mb-1",children:"Unlocked"}),S.jsx("p",{className:"text-sm text-gray-300",children:"10,000+ tokens"}),S.jsx("p",{className:"text-xs text-green-400",children:"All Games Available"})]})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6",children:vm.map(p=>{const m=c(p);return S.jsx("div",{className:`bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 md:p-6 transition-all duration-200 ${m?"hover:bg-white/5 hover:border-white/20 cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>m&&i(p.id),children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-4xl md:text-6xl mb-3 md:mb-4",children:p.icon}),S.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-2",children:p.name}),S.jsx("p",{className:"text-gray-300 text-sm mb-4",children:p.description}),S.jsxs("div",{className:"mb-3",children:[S.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Staking Required"}),S.jsxs("div",{className:"text-sm font-semibold text-yellow-400",children:[d(p.stakingRequirement)," tokens"]})]}),p.isAvailable?m?S.jsx("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:S.jsx("span",{className:"text-xs md:text-sm",children:" Available"})}):S.jsx("div",{className:"flex items-center justify-center space-x-2 text-red-400",children:S.jsx("span",{className:"text-xs md:text-sm",children:" Locked"})}):S.jsx("div",{className:"flex items-center justify-center space-x-2 text-yellow-400",children:S.jsx("span",{className:"text-xs md:text-sm",children:" Coming Soon"})}),p.isAvailable&&!m&&S.jsxs("div",{className:"mt-3",children:[S.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:S.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,l/p.stakingRequirement*100)}%`}})}),S.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Math.round(l/p.stakingRequirement*100),"% to unlock"]})]})]})},p.id)})}),S.jsxs("div",{className:"bg-black/20 backdrop-blur-sm border border-white/10 rounded-lg p-4 md:p-6",children:[S.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4",children:" How Games Work"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:""}),S.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Play & Earn"}),S.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Complete games and earn tokens based on your performance"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:""}),S.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Leaderboards"}),S.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Compete with other players and climb the rankings"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-3xl md:text-4xl mb-3",children:""}),S.jsx("h3",{className:"text-base md:text-lg font-semibold text-white mb-2",children:"Rewards"}),S.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Unlock special rewards and achievements"})]})]})]})]})}function Xj(){return Lk(),$.useEffect(()=>{window.scrollTo(0,0)},[]),S.jsx("div",{id:"games",className:"relative min-h-screen",children:S.jsxs("div",{className:"container py-12",children:[S.jsxs("header",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4",children:S.jsx("span",{className:"text-gradient",children:"Games"})}),S.jsx("p",{className:"text-foreground/80 max-w-2xl mx-auto text-lg",children:"Play interactive games and earn rewards based on your staking tier. The more you stake, the more games you unlock!"})]}),S.jsx(Zj,{})]})})}const Qj=()=>{const n=sf();return $.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),S.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),S.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function Jj(){const[n,e]=$.useState(!1),[t,r]=$.useState(0),[i,s]=$.useState(!1),{walletAddress:l,connectWallet:c,disconnectWallet:d,isAdmin:p}=Ic(),m=$N(),k=sf();$.useEffect(()=>{const z=()=>e(window.scrollY>24);return z(),window.addEventListener("scroll",z,{passive:!0}),()=>window.removeEventListener("scroll",z)},[]),$.useEffect(()=>{const z=()=>{const F=document.documentElement.scrollHeight-window.innerHeight,Y=F>0?Math.min(1,window.scrollY/F):0;r(Y);const te=document.getElementById("scroll-progress");te&&(te.style.transform=`scaleX(${Y})`),document.documentElement.style.setProperty("--scroll-progress",`${Y}`)};return z(),window.addEventListener("scroll",z,{passive:!0}),window.addEventListener("resize",z),()=>{window.removeEventListener("scroll",z),window.removeEventListener("resize",z)}},[]);const _=()=>{document.documentElement.classList.toggle("dark")},v=async()=>{try{await c()}catch(z){console.error("Failed to connect wallet:",z),alert(z instanceof Error?z.message:"Failed to connect wallet")}},C=()=>{d()},I=z=>{if(s(!1),k.pathname==="/"){const K=document.getElementById(z);K&&K.scrollIntoView({behavior:"smooth"})}else m(`/#${z}`)},T=()=>{s(!i)};return S.jsxs("header",{className:en("sticky top-0 z-50 w-full transition-all",n?"backdrop-blur-md bg-background/70 border-b border-white/6":"bg-transparent"),children:[S.jsx("div",{id:"scroll-progress"}),S.jsxs("div",{className:"container relative flex h-20 items-center justify-between",children:[S.jsxs("a",{href:"#home",className:"inline-flex items-center gap-3",children:[S.jsx("span",{className:"inline-block h-6 w-6 rounded-md",style:{background:"linear-gradient(135deg, hsl(var(--solana-mint)), hsl(var(--solana-purple)))"}}),S.jsx("span",{className:"font-medium tracking-tight text-sm",children:"NPC Stake"})]}),S.jsxs("nav",{className:"hidden md:flex gap-10 items-center text-sm font-medium opacity-90",children:[S.jsx("button",{onClick:()=>I("how"),className:"nav-link",children:"How it works"}),S.jsx("button",{onClick:()=>I("rewards"),className:"nav-link",children:"Rewards"}),S.jsx("button",{onClick:()=>I("stake"),className:"nav-link",children:"Stake"}),S.jsx("a",{href:"/games",className:"nav-link",children:"Games"}),S.jsx("button",{onClick:()=>I("faq"),className:"nav-link",children:"FAQ"}),p&&S.jsx("a",{href:"/admin",className:"nav-link text-accent",children:"Admin"})]}),S.jsx("div",{className:"md:hidden absolute left-1/2 transform -translate-x-1/2",children:S.jsx(Xt,{variant:"ghost",size:"sm",onClick:T,className:"p-2","aria-label":"Toggle mobile menu",children:i?S.jsx(Rb,{className:"h-5 w-5"}):S.jsx(EP,{className:"h-5 w-5"})})}),S.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[S.jsx(Xt,{variant:"ghost",size:"sm",onClick:_,"aria-label":"Toggle theme",children:S.jsx(Hd,{})}),l?S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-xs text-foreground/70",children:"Connected"}),S.jsxs("div",{className:"font-mono text-sm text-green-400",children:[l.slice(0,4),"...",l.slice(-4)]})]}),S.jsxs(Xt,{size:"sm",className:"btn-gradient",onClick:()=>I("stake"),children:[S.jsx(Bu,{className:"mr-2"}),"Stake"]}),S.jsx(Xt,{size:"sm",variant:"outline",className:"glass",onClick:C,children:"Disconnect"})]}):S.jsxs(Xt,{size:"sm",variant:"outline",className:"glass",onClick:v,children:[S.jsx(Bu,{className:"mr-2"}),"Connect Wallet"]})]}),S.jsx("div",{className:"md:hidden",children:l?S.jsxs(Xt,{size:"sm",className:"btn-gradient",onClick:()=>I("stake"),children:[S.jsx(Bu,{className:"mr-2"}),"Stake"]}):S.jsxs(Xt,{size:"sm",variant:"outline",className:"glass",onClick:v,children:[S.jsx(Bu,{className:"mr-2"}),"Connect"]})})]}),i&&S.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-background/95 backdrop-blur-md border-b border-white/10",children:S.jsxs("div",{className:"container py-4 space-y-4",children:[S.jsxs("nav",{className:"flex flex-col space-y-3",children:[S.jsx("button",{onClick:()=>I("how"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"How it works"}),S.jsx("button",{onClick:()=>I("rewards"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"Rewards"}),S.jsx("button",{onClick:()=>I("stake"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"Stake"}),S.jsx("a",{href:"/games",className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",onClick:()=>s(!1),children:"Games"}),S.jsx("button",{onClick:()=>I("faq"),className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:"FAQ"}),p&&S.jsx("a",{href:"/admin",className:"text-left py-2 px-3 rounded-lg hover:bg-white/5 transition-colors text-accent",onClick:()=>s(!1),children:"Admin"})]}),l&&S.jsxs("div",{className:"pt-4 border-t border-white/10",children:[S.jsx("div",{className:"text-xs text-foreground/70 mb-2",children:"Connected"}),S.jsxs("div",{className:"font-mono text-sm text-green-400 mb-3",children:[l.slice(0,4),"...",l.slice(-4)]}),S.jsx(Xt,{size:"sm",variant:"outline",className:"glass w-full",onClick:C,children:"Disconnect"})]})]})})]})}function eF(){return S.jsxs("footer",{className:"relative mt-20 border-t border-white/10",children:[S.jsx("div",{className:"absolute inset-x-0 -top-px h-px bg-gradient-to-r from-transparent via-primary/60 to-transparent"}),S.jsxs("div",{className:"container py-10 text-sm flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsxs("div",{className:"opacity-80",children:[" ",new Date().getFullYear()," NPC Stake. Built for the Solana ecosystem."]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("a",{href:"https://discord.com/invite/nickplayscrypto",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"Discord",children:S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),S.jsx("a",{href:"https://x.com/NickPlaysCrypto",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"X (Twitter)",children:S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),S.jsx("a",{href:"https://dexscreener.com/solana/6mpafrxmywfyojaunxdqgw9sq2mhpuh3d6daw3xipump",target:"_blank",rel:"noopener noreferrer",className:"text-foreground/60 hover:text-foreground transition-colors","aria-label":"DexScreener",children:S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})})]})]})]})}const tF=new uN;function nF(){return S.jsx(fN,{client:tF,children:S.jsx(Tj,{children:S.jsx(Cj,{children:S.jsxs(DC,{children:[S.jsx(yR,{}),S.jsx(XR,{}),S.jsx(lB,{children:S.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[S.jsx(Jj,{}),S.jsx("main",{className:"flex-1",children:S.jsxs(iB,{children:[S.jsx(ql,{path:"/",element:S.jsx(Bj,{})}),S.jsx(ql,{path:"/admin",element:S.jsx(Hj,{})}),S.jsx(ql,{path:"/games",element:S.jsx(Xj,{})}),S.jsx(ql,{path:"*",element:S.jsx(Qj,{})})]})}),S.jsx(eF,{})]})})]})})})})}vR.createRoot(document.getElementById("root")).render(S.jsx(nF,{}));export{Fr as A,ct as B,oe as L,fA as M,_e as P,jn as T,$t as a,js as b,w0 as c,tj as d,v0 as e,Ql as f,cj as g,aA as h,nj as i,lA as j,zd as k,cA as l,aj as m,$d as n,dA as o,Ui as p,$x as q,oj as r,pm as s,dF as t,gd as u,ij as v,Ho as w,sj as x,rj as y,uA as z};
